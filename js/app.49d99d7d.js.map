{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Expand.vue?7d37","webpack:///external \"vuedraggable\"","webpack:///external \"bootstrap\"","webpack:///./src/components/GridSchedule.vue?2507","webpack:///./src/components/autocomplete/VueTypeaheadBootstrap.vue?4909","webpack:///./src/components/tabs/ExportView.vue?1c67","webpack:///./src/components/ClassList.vue?9909","webpack:///./src/components/Expand.vue?6586","webpack:///./src/components/tabs/External.vue?ab8d","webpack:///./src/assets/placeholder.jpg","webpack:///external \"Papa\"","webpack:///./src/assets/cover.jpg","webpack:///./src/components/tabs/ClassView.vue?3030","webpack:///./src/components/tabs/PaletteView.vue?a55d","webpack:///./src/components/modals/CourseModal.vue?e2ea","webpack:///./src/components/autocomplete/VueTypeaheadBootstrapListItem.vue?ee2c","webpack:///external \"jQuery\"","webpack:///./src/components/modals/SectionModal.vue?b7b9","webpack:///./src/utils/time.ts","webpack:///./src/utils/other.ts","webpack:///./src/models/constants.ts","webpack:///./src/utils/ICal.ts","webpack:///./src/App.vue?fc7f","webpack:///./src/components/MainContent.vue?0328","webpack:///./src/algorithm/Searcher.ts","webpack:///./src/models/Catalog.ts","webpack:///./src/models/Course.ts","webpack:///./src/models/Meeting.ts","webpack:///./src/models/Section.ts","webpack:///./src/config.example.ts","webpack:///./src/config.ts","webpack:///./src/models/Event.ts","webpack:///./src/models/ScheduleBlock.ts","webpack:///./src/data/ColorSchemes.ts","webpack:///./src/algorithm/Renderer.ts","webpack:///./src/models/Schedule.ts","webpack:///./src/models/ProposedSchedule.ts","webpack:///./src/models/GeneratedSchedule.ts","webpack:///./src/algorithm/ScheduleEvaluator.ts","webpack:///./src/algorithm/ScheduleGenerator.ts","webpack:///./src/store/display.ts","webpack:///./src/store/notification.ts","webpack:///./src/store/filter.ts","webpack:///./src/store/modal.ts","webpack:///./src/store/palette.ts","webpack:///./src/store/profile.ts","webpack:///./src/store/schedule.ts","webpack:///./src/data/Loader.ts","webpack:///./src/data/SemesterListLoader.ts","webpack:///./src/data/CatalogDB.ts","webpack:///./src/data/CatalogLoader.ts","webpack:///./src/store/semester.ts","webpack:///./src/store/status.ts","webpack:///./src/store/index.ts","webpack:///./src/components/MainContent.ts","webpack:///./src/components/Expand.vue?e9be","webpack:///./src/components/MainContent.ts?ac56","webpack:///./src/components/MainContent.vue","webpack:///./src/components/tabs/ClassView.vue?ddfa","webpack:///./src/components/ClassList.vue?80e6","webpack:///src/components/Expand.vue","webpack:///./src/components/Expand.vue?f808","webpack:///./src/components/ClassList.ts","webpack:///./src/components/ClassList.ts?590a","webpack:///./src/components/ClassList.vue","webpack:///./src/components/autocomplete/VueTypeaheadBootstrap.vue?ec8a","webpack:///./src/components/autocomplete/VueTypeaheadBootstrapList.vue?ef12","webpack:///./src/components/autocomplete/VueTypeaheadBootstrapListItem.vue?3e3a","webpack:///src/components/autocomplete/VueTypeaheadBootstrapListItem.vue","webpack:///./src/components/autocomplete/VueTypeaheadBootstrapListItem.vue?0fcb","webpack:///./src/components/autocomplete/VueTypeaheadBootstrapListItem.vue","webpack:///src/components/autocomplete/VueTypeaheadBootstrapList.vue","webpack:///./src/components/autocomplete/VueTypeaheadBootstrapList.vue?8269","webpack:///./src/components/autocomplete/VueTypeaheadBootstrapList.vue","webpack:///src/components/autocomplete/VueTypeaheadBootstrap.vue","webpack:///./src/components/autocomplete/VueTypeaheadBootstrap.vue?bed2","webpack:///./src/components/autocomplete/VueTypeaheadBootstrap.vue","webpack:///./src/components/tabs/ClassView.ts","webpack:///./src/components/tabs/ClassView.ts?60d5","webpack:///./src/components/tabs/ClassView.vue?5f4f","webpack:///./src/components/tabs/CompareView.vue?b72e","webpack:///./src/components/DateSeparator.vue?c077","webpack:///./src/components/DateSeparator.ts","webpack:///./src/components/DateSeparator.ts?7461","webpack:///./src/components/DateSeparator.vue","webpack:///./src/components/GridSchedule.vue?e813","webpack:///./src/components/GridSchedule.ts","webpack:///./src/components/GridSchedule.ts?ebe0","webpack:///./src/components/GridSchedule.vue","webpack:///./src/components/tabs/CompareView.ts","webpack:///./src/components/tabs/CompareView.ts?e998","webpack:///./src/components/tabs/CompareView.vue","webpack:///./src/components/tabs/DisplayView.vue?7fc5","webpack:///./src/components/tabs/DisplayView.ts","webpack:///./src/components/tabs/DisplayView.ts?2989","webpack:///./src/components/tabs/DisplayView.vue","webpack:///./src/components/tabs/EventView.vue?904c","webpack:///./src/components/tabs/EventView.ts","webpack:///./src/components/tabs/EventView.ts?e73a","webpack:///./src/components/tabs/EventView.vue","webpack:///./src/components/tabs/ExportView.vue?6300","webpack:///./src/components/tabs/ExportView.ts","webpack:///./src/components/tabs/ExportView.ts?1909","webpack:///./src/components/tabs/ExportView.vue","webpack:///./src/components/tabs/External.vue?10cd","webpack:///./src/components/tabs/External.vue","webpack:///./src/components/tabs/External.vue?d415","webpack:///./src/components/tabs/External.vue?5021","webpack:///./src/components/tabs/FilterView.vue?bd08","webpack:///./src/components/tabs/FilterView.ts","webpack:///./src/components/tabs/FilterView.ts?1424","webpack:///./src/components/tabs/FilterView.vue","webpack:///./src/components/tabs/PaletteView.vue?34e4","webpack:///./src/components/tabs/PaletteView.ts","webpack:///./src/components/tabs/PaletteView.ts?a243","webpack:///./src/components/tabs/PaletteView.vue","webpack:///./src/components/tabs/FuzzyView.vue?face","webpack:///./src/components/tabs/FuzzyView.ts","webpack:///./src/components/tabs/FuzzyView.ts?1d9f","webpack:///./src/components/tabs/FuzzyView.vue","webpack:///./src/components/tabs/LogView.vue?84fb","webpack:///./src/components/tabs/LogView.ts","webpack:///./src/components/tabs/LogView.ts?c33e","webpack:///./src/components/tabs/LogView.vue","webpack:///./src/components/Pagination.vue?3a9a","webpack:///./src/components/Pagination.ts","webpack:///./src/components/Pagination.ts?1537","webpack:///./src/components/Pagination.vue","webpack:///./src/components/modals/CourseModal.vue?7d9f","webpack:///./src/components/modals/CourseModal.ts","webpack:///./src/components/modals/CourseModal.ts?1042","webpack:///./src/components/modals/CourseModal.vue","webpack:///./src/components/modals/SectionModal.vue?f9dd","webpack:///./src/components/modals/SectionModal.ts","webpack:///./src/components/modals/SectionModal.ts?711b","webpack:///./src/components/modals/SectionModal.vue?0442","webpack:///./src/components/modals/URLModal.vue?c3b7","webpack:///./src/components/modals/URLModal.ts","webpack:///./src/components/modals/URLModal.ts?d720","webpack:///./src/components/modals/URLModal.vue","webpack:///./src/components/modals/VersionModal.vue?7783","webpack:///./src/components/modals/VersionModal.ts","webpack:///./src/components/modals/VersionModal.ts?9554","webpack:///./src/components/modals/VersionModal.vue","webpack:///./src/data/BuildingLoader.ts","webpack:///./src/App.ts","webpack:///./src/App.ts?1f59","webpack:///./src/App.vue?bff9","webpack:///./src/store/watch.ts","webpack:///./src/main.ts","webpack:///./src/components/MainContent.vue?c84b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","vuedraggable","bootstrap","Papa","jQuery","to12hr","time","sep","split","hr","to24hr","pre","substring","hour","minute","numHour","suffix","toString","padStart","hr24toInt","hr12toInt","parseTimeAll","days","start","end","dayList","substr","parseDate","date","sm","sd","sy","startDate","Date","UTC","em","ed","ey","endDate","calcOverlap","a","b","Math","min","max","intTo24hr","num","floor","highlightMatch","str","expMatch","matches","lastEnd","match","hashCode","hval","charCodeAt","cancelablePromise","cancel","res","catch","reason","msg","savePlain","filename","Blob","errToStr","errStr","response","isNumberArray","x","Array","isArray","async","getReleaseNote","notes","post","text","body","context","values","join","GeneratedError","super","this","dayToInt","freeze","Mo","Tu","We","Th","Fr","Sa","Su","DAYS","dateToICalString","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","calcStartDate","prevStart","day","dayOffset","getDay","getTime","toICalEventString","uid","until","summary","description","location","startMin","endMin","timeZone","ical","toUpperCase","toICal","schedule","dateArray","catalog","sections","id","current","ids","parsed","parseInt","isNaN","sec","getSectionById","meeting","meetings","displayName","title","room","warn","events","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","saveStatus","version","modal","course","semester","section","url","class","sideBar","showSelectClass","status","switchSideBar","showFuzzy","showEvent","showFilter","showSetting","showSelectColor","showExport","profile","tokenType","profiles","some","remote","staticStyle","_e","showCompare","display","showLog","showInfo","showExternal","currentSchedule","computeSchedule","addToCompare","_v","indexOfCompare","staticRenderFns","style","width","scheduleWidth","isMobile","scheduleLeft","noti","directives","rawName","domProps","_s","clear","_t","_m","showReleaseNoteModal","allocateStr","Module","strLen","ptr","_malloc","stringToUTF8","prepareQuery","query","gramLen","FastSearcher","items","toStr","originals","NativeModule","strArrPtr","HEAPU32","replace","toLowerCase","_getSearcher","numResults","threshold","allMatches","resultPtr","_sWSearch","total","idxArr","HEAP32","subarray","idx","matchPtr","_getMatches","score","_getScore","index","_getMatchSize","_findBestMatch","scores","Map","toMatches","modified","courseDict","courses","sectionMap","set","titleSearcher","obj","descriptionSearcher","topicSearcher","topic","instrSearcher","instructors","roomSearcher","rooms","getCourse","find","results","weight","temp","courseScore","courseResults","sectionScore","scoreEntry","secResults","trim","queryNoSp","field","startsWith","rest","_query","prepQuery","processCourseResults","sWSearch","processSectionResults","scoreEntries","from","map","_","size","sort","filter","entry","finalResults","secMatches","keys","maxResults","len","searchKey","searchField","searchSectionField","keyIdx","indexOf","deptLen","department","targetIdx","prev","findIndex","mIdx","appendToResult","Set","concat","combSecMatches","mats","prevMats","number","units","sameTimeAs","combined","combinedTime","element","includes","getCombinedMeeting","mask","count","maxLevel","Validity","valid","level","msgStr","other","every","reduce","acc","v","dates","dayArray","searcher","buildingSearcher","tmp1","timeBlock","dayBlock","rating","findBestMatch","runningOnElectron","navigator","userAgent","ui","sideBarWidth","sideMargin","tabBarWidthMobile","tabBarWidth","semesterListExpirationTime","semesterDataExpirationTime","TYPES","0","1","2","3","4","5","6","7","8","9","TYPES_PARSE","Clinical","CLN","Discussion","DIS","Drill","DRL","IND","Laboratory","LAB","Lecture","LEC","Practicum","PRA","Seminar","SEM","Studio","STO","Workshop","WKS","backend","buildings","requestBuildingSearcher","distances","requestTimeMatrix","semesters","requestSemesterList","requestCourses","action","viewEvals","viewGrades","open","viewCourseforum","viewHpEvals","addr","lAddr","encodeURIComponent","param","getApi","host","protocol","flattened","Int32Array","Semester","Group","Description","submit","Extended","random","parseSemesterData","skipEmptyLines","header","now","rawData","allSections","instructor","meetingDate","startT","endT","k","enrollment","enrollment_limit","wait_list","allCourses","innerHTML","options","records","option","semesterId","html","Boolean","tStart","tEnd","ScheduleBlock","background","left","strong","colors","isTolerance","ISMethod","applyDFS","tolerance","LPIters","LPModel","showFixed","MILP","tFactor","computeBlockPositions","_setOptions","N","sum","sumSq","blocks","bufPtr","u16","Int16Array","HEAPU8","buffer","rPtr","_compute","alert","Float64Array","_getSum","_getSumSq","arr","Uint8Array","raw","All","totalCredit","colorSlots","dateSelector","_preview","pendingCompute","dateSeparators","empty","constructDateSeparator","shortAll","group","toJSONShort","fromJSONShort","AllCopy","userColor","savedColors","hash","add","block","hover","sync","_computeSchedule","cleanSchedule","fullCourse","_creditStr","parseFloat","credit","forEach","place","multiSelect","getCombined","secs","crs","found","has","totalBlocks","seal","constructDateSeparatorFromDateList","_temp","checkDate","color","getColor","placeHelper","allSameTime","courseSec","firstSec","combineSections","dayTimes","daysStr","cleanDays","_id","rendered","g","merged","isTBD","first","days1","days2","allEquals","val1","val2","bigFlag","v1","v2","flag","is_v5_v7","is_v8","filterSections","warnings","convKey","record","groupIdx","remove","update","delete","isCourseEmpty","pop","ev","setPrototypeOf","payload","parts","sid","deepCopyEvent","_copy","copy","maxDuration","minDuration","generatedMsg","tempAll","SortMode","sortBy","classList","secLens","refSchedule","_size","_refSchedule","numCourses","refScheduleEncoded","HEAPU16","fill","refSecs","_setRefSchedule","newOptions","_setSortMode","_setSortOption","enabled","reverse","_sort","_getSchedule","choice","opt","_getRange","checkTimeConflict","timeArray1","timeArray2","step1","step2","day1","day2","begin1","end1","timeArrayToCompact","timeArrays","numSections","prefixLen","computeConflict","timeArrayList","dateList","conflictCache","timeMatrix","timeSlots","toTimeArray","msgs","noSelected","subgroup","courseRec","classes","allInvalid","secLenPtr","conflictCachePtr","_generate","maxNumSchedules","evaluator","sortOptions","msgString","outer","timeArray","getTimeRoom","td","secIndices","bound","low","high","showTime","showRoom","showInstructor","showClasslistTitle","showSuffix","standard","expandOnEntering","enableLog","showWeekend","_fullHeight","_partialHeight","_maxNumSchedules","_numSearchResults","_earliest","_latest","_width","_colorScheme","bits","counter","displaySettings","defaultVal","getDefault","val","defVal","CLAS","info","success","LEVELS","danger","warning","Notification","cls","history","job","override","unshift","stamp","toLocaleTimeString","notify","defaultOptions","exclusive","rawSort","getDefaultOptions","assign","scheduleEvaluator","allowWaitlist","allowClosed","sortModes","fallback","filterBits","sortBits","initials","weights","fromJSON","timeSlot","compressJSON","toJSON","slots","ref","slot","sortCopy","initial","sortOpt","decompressJSON","startTime","endTime","others","note","localStorage","getItem","JSON","parse","createProfile","loadToken","accessToken","sem","oldData","removeItem","setItem","stringify","latest","versions","currentVersion","msgBuffer","TextEncoder","encode","hashBuffer","crypto","subtle","digest","hashArray","hashHex","oauth_electron_redirect_uri","origin","code_verifier","state","client_id","redirect_uri","getRedirectURL","code_challenge","sha256","code_challenge_method","token","grant_type","oldName","newName","newProf","resp","requestBackend","edit","logout","requestRemote","deleteRemote","newProfile","fallbackName","overwriteMsg","prof","confirm","uploadProfile","new","endpoint","headers","Authorization","down","up","remoteProfMap","deleteProfile","p2","needUpload","needDownload","remoteProf","remoteVersions","localRaw","localProf","localTime","remoteTime","proposedSchedules","currentScheduleIndex","proposedScheduleIndex","cpIndex","generated","switchSchedule","switchProposed","proposedSchedule","numGenerated","switchPage","getSchedule","clean","defaultState","proposed","defaultValidator","loadFromCache","construct","expireTime","Infinity","store","validator","force","storage","newData","old","succMsg","warnMsg","errMsg","timeoutTime","err2","loadSemesterList","stores","meta","table","put","saveToDB","db","bulkAdd","saveTimeStamp","retrieveFromDB","secMap","toArray","item","rawCourse","loadSemesterData","timestamp","lastUpdate","pendingPromise","currentSemester","toLocaleString","Status","screen","height","loading","eventToEdit","foldAllSideBar","bar","isAncient","isLegacy","pendingStatusSave","_saveStatus","isLatest","palette","compare","selectSemester","ancient","oldStore","newStore","colorScheme","generateSchedules","recomputeAll","similarityOption","similarityEnabled","filteredStatus","computeFilter","validateSortOptions","foldView","getGeneratorOptions","generator","getSchedules","parsedLatest","addProfile","loadProfile","jsonString","parseFromURL","config","decompressFromEncodedURIComponent","sideBarActive","component","_l","queryTypes","_k","keyCode","closeClassList","model","callback","$$v","expression","isEntering","inputCourses","inputMatches","updateCourse","showCourseModal","newProposed","copyCurrent","deleteProposed","removeCourse","generateClick","_i","$$a","$$el","$$c","checked","$$i","$set","$emit","unhover","collapse","expanded","isSomeTBD","stopPropagation","select","active","isAnySection","ungroup","updateGroup","isGroup","separatedCourses","selectAll","allTimeSelected","hasSection","preview","removePreview","validMsg","getSectionGroup","collapsed","numInput","getElementById","notSelected","courseObj","segments","default","components","Expand","isFocused","inputGroupClasses","$slots","prepend","inputClass","ariaLabelledBy","inputName","placeholder","disabled","inputValue","handleFocusOut","handleInput","handleEsc","append","formattedData","backgroundVariant","backgroundVariantResolver","textVariant","maxMatches","minMatchingChars","disableSort","showOnFocus","showAllResults","highlightClass","disabledValues","handleHit","handleChildBlur","scopedSlots","_u","slotName","fn","htmlText","_g","isListItemActive","vbtUniqueId","highlight","screenReaderText","isDisabledItem","nativeOn","$scopedSlots","$listeners","textClasses","preventDefault","$parent","selectNextListItem","selectPreviousListItem","processFocusOut","props","String","Function","baseTextClasses","computed","backgroundVariantResolverResult","methods","evt","tgt","relatedTarget","contains","BEFORE_LIST_INDEX","sanitize","escapeRegExp","VueTypeaheadBootstrapListItem","required","Number","$on","resetActiveListItem","handleParentInputKeyup","activeListItem","re","RegExp","escapedQuery","matchedItem","hitActiveListItem","matchedItems","itemsToSearch","currentSelectedItem","nextActiveIndex","actionableItems","findIndexForNextActiveItem","reversedList","currerntReversedIndex","nextReverseIndex","watch","newValue","oldValue","autoClose","scrollContainer","$refs","suggestionList","listItem","children","scrollContainerlHeight","clientHeight","listItemHeight","visibleItems","scrollTop","VueTypeaheadBootstrapList","serializer","screenReaderTextSerializer","ieCloseFix","_screenReaderTextSerializer","el","rect","getBoundingClientRect","listStyle","list","$el","prependDiv","prependRect","marginLeft","input","focus","runFocusOut","blur","$_ro","resizeList","observe","disconnect","generatedWarning","search","numSearchResults","selectedClassList","$forceUpdate","enteringClassList","ClassList","VueTypeaheadBootstrap","cur","getTitle","pIdx","profileName","similarity","isSimilarSchedule","renderSchedule","composing","randColor","deleteCompare","renderSimilarityRefSchedule","similarityRefShown","compareSchedule","curSchedule","selectInterval","convDate","offset","getMonth","getDate","heights","sumHeights","numCol","repeat","numRow","scheduleDays","blockStyles","showModal","blockContent","df","earliest","earliestBlock","latestBlock","absoluteLatest","absoluteEarliest","stdTime","reducedTime","curTime","Uint16Array","partialHeight","fullHeight","perc","startPx","endPx","displayNameNoType","more","showSectionModal","highlightIdx","getDesc","reconstructDateSeparator","highlighted","sb","nsb","luminosity","entries","y","z","GridSchedule","MainContent","DateSeparator","modifiers","_n","_q","clearCache","showRenderingOptions","reload","deep","eventTitle","eventTimeFrom","eventTimeTo","eventWeek","updateDay","eventRoom","eventDescription","endEditEvent","cancelEdit","deleteEvent","addEvent","copyEvent","toBeModifiedDays","editEvent","getEventDays","cleanup","week","regenerate","immediate","onUploadJson","saveToJson","saveToIcal","exportToURL","print","backendName","sel","selectProfile","getMeta","renameProfile","getRemoteStatusString","updateRemoteStatus","keepVersion","ver","switchVersion","getParsedUA","loginBackend","oauth_on_electron","ua","parser","getResult","resultStr","os","device","vendor","browser","msg1","msg2","files","reader","FileReader","prevLen","readAsText","json","URL","compressed","searchParams","compressToEncodedURIComponent","showURLModal","getRemoteProfile","_profile","extend","addTimeSlot","updateFilterDay","removeTimeSlot","dragEnd","optIdx","getSortOptRange","applySort","changeSorting","getRange","draggable","scheme","numColors","courseColors","pair","convertKey","$delete","scrollIntoView","scroll","colorEntries","bucket","getClass","realtime","fuzzySearch","goto","scheduleLength","updateStart","curIdx","formatLocationURL","handler","box","succ","execCommand","popover","setupTimeMatrix","M","byteLength","_setTimeMatrix","loadTimeMatrix","loadBuildingSearcher","buildingList","encoded","GetNative","URLSearchParams","replaceState","pay1","pay2","pay3","pay4","authResult","loadSemesters","syncProfiles","getBackendToken","urlResult","loadConfigFromURL","initProfiles","equals","ClassView","EventView","DisplayView","FilterView","PaletteView","ExportView","CompareView","External","FuzzyView","LogView","Information","Pagination","SectionModal","CourseModal","URLModal","VersionModal","defaults","xsrfHeaderName","xsrfCookieName","directive","scrollTo","productionTip","devtools","watchers","h","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,IAAO,GAMJjB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,GAAG9B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,YAAYA,GAAW,MAIhH,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUW,KAAKsB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,iBAAiB,GAC/BR,EAAmB5B,GAAUmC,EAASvB,KAAKgB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAASvB,KAAKgB,EAAmB5B,GAAW,IAAIqC,SAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,QAAU,GAAGxC,IAAUA,GAAW,IAAM,CAAC,iBAAiB,YAAYA,GAAW,OACxFyC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,MACfgB,MAAK,WACPtC,EAAmB5B,GAAW,MAMhC,IAAImE,EAAqBxD,EAAgBX,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAASvB,KAAKuD,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,SAAQ,SAASC,EAASC,GAC3C4B,EAAqBxD,EAAgBX,GAAW,CAACsC,EAASC,MAE3DJ,EAASvB,KAAKuD,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAG5B,IAAI2E,EAAQ,IAAIf,MAChBS,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCuB,aAAaJ,GACb,IAAIK,EAAQlE,EAAgBX,GAC5B,GAAa,IAAV6E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYvB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE2B,EAAUxB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IACpDiB,EAAMK,QAAU,iBAAmBhF,EAAU,cAAgB8E,EAAY,KAAOC,EAAU,IAC1FJ,EAAMM,KAAO,iBACbN,EAAMvB,KAAO0B,EACbH,EAAMnB,QAAUuB,EAChBF,EAAM,GAAGF,GAEVhE,EAAgBX,QAAWkF,IAG7B,IAAIV,EAAUW,YAAW,WACxBd,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,MAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ+C,IAAIjD,IAIpBV,EAAoB4D,EAAIxE,EAGxBY,EAAoB6D,EAAI3D,EAGxBF,EAAoB8D,EAAI,SAASxD,EAASkD,EAAMO,GAC3C/D,EAAoBgE,EAAE1D,EAASkD,IAClC1E,OAAOmF,eAAe3D,EAASkD,EAAM,CAAEU,YAAY,EAAMC,IAAKJ,KAKhE/D,EAAoBoE,EAAI,SAAS9D,GACX,qBAAX+D,QAA0BA,OAAOC,aAC1CxF,OAAOmF,eAAe3D,EAAS+D,OAAOC,YAAa,CAAEC,MAAO,WAE7DzF,OAAOmF,eAAe3D,EAAS,aAAc,CAAEiE,OAAO,KAQvDvE,EAAoBwE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQvE,EAAoBuE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK7F,OAAO8F,OAAO,MAGvB,GAFA5E,EAAoBoE,EAAEO,GACtB7F,OAAOmF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOvE,EAAoB8D,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR3E,EAAoB+E,EAAI,SAASxE,GAChC,IAAIwD,EAASxD,GAAUA,EAAOmE,WAC7B,WAAwB,OAAOnE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB8D,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR/D,EAAoBgE,EAAI,SAASgB,EAAQC,GAAY,OAAOnG,OAAOC,UAAUC,eAAeC,KAAK+F,EAAQC,IAGzGjF,EAAoBK,EAAI,GAGxBL,EAAoBkF,GAAK,SAAShD,GAA2B,MAApBiD,QAAQjC,MAAMhB,GAAYA,GAEnE,IAAIkD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjG,KAAK2F,KAAKM,GAC5CA,EAAWjG,KAAOf,EAClBgH,EAAaA,EAAWG,QACxB,IAAI,IAAI5G,EAAI,EAAGA,EAAIyG,EAAWvG,OAAQF,IAAKP,EAAqBgH,EAAWzG,IAC3E,IAAIU,EAAsBiG,EAI1B/F,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6EC1QT,W,6DCAA,W,4CCAAc,EAAOD,QAAUkF,c,8CCAjBjF,EAAOD,QAAUmF,W,oCCAjB,W,2DCAA,W,6DCAA,W,oCCAA,W,oCCAA,W,6DCAA,W,yECAAlF,EAAOD,QAAU,IAA0B,gC,++HCA3CC,EAAOD,QAAUoF,M,qBCAjBnF,EAAOD,QAAU,IAA0B,0B,oCCA3C,W,oCCAA,W,oCCAA,W,gFCAA,W,mBCAAC,EAAOD,QAAUqF,Q,kCCAjB,W,6ECqBM,SAAUC,EAAOC,GACnB,MAAMC,EAAMD,EAAKE,MAAM,KACjBC,GAAMF,EAAI,GAChB,OAAW,KAAPE,EACOH,EAAO,KACA,IAAPG,EACA,MAAMF,EAAI,OACVE,EAAK,GACLH,EAAO,KAEP,GAAGG,EAAK,MAAMF,EAAI,OAa3B,SAAUG,EAAOJ,GACnB,MAAMK,EAAML,EAAKM,UAAU,EAAGN,EAAKhH,OAAS,IACrCuH,EAAMC,GAAUH,EAAIH,MAAM,KAE3BO,GAAWF,EACXG,EAASV,EAAKM,UAAUN,EAAKhH,OAAS,GAC5C,MAAe,OAAX0H,GAA6B,MAAVA,EACH,KAAZD,EACO,MAAQD,EAERH,EAGK,KAAZI,EACOJ,EAEA,IAAII,EAAU,IAAIE,WAAWC,SAAS,EAAG,QAAQJ,IAS9D,SAAUK,EAAUb,GACtB,MAAMC,EAAMD,EAAKE,MAAM,KACvB,OAAiB,IAATD,EAAI,KAAWA,EAAI,GAOzB,SAAUa,EAAUd,GACtB,OAAOa,EAAUT,EAAOJ,IAatB,SAAUe,EAAaf,GACzB,MAAOgB,EAAMC,EAAP,CAAgBC,GAAOlB,EAAKE,MAAM,KACxC,GAAIc,GAAQC,GAASC,EAAK,CACtB,MAAMC,EAAiB,GACvB,IAAK,IAAIrI,EAAI,EAAGA,EAAIkI,EAAKhI,OAAQF,GAAK,EAClCqI,EAAQ7H,KAAK0H,EAAKI,OAAOtI,EAAG,IAEhC,MAAO,CAACqI,EAAS,CAACL,EAAUG,GAAQH,EAAUI,KAElD,OAAO,KAOL,SAAUG,EAAUC,GACtB,GAAoB,kBAATA,EAAmB,OAC9B,MAAOL,EAAOC,GAAOI,EAAKpB,MAAM,OAChC,IAAKe,IAAUC,EAAK,OAEpB,MAAOK,EAAIC,EAAIC,GAAMR,EAAMf,MAAM,KAC3BwB,EAAYC,KAAKC,KAAKH,GAAKF,EAAK,GAAIC,IACnCK,EAAIC,EAAIC,GAAMb,EAAIhB,MAAM,KACzB8B,EAAUL,KAAKC,KAAKG,GAAKF,EAAK,GAAIC,GACxC,MAAO,CAACJ,EAAWM,GAWjB,SAAUC,EAAYC,EAAWC,EAAWnE,EAAWC,GACzD,OAAID,EAAImE,GAAKD,EAAIjE,GAAW,EACrBmE,KAAKC,IAAIF,EAAGlE,GAAKmE,KAAKE,IAAIJ,EAAGlE,GAoBlC,SAAUuE,EAAUC,GACtB,MAAO,GAAGJ,KAAKK,MAAMD,EAAM,IACtB7B,WACAC,SAAS,EAAG,SAAS4B,EAAM,IAAI7B,WAAWC,SAAS,EAAG,O,qCCtIzD,SAAU8B,EACZC,EACAC,EACAC,GAEA,IAAKA,IAAYA,EAAQ7J,OAAQ,OAAO2J,EACxC,IAAI9I,EAAS,GACTiJ,EAAU,EACd,IAAK,MAAM,MAAEC,EAAF,MAAS9B,EAAT,IAAgBC,KAAS2B,EAC5BE,IAAUH,IACV/I,GAAU,GAAG8I,EAAIrC,UAAUwC,EAAS7B,8BAAkC0B,EAAIrC,UACtEW,EACAC,YAEJ4B,EAAU5B,GAGlB,OAAOrH,EAAS8I,EAAIrC,UAAUwC,GAU5B,SAAUE,EAASL,GACrB,IAAIM,EAAO,WAEX,IAAK,IAAInK,EAAI,EAAGA,EAAI6J,EAAI3J,OAAQF,IAC5BmK,GAAQN,EAAIO,WAAWpK,GACvBmK,IAASA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAE7E,OAAOA,IAAS,EAQd,SAAUE,EAAqBrG,GACjC,IAAIsG,EACJ,MAAM5I,EAAI,IAAIO,QAAQ,CAACC,EAASC,KAC5B6B,EAAQF,KAAKyG,GAAOrI,EAAQqI,IAAMC,MAAMjH,GAAOpB,EAAOoB,IACtD+G,EAASG,GAAUtI,EAAOsI,KAG9B,OADA/I,EAAE4I,OAASA,EACJ5I,EAWL,SAAU0C,EACZJ,EACAkD,EACAwD,EAAM,kDAEN,GAAIxD,EAAO,EAAG,CACV,MAAMxF,EAAI2I,EAAkBrG,GAE5B,OADAe,WAAW,IAAMrD,EAAE4I,OAAOI,GAAMxD,GACzBxF,EACJ,OAAOsC,EAcZ,SAAU2G,EAAUd,EAAae,GACnC,oBAAO,IAAIC,KAAK,CAAChB,GAAM,CAAE7G,KAAM,6BAA+B4H,GAQ5D,SAAUE,EAASvH,GACrB,IAAIwH,EAAS,GAKb,MAJmB,kBAARxH,EAAkBwH,GAAUxH,EAC9BA,EAAIyH,SAAUD,GAAU,iCACxBxH,EAAIH,QAAS2H,GAAU,cAC3BA,GAAUxH,EAAIqB,QACZmG,EAGL,SAAUE,EAAcC,GAC1B,OAAOC,MAAMC,QAAQF,IAAsB,kBAATA,EAAE,GAYjCG,eAAeC,IAClB,IACI,MAAMf,QAAY,EAAAnB,EAAM5D,IACpB,oEAGEzD,EAAW,GACXwJ,EAAkB,GAExB,IAAK,IAAIvL,EAAI,EAAGA,EAAIsJ,KAAKC,IAAI,EAAGgB,EAAI7K,KAAKQ,QAASF,IAC9C+B,EAASvB,KACL,EAAA4I,EAAMoC,KAAK,kCAAmC,CAC1CC,KAAMlB,EAAI7K,KAAKM,GAAG0L,KAClB5F,KAAM,MACN6F,QAAS,mBAiBrB,aAZM1J,QAAQ+C,IAAIjD,GAAU+B,KAAK8H,IAC7B,IAAK,IAAI5L,EAAI,EAAGA,EAAI4L,EAAO1L,OAAQF,IAC/BuL,EAAM/K,KACF,oHACI+J,EAAI7K,KAAKM,GAAG6E,KACZ,oBACA+G,EAAO5L,GAAGN,KACV,mBAKT6L,EAAMM,KAAK,QACpB,MAAOtI,GAEL,OADAiD,QAAQjC,MAAMhB,GAEV,sGAMN,MAAOuI,UAAuBtI,MAChC,YAAYoB,GACRmH,MAAMnH,GACNoH,KAAKnH,KAAO,kBCjLb,MAAMoH,EAAW9L,OAAO+L,OAAO,CAClCC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAKKC,EAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MCIzD,SAASC,EAAiBnE,GACtB,OACIA,EAAKoE,kBACJpE,EAAKqE,cAAgB,GAAGhF,WAAWC,SAAS,EAAG,KAChDU,EACKsE,aACAjF,WACAC,SAAS,EAAG,KACjB,IACAU,EACKuE,cACAlF,WACAC,SAAS,EAAG,KACjBU,EACKwE,gBACAnF,WACAC,SAAS,EAAG,KACjBU,EACKyE,gBACApF,WACAC,SAAS,EAAG,KAIzB,SAASoF,EAAcC,EAAiBC,GACpC,MAAMC,GAAapB,EAASmB,GAAO,EAAID,EAAUG,UAAY,EAC7D,OAAO,IAAIzE,KAAKsE,EAAUI,UAAwB,IAAZF,EAAmB,GAAK,GAAK,IAGvE,SAASG,EACLrK,EACAsK,EACA7E,EACA8E,EACAC,EACAC,EACAC,GAEA,MAAOT,EAAK9L,EAAN,CAAWQ,GAAKqB,EAAM+E,KAAKd,MAAM,KACjC0G,EAAW9F,EAAU1G,GACrByM,EAAS/F,EAAUlG,GAEnBoG,EAAc,GACpB,IAAK,IAAIlI,EAAI,EAAGA,EAAIoN,EAAIlN,OAAQF,GAAK,EACjCkI,EAAK1H,KAAK4M,EAAI9E,OAAOtI,EAAG,IAE5B4I,EAAYsE,EAActE,EAAWV,EAAK,IAK1C,MAAM8F,EAAW,GACjB,IAAIC,EAAO,mBAiBX,OAhBAA,GAAQ,OAAOR,QACfQ,GAAQ,UAAUD,KAAYrB,EAAiB,IAAI9D,YACnDoF,GAAQ,UAAUD,KAAYrB,EAC1B,IAAI9D,KAAKD,EAAU2E,UAAuB,GAAXO,EAAgB,YAEnDG,GAAQ,QAAQD,KAAYrB,EACxB,IAAI9D,KAAKD,EAAU2E,UAAqB,GAATQ,EAAc,YAEjDE,GAAQ,WAAWN,QACnBM,GAAQ,sCAAsC/F,EACzC2D,KAAK,KACLqC,uBAAuBvB,EAAiBe,SAC7CO,GAAQ,YAAYF,EAASD,QAC7BG,GAAQ,eAAeL,QACvBK,GAAQ,YAAYJ,QACpBI,GAAQ,iBACDA,EASL,SAAUE,EAAOC,G,UACnB,IAGIxF,EAAiBM,EAHjB+E,EAAO,yDAIX,IAAK,MAAM,UAAEI,KAAe3H,OAAO4H,QAAQC,SACvC,GAAIF,EAAW,CACXzF,EAAY,IAAIC,KAAKwF,EAAU,IAC/BnF,EAAU,IAAIL,KAAKwF,EAAU,GAAK,OAClC,MAIR,IAAK,MAAOG,KAAOJ,EAASK,QAAQC,IAAK,CACrC,MAAMC,EAASC,SAASJ,GACxB,GAAIK,MAAMF,GAAS,SAEnB,MAAMG,EAAMpI,OAAO4H,QAAQS,eAAeJ,GAC1C,GAAKG,EAAIT,UAAT,CACAzF,EAAY,IAAIC,KAAKiG,EAAIT,UAAU,IACnCnF,EAAU,IAAIL,KAAKiG,EAAIT,UAAU,GAAK,OAEtC,IAAK,MAAMW,KAAWF,EAAIG,SACtB,IACIhB,GAAQT,EACJwB,EACA,gBAAgBR,EAChB5F,EACAM,EACA4F,EAAII,YACJJ,EAAIK,MACJH,EAAQI,MAEd,MAAOtN,GAEL0E,QAAQ6I,KAAKvN,KAKzB,IAAK,MAAMqB,KAASiL,EAASkB,OACzBrB,GAAQT,EACJrK,EACA,SAASA,EAAM+C,IACf0C,EACAM,EACW,QADH,EACR/F,EAAMgM,aAAK,QAAI,WACE,QADQ,EACzBhM,EAAMyK,mBAAW,QAAI,iBACX,QAD2B,EACrCzK,EAAMiM,YAAI,QAAI,WAKtB,OAFAnB,GAAQ,gBAEDA,ECnJX,IAAIsB,EAAS,WAAa,IAAIC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQC,MAAM,CAAC,GAAK,OAAOC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIS,gBAAgB,CAACN,EAAG,gBAAgB,CAACG,MAAM,CAAC,QAAUN,EAAIU,WAAWP,EAAG,eAAe,CAACG,MAAM,CAAC,OAASN,EAAIW,MAAMC,OAAO,MAAQZ,EAAIW,MAAMlG,MAAM,SAAWuF,EAAIa,SAAS5B,WAAWkB,EAAG,gBAAgB,CAACG,MAAM,CAAC,SAAWN,EAAIa,SAAS5B,QAAQ,QAAUe,EAAIW,MAAMG,WAAWX,EAAG,YAAY,CAACG,MAAM,CAAC,IAAMN,EAAIW,MAAMI,OAAOZ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQC,iBAAkBZ,MAAM,CAAC,MAAQ,kBAAkBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,sBAAsB,CAACjB,EAAG,IAAI,CAACE,YAAY,0BAA0BF,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQI,WAAYf,MAAM,CAAC,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,gBAAgB,CAACjB,EAAG,IAAI,CAACE,YAAY,oBAAoBF,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQK,WAAYhB,MAAM,CAAC,MAAQ,eAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,gBAAgB,CAACjB,EAAG,IAAI,CAACE,YAAY,uBAAuBF,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQM,YAAajB,MAAM,CAAC,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,iBAAiB,CAACjB,EAAG,IAAI,CAACE,YAAY,oBAAoBF,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQO,aAAclB,MAAM,CAAC,MAAQ,oBAAoBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,kBAAkB,CAACjB,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQQ,iBAAkBnB,MAAM,CAAC,MAAQ,oBAAoBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,sBAAsB,CAACjB,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQS,YAAapB,MAAM,CAAC,MAAQ,0BAA0BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,iBAAiB,CAACjB,EAAG,IAAI,CAACE,YAAY,qBAAsBL,EAAI2B,QAAQC,WAAa5B,EAAI2B,QAAQE,SAASC,MAAK,SAAU5P,GAAK,OAAOA,EAAE6P,UAAY5B,EAAG,MAAM,CAACE,YAAY,qBAAqB2B,YAAY,CAAC,SAAW,WAAW,IAAM,UAAU,MAAQ,MAAM,YAAY,QAAQ1B,MAAM,CAAC,MAAQ,oEAAoE,CAACH,EAAG,IAAI,CAACE,YAAY,kCAAkCL,EAAIiC,OAAO9B,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQiB,aAAc5B,MAAM,CAAC,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,kBAAkB,CAACjB,EAAG,IAAI,CAACE,YAAY,2BAA4BL,EAAImC,QAAiB,UAAEhC,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQmB,SAAU9B,MAAM,CAAC,MAAQ,aAAaC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,cAAc,CAACjB,EAAG,IAAI,CAACE,YAAY,oBAAoBL,EAAIiC,KAAMjC,EAAmB,gBAAEG,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQoB,UAAW/B,MAAM,CAAC,MAAQ,+CAA+CC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,eAAe,CAACjB,EAAG,IAAI,CAACE,YAAY,yBAAyBL,EAAIiC,KAAK9B,EAAG,MAAM,CAACE,YAAY,gBAAgBW,MAAM,CAAE,kBAAmBhB,EAAIiB,QAAQqB,cAAehC,MAAM,CAAC,MAAQ,cAAcC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImB,OAAOC,cAAc,mBAAmB,CAACjB,EAAG,IAAI,CAACE,YAAY,wBAAyBL,EAAIiB,QAAuB,gBAAEd,EAAG,cAAeH,EAAIiB,QAAiB,UAAEd,EAAG,cAAeH,EAAIiB,QAAiB,UAAEd,EAAG,cAAeH,EAAIiB,QAAkB,WAAEd,EAAG,eAAgBH,EAAIiB,QAAmB,YAAEd,EAAG,gBAAiBH,EAAIiB,QAAkB,WAAEd,EAAG,eAAgBH,EAAIiB,QAAuB,gBAAEd,EAAG,gBAAiBH,EAAIiB,QAAmB,YAAEd,EAAG,gBAAiBH,EAAIiB,QAAgB,SAAEd,EAAG,eAAgBH,EAAIiB,QAAoB,aAAEd,EAAG,YAAaH,EAAIiB,QAAe,QAAEd,EAAG,YAAYH,EAAIiC,KAAOjC,EAAIiB,QAAQoB,UAAarC,EAAIiB,QAAQqB,cAAiBtC,EAAIiB,QAAQiB,YAA22BlC,EAAIiC,KAAl2B9B,EAAG,eAAe,CAACA,EAAG,MAAM,CAACE,YAAY,6CAA6CC,MAAM,CAAC,GAAK,OAAO,CAAEN,EAAIpB,SAAkB,UAAEuB,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,eAAe,GAAGH,EAAIiC,KAAK9B,EAAG,iBAAiB,CAACE,YAAY,0BAA0BC,MAAM,CAAC,eAAeN,EAAIpB,SAAS2D,iBAAiBhC,GAAG,CAAC,gBAAgB,SAASC,GAAQ,OAAOR,EAAIpB,SAAS2D,gBAAgBC,sBAAuBxC,EAAIpB,SAAkB,UAAEuB,EAAG,MAAM,CAACE,YAAY,6CAA6C,CAACF,EAAG,SAAS,CAACE,YAAY,0BAA0BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIyC,kBAAkB,CAACtC,EAAG,IAAI,CAACE,YAAY,yBAAyBL,EAAI0C,GAAG,cAAwC,IAA1B1C,EAAI2C,iBAAyBxC,EAAG,IAAI,CAACE,YAAY,iBAAiBL,EAAIiC,SAASjC,EAAIiC,MAAM,GAAG9B,EAAG,gBAAgB,CAACG,MAAM,CAAC,gBAAgBN,EAAIpB,SAAS2D,gBAAgB7J,SAAS,IAAa,IAC//JkK,EAAkB,G,oCCDlB,EAAS,WAAa,IAAI5C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgBwC,MAAM,CACpIC,MAAO9C,EAAI+C,cAAgB,KAC3B,eAAgB/C,EAAImB,OAAO6B,SAAW,GAAKhD,EAAIiD,cAAgB,OAC/D,CAAC9C,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,SAAS,CAAEN,EAAIkD,KAAKhI,IAAIxK,OAAS,EAAGyP,EAAG,MAAM,CAACgD,WAAW,CAAC,CAAC9N,KAAK,MAAM+N,QAAQ,UAAU/C,YAAY,qBAAqBW,MAAO,SAAYhB,EAAIkD,KAAQ,IAAGlB,YAAY,CAAC,MAAQ,OAAO1B,MAAM,CAAC,GAAK,SAAS,CAACH,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYgD,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAIkD,KAAKhI,QAAQiF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,QAAQ2B,YAAY,CAAC,MAAQ,UAAU1B,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIkD,KAAKK,WAAW,CAACpD,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAI0C,GAAG,eAAe1C,EAAIiC,OAAOjC,EAAIwD,GAAG,WAAWxD,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,eAAe,CAACN,EAAI0C,GAAG,kBAAkBvC,EAAG,SAAS,CAACH,EAAI0C,GAAG,cAAc1C,EAAIsD,GAAGtD,EAAIU,YAAYP,EAAG,IAAI,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,mBAAmBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIW,MAAM+C,0BAA0B,CAAC1D,EAAI0C,GAAG,4BAA4B,IAC76B,EAAkB,CAAC,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,gBAAgB,CAACH,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC2B,YAAY,CAAC,YAAY,WAAW,CAAChC,EAAI0C,GAAG,gGAAgGvC,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgBC,MAAM,CAAC,OAAS,SAAS,MAAQ,8CAA8C,KAAO,mDAAmD,CAACH,EAAG,IAAI,CAACE,YAAY,oBAAoBF,EAAG,IAAI,CAACE,YAAY,qBAAqBC,MAAM,CAAC,OAAS,SAAS,MAAQ,sBAAsB,KAAO,wCAAwC,CAACH,EAAG,IAAI,CAACE,YAAY,wC,8CCet0B,SAASsD,EAAYC,EAAkBvJ,GAGnC,MAAMwJ,EAASxJ,EAAI3J,OAAS,EACtBoT,EAAMF,EAAOG,QAAQF,GAE3B,OADAD,EAAOI,aAAa3J,EAAKyJ,EAAKD,GACvBC,EAOX,SAASG,EAAaL,EAAkBM,EAAeC,GACnD,OAAID,EAAMxT,OAASyT,GAAiB,EAC7BR,EAAYC,EAAQM,GAMzB,MAAOE,EAIT,YACIC,EACAC,EAA0B5I,IAAKA,GACxBxL,EAAU,IAAV,KAAAA,OANK,KAAAqU,UAAsB,GAQlC,MAAMX,EAAS1M,OAAOsN,aAChBC,EAAYb,EAAOG,QAAuB,EAAfM,EAAM3T,QACvC,IAAK,IAAIF,EAAI,EAAGA,EAAI6T,EAAM3T,OAAQF,IAAK,CACnC,MAAM6J,EAAMiK,EAAMD,EAAM7T,IACxBgM,KAAK+H,UAAUvT,KAAKqJ,GAEpBuJ,EAAOc,QAAQD,EAAY,EAAIjU,GAAKmT,EAAYC,EAAQvJ,EAAIsK,QAAQ,+BAAgC,KAAKC,eAE7GpI,KAAKsH,IAAMF,EAAOiB,aAAaJ,EAAWJ,EAAM3T,QAGpD,SAASwT,EAAeY,EAAoBX,EAAU,EAAGY,EAAY,IACjE,MAAMnB,EAAS1M,OAAOsN,aAChBV,EAAMG,EAAaL,EAAQM,EAAOC,GAClCa,EAAgC,GACtC,IAAa,IAATlB,EAAY,OAAOkB,EAEvB,MAAMC,EAAYrB,EAAOsB,UAAU1I,KAAKsH,IAAKA,EAAKgB,EAAYX,EAASY,GAAa,EAC9EI,EAAQrL,KAAKC,IAAI+K,EAAYtI,KAAK+H,UAAU7T,QAC5C0U,EAASxB,EAAOyB,OAAOC,SAASL,EAAWA,EAAYE,GAC7D,IAAK,IAAI3U,EAAI,EAAGA,EAAI2U,EAAO3U,IAAK,CAC5B,MAAM+U,EAAMH,EAAO5U,GACbgV,EAAW5B,EAAO6B,YAAYjJ,KAAKsH,IAAKyB,GAAO,EACrDP,EAAWhU,KAAK,CACZ0U,MAAO9B,EAAO+B,UAAUnJ,KAAKsH,IAAKyB,GAClCK,MAAOL,EACPrV,KAAMsM,KAAKtM,KACXqK,QAASqJ,EAAOyB,OAAOC,SACnBE,EACAA,EAAiD,EAAtC5B,EAAOiC,cAAcrJ,KAAKsH,IAAKyB,MAItD,OAAOP,EAOJ,cAAcd,GACjB,MAAMN,EAAS1M,OAAOsN,aAChBV,EAAMG,EAAaL,EAAQM,EAAO,GACxC,IAAa,IAATJ,EAAY,MAAO,CAAC,EAAG,GAE3B,MAAMyB,EAAM3B,EAAOkC,eAAetJ,KAAKsH,IAAKA,GAC5C,MAAO,CAACyB,EAAK3B,EAAO+B,UAAUnJ,KAAKsH,IAAKyB,IAGrC,SACH,OAAO/I,KAAK+H,WAInBrN,OAAekN,aAAeA,ECxD/B,MAAM2B,EAAS,IAAIC,IAEnB,SAASC,EAA4B1L,GACjC,MAAMyK,EAAyB,GAC/B,IAAK,MAAM,KAAE9U,EAAMqK,QAAS9E,KAAO8E,EAC/B,IAAK,IAAI/J,EAAI,EAAGA,EAAIiF,EAAE/E,OAAQF,GAAK,EAC/BwU,EAAWhU,KAAK,CACZyJ,MAAOvK,EACPyI,MAAOlD,EAAEjF,GACToI,IAAKnD,EAAEjF,EAAI,KAIvB,OAAOwU,EAOG,MAAO,EA+BjB,YACoBnE,EAChB3Q,EACgBgW,GAFA,KAAArF,WAEA,KAAAqF,YAGf1J,KAAK2J,WAAY3J,KAAK4J,QAAS5J,KAAKuC,UAAY7O,EACjDsM,KAAK6J,WAAa,IAAIL,IACtB,IAAK,MAAM1G,KAAO9C,KAAKuC,SACnBvC,KAAK6J,WAAWC,IAAIhH,EAAIN,GAAIM,GAEhC9C,KAAK+J,cAAgB,IAAInC,EAAa5H,KAAK4J,QAASI,GAAOA,EAAI7G,MAAO,SACtEnD,KAAKiK,oBAAsB,IAAIrC,EAC3B5H,KAAK4J,QACLI,GAAOA,EAAIpI,YACX,eAEJ5B,KAAKkK,cAAgB,IAAItC,EAAa5H,KAAKuC,SAAUyH,GAAOA,EAAIG,MAAO,SACvEnK,KAAKoK,cAAgB,IAAIxC,EAAa5H,KAAKuC,SAAUyH,GAAOA,EAAIK,YAAa,eAC7ErK,KAAKsK,aAAe,IAAI1C,EAAa5H,KAAKuC,SAAUyH,GAAOA,EAAIO,MAAO,SAOlE,OACJ,MAAO,CAACvK,KAAK2J,WAAY3J,KAAK4J,QAAS5J,KAAKuC,UASzC,UAAUrI,EAAaqI,GAC1B,MAAM6B,EAASpE,KAAK2J,WAAWzP,GAC/B,OAAKqI,IAA0B,IAAdA,EACbA,aAAoBpD,MAAciF,EAAOoG,UAAUjI,GAC3C6B,EAAOoG,UAAU,IAAIjI,IAFQ6B,EAQtC,eAAe5B,GAClB,MAAMM,EAAM9C,KAAK6J,WAAWrQ,IAAIgJ,GAChC,IAAKM,EAAK,MAAM,IAAItL,MAAM,mBAAqBgL,GAC/C,OAAOM,EAQX,WAAW5I,EAAakI,GACpB,MAAMgC,EAASpE,KAAK2J,WAAWzP,GAC/B,GAAIkK,EAAQ,OAAOA,EAAOlB,YACrB,GAAId,EAAU,CACf,MAAMjL,EAAQiL,EAASkB,OAAOmH,KAAK3U,GAAKA,EAAEoE,MAAQA,GAClD,OAAI/C,EAA8B,KAAhBA,EAAMgM,MAAejJ,EAAM/C,EAAMgM,MACvCjJ,GAIZ,qBAAqBwQ,EAA+BC,GACxD,IAAK,MAAM5V,KAAU2V,EAAS,CAC1B,MAAM,IAAExQ,GAAQ8F,KAAK4J,QAAQ7U,EAAOqU,OAC9BF,EAAQnU,EAAOmU,MAAQyB,EAEvBC,EAAOrB,EAAO/P,IAAIU,GACpB0Q,GACAA,EAAKC,aAAe3B,EACpB0B,EAAKE,cAActW,KAAKO,IAGxBwU,EAAOO,IAAI5P,EAAK,CACZ2Q,YAAa3B,EACb4B,cAAe,CAAC/V,GAChBgW,aAAc,EACdlB,WAAY,IAAIL,OAMxB,sBAAsBkB,EAAgCC,GAC1D,IAAK,MAAM5V,KAAU2V,EAAS,CAC1B,MAAM,IAAExQ,EAAF,GAAOsI,GAAOxC,KAAKuC,SAASxN,EAAOqU,OACnCF,EAAQnU,EAAOmU,MAAQyB,EAEvBK,EAAazB,EAAO/P,IAAIU,GAC9B,GAAK8Q,EAOE,CACHA,EAAWD,cAAgB7B,EAC3B,MAAM+B,EAAaD,EAAWnB,WAAWrQ,IAAIgJ,GACzCyI,EACAA,EAAWzW,KAAKO,GAEhBiW,EAAWnB,WAAWC,IAAItH,EAAI,CAACzN,SAZnCwU,EAAOO,IAAI5P,EAAK,CACZ2Q,YAAa,EACbC,cAAe,GACfC,aAAc7B,EACdW,YAAY,IAAIL,KAAMM,IAAItH,EAAI,CAACzN,OAcvC,UAAU2S,GACdA,EAAQA,EAAMwD,OAAO9C,cACrB,MAAMwC,EAAOlD,EAAMtM,MAAM,OAIzB,IAAI+P,EAHJzD,EAAQkD,EAAK/K,KAAK,KAIlB,IAAIuL,EAAQ,GAEZ,GAAI1D,EAAM2D,WAAW,KAAM,CACvBD,EAAQR,EAAK,GAAGpP,UAAU,GAC1B,MAAM8P,EAAOV,EAAKhQ,MAAM,GACxBuQ,EAAYG,EAAKzL,KAAK,IACtB6H,EAAQ4D,EAAKzL,KAAK,UAElBsL,EAAYP,EAAK/K,KAAK,IAG1B,MAAO,CAAC6H,EAAO0D,EAAOD,GAGnB,YAAYI,GAEf,MAAO7D,EAAO0D,GAASpL,KAAKwL,UAAUD,GACjCH,IAASA,EAAMC,WAAW,UAC3BrL,KAAKyL,qBAAqBzL,KAAK+J,cAAc2B,SAAShE,EAAO,KAAM,GAClE0D,IAASA,EAAMC,WAAW,SAC3BrL,KAAKyL,qBAAqBzL,KAAKiK,oBAAoByB,SAAShE,EAAO,KAAM,IACxE0D,IAASA,EAAMC,WAAW,UAC3BrL,KAAK2L,sBAAsB3L,KAAKkK,cAAcwB,SAAShE,EAAO,KAAM,GACnE0D,IAASA,EAAMC,WAAW,SAC3BrL,KAAK2L,sBAAsB3L,KAAKoK,cAAcsB,SAAShE,EAAO,KAAM,IACpE0D,EAAMC,WAAW,SACjBrL,KAAK2L,sBAAsB3L,KAAKsK,aAAaoB,SAAShE,EAAO,KAAM,GAGvE,MAAMkE,EAAezM,MAAM0M,KAAKtC,GAC3BuC,IACG,EAAEC,EAAG3O,KACD,CACI2O,EACA3O,EAAEyN,aAAezN,EAAEyM,WAAWmC,MAAQ5O,EAAE2N,aAAe3N,EAAEyM,WAAWmC,QAG/EC,KAAK,CAAC7O,EAAGC,IAAMA,EAAE,GAAKD,EAAE,IACxBxC,MAAM,EAAG,IACTsR,OAAOC,GAASA,EAAM,GAAK,MAC1BC,EAAyB,GACzB5D,EAA4B,GAGlC,IAAK,MAAOtO,KAAQ0R,EAAc,CAC9B,MAAMhB,EAAOrB,EAAO/P,IAAIU,GAClBmS,EAAa,IAAI7C,IAGvB,IAAK,MAAOhH,EAAIzE,KAAY6M,EAAKf,WAAYwC,EAAWvC,IAAItH,EAAIiH,EAAU1L,IAEtE6M,EAAKE,cAAc5W,QACnBkY,EAAa5X,KAAKwL,KAAKwK,UAAUtQ,GAAM,IACvCsO,EAAWhU,KAAK,CAACiV,EAAUmB,EAAKE,eAAgBuB,MAGhDD,EAAa5X,KAAKwL,KAAKwK,UAAUtQ,EAAK,IAAImS,EAAWC,UACrD9D,EAAWhU,KAAK,CAAC,GAAI6X,KAO7B,OAFA9C,EAAOxC,QAEA,CAACqF,EAAc5D,GASnB,OAAO+C,EAAgBgB,EAAa,GACvC,MAAO7E,EAAO0D,EAAOD,GAAanL,KAAKwL,UAAUD,GAE3Cb,EAAoB,GACpB3M,EAAyB,GACzB6L,EAAU5J,KAAK4J,QACf4C,EAAM5C,EAAQ1V,OAEpB,IAAKkX,GAAmB,QAAVA,GAA6B,QAAVA,EAC7B,IAAK,IAAIpX,EAAI,EAAGA,EAAIwY,EAAKxY,IAErB,GADAgM,KAAKyM,UAAUtB,EAAWvB,EAAQ5V,GAAI0W,EAAS3M,GAC3C2M,EAAQxW,QAAUqY,EAAY,MAAO,CAAC7B,EAAS3M,GAG3D,IAAKqN,GAASA,EAAMC,WAAW,SAC3B,IAAK,IAAIrX,EAAI,EAAGA,EAAIwY,EAAKxY,IAErB,GADAgM,KAAK0M,YAAYhF,EAAO,QAASkC,EAAQ5V,GAAI0W,EAAS3M,GAClD2M,EAAQxW,QAAUqY,EAAY,MAAO,CAAC7B,EAAS3M,GAG3D,IAAKqN,GAASA,EAAMC,WAAW,SAC3B,IAAK,IAAIrX,EAAI,EAAGA,EAAIwY,EAAKxY,IAErB,GADAgM,KAAK2M,mBAAmBjF,EAAO,QAASkC,EAAQ5V,GAAI0W,EAAS3M,GACzD2M,EAAQxW,QAAUqY,EAAY,MAAO,CAAC7B,EAAS3M,GAG3D,IAAKqN,GAASA,EAAMC,WAAW,QAC3B,IAAK,IAAIrX,EAAI,EAAGA,EAAIwY,EAAKxY,IAErB,GADAgM,KAAK2M,mBAAmBjF,EAAO,cAAekC,EAAQ5V,GAAI0W,EAAS3M,GAC/D2M,EAAQxW,QAAUqY,EAAY,MAAO,CAAC7B,EAAS3M,GAG3D,IAAKqN,GAASA,EAAMC,WAAW,QAC3B,IAAK,IAAIrX,EAAI,EAAGA,EAAIwY,EAAKxY,IAErB,GADAgM,KAAK0M,YAAYhF,EAAO,cAAekC,EAAQ5V,GAAI0W,EAAS3M,GACxD2M,EAAQxW,QAAUqY,EAAY,MAAO,CAAC7B,EAAS3M,GAG3D,IAAKqN,GAASA,EAAMC,WAAW,QAC3B,IAAK,IAAIrX,EAAI,EAAGA,EAAIwY,EAAKxY,IAErB,GADAgM,KAAK2M,mBAAmBjF,EAAO,QAASkC,EAAQ5V,GAAI0W,EAAS3M,GACzD2M,EAAQxW,QAAUqY,EAAY,MAAO,CAAC7B,EAAS3M,GAE3D,MAAO,CAAC2M,EAAS3M,GAGb,UACJoN,EACA/G,EACAsG,EACA3M,GAEA,MAAM7D,EAAMkK,EAAOlK,IACb0S,EAAS1S,EAAI2S,QAAQ1B,GAE3B,IAAgB,IAAZyB,EAAe,CACf,MAAME,EAAU1I,EAAO2I,WAAW7Y,OAC5BkI,EAAMwQ,EAASzB,EAAUjX,OAC/BwW,EAAQlW,KAAK4P,GACbrG,EAAQvJ,KAAK,CACT,CACI,CACIyJ,MAAO,MACP9B,MAAOyQ,KAAWA,GAAUE,GAC5B1Q,IAAKA,KAAQA,EAAM0Q,KAG3B,IAAItD,OAKR,YACJ9B,EACA0D,EACAhH,EACAsG,EACA3M,GAEA,MAAM1G,EAAS+M,EAAOgH,GAAOhD,cACvBlO,EAAMkK,EAAOlK,IACb8S,EAAY3V,EAAOwV,QAAQnF,GACjC,IAAmB,IAAfsF,EAAkB,CAClB,MAAMC,EAAOvC,EAAQwC,UAAUhO,GAAKA,EAAEhF,MAAQA,GACxC+D,EAAQ,CACVA,MAAOmN,EACPjP,MAAO6Q,EACP5Q,IAAK4Q,EAAYtF,EAAMxT,SAEb,IAAV+Y,EACAlP,EAAQkP,GAAM,GAAGzY,KAAKyJ,IAEtByM,EAAQlW,KAAK4P,GACbrG,EAAQvJ,KAAK,CAAC,CAACyJ,GAAQ,IAAIuL,QAK/B,mBACJ9B,EACA0D,EACAhH,EACAsG,EACA3M,GAGA,MAAMsO,EAAa,IAAI7C,IACvB,IAAK,MAAM1G,KAAOsB,EAAO7B,SAAU,CAC/B,MAAM4K,EAAOrK,EAAIsI,GAAOhD,cAAcyE,QAAQnF,IAChC,IAAVyF,GACAd,EAAWvC,IAAIhH,EAAIN,GAAI,CACnB,CACIvE,MAAOmN,EACPjP,MAAOgR,EACP/Q,IAAK+Q,EAAOzF,EAAMxT,UAK9BmY,EAAWL,MAAMhM,KAAKoN,eAAehJ,EAAQiI,EAAY3B,EAAS3M,GAGlE,eACJqG,EACArG,EACA2M,EACAlC,GAEA,MAAMyE,EAAOvC,EAAQwC,UAAUhO,GAAKA,EAAEhF,MAAQkK,EAAOlK,KACrD,IAAc,IAAV+S,EAAa,CACbvC,EAAQuC,GAAQ7I,EAAOoG,UAAU,IAC1B,IAAI6C,IAAIjJ,EAAO1B,IAAI4K,OAAO,IAAIvP,EAAQuO,YAG7C,MAAMiB,EAAiB/E,EAAWyE,GAAM,GACxC,IAAK,MAAOzK,EAAIgL,KAASzP,EAAS,CAC9B,MAAM0P,EAAWF,EAAe/T,IAAIgJ,GAChCiL,EAAUA,EAASjZ,QAAQgZ,GAC1BD,EAAezD,IAAItH,EAAIgL,SAGhC9C,EAAQlW,KAAK4P,EAAOoG,UAAU,IAAIzM,EAAQuO,UAC1C9D,EAAWhU,KAAK,CAAC,GAAIuJ,KCtWnB,MAAO,EAqBjB,YAAYqG,EAAgC1B,GAAA,KAAAA,MACxC1C,KAAK9F,IAAMkK,EAAOlK,IAClB8F,KAAK+M,WAAa3I,EAAO2I,WACzB/M,KAAK0N,OAAStJ,EAAOsJ,OACrB1N,KAAKhJ,KAAOoN,EAAOpN,KACnBgJ,KAAK2N,MAAQvJ,EAAOuJ,MACpB3N,KAAKmD,MAAQiB,EAAOjB,MACpBnD,KAAK4B,YAAcwC,EAAOxC,YAC1B5B,KAAKuC,SAAWG,EAAIoJ,IAAItJ,IACpB,MAAMM,EAAMsB,EAAO7B,SAASkI,KAAKnV,GAAKA,EAAEkN,KAAOA,GAC/C,IAAKM,EAAK,MAAM,IAAItL,MAAM,mBAAqBgL,GAC/C,OAAOM,IAMf,kBACI,MAAO,GAAG9C,KAAK+M,cAAc/M,KAAK0N,UAAU1N,KAAKhJ,OAErD,wBACI,MAAO,GAAGgJ,KAAK+M,cAAc/M,KAAK0N,SAM/B,UAAUhL,GACb,OAAO,IAAI,EAAO1C,KAAM0C,GAGrB,eAAeF,GAClB,MAAMM,EAAM9C,KAAKuC,SAASkI,KAAKnV,GAAKA,EAAEkN,KAAOA,GAC7C,IAAKM,EAAK,MAAM,IAAItL,MAAM,mBAAqBgL,GAC/C,OAAOM,EAMJ,cACH,MAAMP,EAAWvC,KAAKuC,SACtB,IAAK,IAAIvO,EAAI,EAAGA,EAAIuO,EAASrO,OAAS,EAAGF,IACrC,IAAKuO,EAASvO,GAAG4Z,WAAWrL,EAASvO,EAAI,IAAK,OAAO,EAEzD,OAAO,EAWJ,cACH,MAAM6Z,EAAuC,GAC7C,IAAK,MAAMvJ,KAAWtE,KAAKuC,SAAU,CACjC,MAAM1E,EAAMyG,EAAQwJ,eAChBD,EAAShQ,GAAMgQ,EAAShQ,GAAKrJ,KAAK8P,GACjCuJ,EAAShQ,GAAO,CAACyG,GAE1B,OAAOuJ,EAMJ,OACH,OAAO3P,EAAS8B,KAAK9F,KAGlB,OAAOG,GACV,OAAIA,aAAkB,IACX2F,KAAK9F,MAAQG,EAAOH,KAAO8F,KAAK0C,IAAI7G,aAAexB,EAAOqI,IAAI7G,YAQtE,IAAIkS,GACP,OAAO/N,KAAK9F,MAAQ6T,EAAQ7T,KAAO8F,KAAK0C,IAAIsL,SAASD,EAAQvL,KC3K/D,SAAUyL,EAAmBhL,EAA8B/I,GAC7D,MAAM2T,EAAqB,GAC3B,IAAK,MAAM7K,KAAWC,EAClB,IAAK,MAAMpF,KAAOmF,EAAQ9I,GAAKkB,MAAM,MAC5ByS,EAASG,SAASnQ,IAAMgQ,EAASrZ,KAAKqJ,GAGnD,OAAOgQ,E,UC4EG,MAAO,EAkBjB,iBACI,OAAO7N,KAAKoE,OAAO2I,WAEvB,aACI,OAAO/M,KAAKoE,OAAOsJ,OAEvB,WACI,OAAO1N,KAAKoE,OAAOpN,KAEvB,YACI,OAAOgJ,KAAKoE,OAAOuJ,MAEvB,YACI,OAAO3N,KAAKoE,OAAOjB,MAEvB,kBACI,OAAOnD,KAAKoE,OAAOxC,YAKvB,kBACI,MAAO,GAAG5B,KAAK+M,cAAc/M,KAAK0N,UAAU1N,KAAKsE,WAAWtE,KAAKhJ,OAErE,wBACI,MAAO,GAAGgJ,KAAK+M,cAAc/M,KAAK0N,UAAU1N,KAAKsE,UAOrD,eACI,IAAI4J,EAAO,EACPxP,EAAM,GACNyP,EAAQ,EACRC,EAAW,EACf,IAAK,IAAIpa,EAAI,EAAGA,EAAI,EAAQqa,SAASna,OAAQF,IAAK,CAC9C,GAAIgM,KAAKsO,MAAQJ,EAAM,CACnB,MAAOK,EAAOC,GAAU,EAAQH,SAASra,GACzCoa,EAAW9Q,KAAKE,IAAI4Q,EAAUG,GAC9B7P,GAAO,GAAGyP,QAAYK,OAE1BN,IAAS,EAEb,MAAO,CAAC,CAAC,GAAI,eAAgB,eAAeE,GAAW1P,GAGpD,WAAW+P,GACd,MAAMjC,EAAMxM,KAAKiD,SAAS/O,OAC1B,OAAIsY,IAAQiC,EAAMxL,SAAS/O,QACpB8L,KAAKiD,SAASyL,MAAM,CAACxP,EAAGlL,IAAMkL,EAAEhD,OAASuS,EAAMxL,SAASjP,GAAGkI,MAO/D,eACH,OAAO8D,KAAKiD,SAAS0L,OAAO,CAACC,EAAKC,IAAMD,EAAM,IAAMC,EAAE3S,KAAM8D,KAAK8O,OAO9D,OACH,OAAO5Q,EAAS8B,KAAK9F,KAMlB,QACH,IAAK,MAAM8I,KAAWhD,KAAKiD,SAAU,CACjC,MAAMpJ,EAAImJ,EAAQ9G,KAElB,IAAKrC,EAAG,SAER,MAAOqC,EAAMC,EAAP,CAAgBC,GAAOvC,EAAEuB,MAAM,KACrC,IAAKc,IAASC,IAAUC,EAAK,OAAO,EAExC,OAAO,EAMJ,cAEH,MAAM2S,EAAsB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAG/CC,EAAWtU,OAAOuU,iBACxB,IAAK,MAAMjM,KAAWhD,KAAKiD,SAAU,CACjC,MAAMpJ,EAAImJ,EAAQ9G,KAElB,IAAKrC,EAAG,SAGR,MAAMqV,EAAOjT,EAAapC,GAG1B,GAAa,OAATqV,EAAe,OAAOH,EAC1B,MAAOvS,EAAM2S,GAAaD,EAG1B,IAAK,MAAM9N,KAAO5E,EAAM,CACpB,MAAM4S,EAAWL,EAAS9O,EAASmB,IAGnCgO,EAAS5a,QAAQ2a,GAEjB,MAAOpG,EAAKsG,GAAUL,EAASM,cAActM,EAAQI,MAEjDiM,GAAU,GACVD,EAAS5a,KAAKuU,IAGdvO,QAAQ6I,KAAKL,EAAQI,KAAM,oBAC3BgM,EAAS5a,MAAM,KAK3B,OAAOua,EAGJ,IAAIhB,GACP,OAAO/N,OAAS+N,GAlJI,EAAAM,SAAW,CAC/B,CAAC,EAAG,SACJ,CACI,EACA,gIAEJ,CACI,EACA,+HAEJ,CACI,EACA,+GAEJ,CAAC,EAAG,wDCrGL,MAAM,EAAkB,EAAQ,QAAmBnK,QAG7CqL,EAAoB7U,OAAO8U,UAAUC,UAAUrH,cAAc4F,SAAS,YAgG5E,MAAM0B,EAAK,CACdC,aAAc,GACdC,WAAY,EACZC,kBAAmB,GACnBC,YAAa,GAMJC,EAA6B,MAC7BC,EAA6B,KAU7BC,EAAQ9b,OAAO+L,OAAO,CAC/B,KAAM,GACNgQ,EAAG,WACHC,EAAG,aACHC,EAAG,QACHC,EAAG,oBACHC,EAAG,aACHC,EAAG,UACHC,EAAG,YACHC,EAAG,UACHC,EAAG,SACHC,EAAG,aAKMC,EAAczc,OAAO+L,OAAO,CACrC,IAAK,EACL2Q,SAAU,EACVC,IAAK,EACLC,WAAY,EACZC,IAAK,EACLC,MAAO,EACPC,IAAK,EACL,oBAAqB,EACrBC,IAAK,EACLC,WAAY,EACZC,IAAK,EACLC,QAAS,EACTC,IAAK,EACLC,UAAW,EACXC,IAAK,EACLC,QAAS,EACTC,IAAK,EACLC,OAAQ,EACRC,IAAK,EACLC,SAAU,EACVC,IAAK,IC/II,GAAkB,EAGlB,GAAoB,EAKpBC,GAAuC,EAAQ,QAAmBA,QAKlE,GAAiC,CAC1CC,UAAWC,GACXC,UAAWC,GACXC,UAAWC,GACX1I,QAAS2I,IAOA,GAAuC,CAChDjO,QAAS,CACL,CACIzL,KAAM,qBACN2Z,OAAQC,IAEZ,CACI5Z,KAAM,qBACN2Z,OAAQE,IAEZ,CACI7Z,KAAM,4BACN2Z,OAAQ,SAASnO,EAAwBC,GACrC5J,OAAOiY,KACH,gDAAgDtO,EAAS7B,kBAAkB8B,EAAQ9B,KACnF,SACA,yCAIZ,CACI3J,KAAM,2BACN2Z,OAAQI,IAEZ,CACI/Z,KAAM,qCACN2Z,OAAQK,KAGhBzO,OAAQ,CACJ,CACIvL,KAAM,qBACN2Z,OAAQC,IAEZ,CACI5Z,KAAM,qBACN2Z,OAAQE,IAEZ,CACI7Z,KAAM,2BACN2Z,OAAQI,IAEZ,CACI/Z,KAAM,qCACN2Z,OAAQK,MASd,SAAU,GAAkBC,GAC9B,MAAMC,EAAQD,EAAK1K,cACnB,OAAI2K,EAAM1H,WAAW,QAAU0H,EAAM1H,WAAW,QAAU0H,EAAM1H,WAAW,OAAe,GACnF,mDAAmD3Q,OAAOsY,mBAC7DF,wBAOD,MAAM,GAAK,EAKL,GAA6B,EAC7B,GAA6B,EAU7B,GAAQ,EAKR,GAAc,EAOd,IAAsB,EAMtB,GAEA,oCASb,SAASJ,GAAWrO,EAAwBD,GACxC1J,OAAOiY,KACH,4BAA4BvO,EAAO2I,WAAW7K,gBAAgBkC,EAAOsJ,SACrE,UAOR,SAAS+E,GAAUpO,EAAwB4O,GACvCvY,OAAOiY,KACH,6EAA6EM,EAAMlG,cAAckG,EAAMvF,SACvG,UAIR,SAASmF,GAAYxO,EAAwB4O,GACzCvY,OAAOiY,KAAK,yCAAyCM,EAAM/Y,OAAQ,UAGvE,SAAS0Y,GAAgBvO,EAAwB4O,GAC7CvY,OAAOiY,KACH,qCAAqCM,EAAMlG,WAAW7K,iBAAiB+Q,EAAMvF,SAC7E,UAOR,SAASwF,KACL,OACmD,IAA/CxY,OAAOmH,SAASsR,KAAKtG,QAAQ,eACkB,IAA/CnS,OAAOmH,SAASsR,KAAKtG,QAAQ,aAEtB,wBAEsB,UAA7BnS,OAAOmH,SAASuR,UACS,sBAAzB1Y,OAAOmH,SAASsR,KAET,yBAEA,GAAGzY,OAAOmH,SAASuR,aAAa1Y,OAAOmH,SAASsR,OAO/D9T,eAAe+S,KACX,MAAM,KAAE1e,SAAe,EAAA0J,EAAM5D,IAAO0Z,KAAH,mCAC3B1G,EAAM9Y,EAAKQ,OACXmf,EAAY,IAAIC,WAAW9G,GAAO,GACxC,IAAK,IAAIxY,EAAI,EAAGA,EAAIwY,EAAKxY,IAAKqf,EAAUvJ,IAAIpW,EAAKM,GAAIA,EAAIwY,GACzD,OAAO6G,EAQXhU,eAAe6S,KACX,MAAM3T,QAAY,EAAAnB,EAAM5D,IAAiB0Z,KAAH,sCACtC,OAAO3U,EAAI7K,KAGf2L,eAAekT,GAAelO,GAG1B,MAAM9F,QAA+B,kBAAlBsD,SAASsR,MAAkD,UAAtBtR,SAASuR,SAC3D,EAAAhW,EAAMoC,KACF,uCACA,uBAAU,CACN+T,SAAUlP,EAAS7B,GACnBgR,MAAO,KACPC,YAAa,MACbC,OAAQ,sBACRC,SAAU,SAGlB,EAAAvW,EAAM5D,IACF,GAAG0Z,+BAAmC7O,EAAS7B,mBAAmBlF,KAAKsW,aAGjF,OAAO,IAAI,EACPvP,EACAwP,GACI,mBAAMtV,EAAI7K,KAAM,CACZogB,gBAAgB,EAChBC,QAAQ,IACTrgB,MAEPmJ,KAAKmX,OAIb,SAASH,GAAkBI,GAGvB,MAAMtK,EAAsCxV,OAAO8F,OAAO,MACpDia,EAAyB,GAC/B,IAAK,IAAIhf,EAAI,EAAGA,EAAI+e,EAAQ/f,OAAQgB,IAAK,CACrC,MAAMxB,EAAOugB,EAAQ/e,GAGf8B,EAAO,GAAYtD,EAAK,IACxBwG,GAAOxG,EAAK,GAAKA,EAAK,GAAKsD,GAAMoR,cAEjCnF,EAAsB,GAC5B,IAAIzG,EAAO9I,EAAK,GACZ4a,EAAmB,EACvB,IAAK,IAAIta,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,MAAMmI,EAAQ,EAAQ,EAAJnI,EACZmgB,EAAazgB,EAAKyI,GACpBD,EAAOxI,EAAKyI,EAAQ,GACpBiH,EAAO1P,EAAKyI,EAAQ,GACxB,GAAIgY,GAAcjY,GAAQkH,EAAM,CAC5B,MAAMgR,EAAc1gB,EAAKyI,EAAQ,GAiBjC,GAhBKK,IAAMA,EAAO4X,GAEdA,GAAeA,IAAgB5X,IAAM8R,GAAS,GAI7C6F,GACA/Q,GACc,QAAf+Q,GACS,QAAT/Q,GACe,QAAf+Q,GACS,QAAT/Q,IAEAkL,GAAS,GAGRpS,GAAiB,QAATA,GAA2B,QAATA,EAExB,CACH,MAAO,CAAEmY,EAAH,CAAaC,GAAQpY,EAAKd,MAAM,KAElCiZ,IAAWC,IAAMhG,GAAS,QAJ9BA,GAAS,EAQb,IAAIiG,EAAI,EACR,KAAOA,EAAItR,EAAS/O,OAAQqgB,IACxB,GAAIrY,EAAO+G,EAASsR,GAAGrY,KAAM,MAEjC+G,EAAS7N,OAAOmf,EAAG,EAAG,CAClBJ,aACAjY,OACAkH,UAKP5G,GAAiB,QAATA,GAA2B,QAATA,IAAgB8R,GAAS,GACpC,kBAAT9R,IAAmBA,EAAO,IAErC,IAAI4H,EAASuF,EAAWzP,GACnBkK,IACDA,EAASuF,EAAWzP,GAAO/F,OAAO8F,OAAO,EAAO7F,UAAW,CACvD2Y,WAAY,CACRnT,MAAOlG,EAAK,GACZ6F,YAAY,GAEhBmU,OAAQ,CACJ9T,OAAQlG,EAAK,GACb6F,YAAY,GAEhBvC,KAAM,CACF4C,MAAOlG,EAAK,GACZ6F,YAAY,GAEhBW,IAAK,CACDN,MAAOM,EACPX,YAAY,GAEhBoU,MAAO,CACH/T,MAAOlG,EAAK,GACZ6F,YAAY,GAEhB4J,MAAO,CACHvJ,MAAOlG,EAAK,IACZ6F,YAAY,GAEhBqI,YAAa,CACThI,MAAOlG,EAAK,IACZ6F,YAAY,GAEhBgJ,SAAU,CACN3I,MAAO,IAEX8I,IAAK,CACD9I,MAAO,GACPL,YAAY,MAKxB,MAAM+K,EAAmBnQ,OAAO8F,OAAO,EAAQ7F,UAAW,CACtDgQ,OAAQ,CACJxK,MAAOwK,GAEXlK,IAAK,CACDN,MAAOM,EACPX,YAAY,GAEhBiJ,GAAI,CACA5I,OAAQlG,EAAK,GACb6F,YAAY,GAEhB+K,QAAS,CACL1K,MAAOlG,EAAK,GACZ6F,YAAY,GAEhB4Q,MAAO,CACHvQ,MAAOlG,EAAK,IACZ6F,YAAY,GAEhBoL,OAAQ,CACJ/K,MAAOlG,EAAK,IACZ6F,YAAY,GAEhBib,WAAY,CACR5a,OAAQlG,EAAK,IACb6F,YAAY,GAEhBkb,iBAAkB,CACd7a,OAAQlG,EAAK,IACb6F,YAAY,GAEhBmb,UAAW,CACP9a,OAAQlG,EAAK,IACb6F,YAAY,GAEhB+U,MAAO,CACH1U,MAAO0U,EACP/U,YAAY,GAEhB0J,SAAU,CACNrJ,MAAOqJ,EACP1J,YAAY,GAEhB8Q,YAAa,CACTzQ,MAAOqU,EAAmBhL,EAAU,cAAcpD,KAAK,MACvDtG,YAAY,GAEhBgR,MAAO,CACH3Q,MAAOqU,EAAmBhL,EAAU,QAAQpD,KAAK,MACjDtG,YAAY,GAEhB8I,UAAW,CACPzI,MAAO2C,EAAUC,GACjBjD,YAAY,GAEhBuV,MAAO,CACHlV,MAAO4C,EACPjD,YAAY,KAMpB6K,EAAO1B,IAAIlO,MAAMd,EAAK,IACtB0Q,EAAO7B,SAAS/N,KAAK8P,GACrB4P,EAAY1f,KAAK8P,GAErB,MAAMqQ,EAAaxgB,OAAOyL,OAAO+J,GAGjC,MAAO,CAACA,EAAYgL,EAAYT,GAMpC7U,eAAeiT,GAAoBnE,EAAQ,IAEvC,MAAMnP,QAAoC,kBAAlB6C,SAASsR,MAAkD,UAAtBtR,SAASuR,SAChE,EAAAhW,EAAM5D,IAAY,uCAAuC8D,KAAKsW,UAC9D,EAAAxW,EAAM5D,IAAY,GAAG0Z,2CAA+C5V,KAAKsW,aAGzE7F,EAAUxX,SAASQ,cAAc,QACvCgX,EAAQ6G,UAAY5V,EAAStL,KAC7B,MAAMmhB,EAAU9G,EAAQvX,qBAAqB,UACvCse,EAA0B,GAChC,IAAK,IAAI9gB,EAAI,EAAGA,EAAIsJ,KAAKC,IAAI4Q,EAAO0G,EAAQ3gB,QAASF,IAAK,CACtD,MAAM+gB,EAASF,EAAQ7gB,GACjBkG,EAAM6a,EAAOpe,aAAa,SAChC,GAAIuD,EAAK,CACL,MAAM8a,EAAa9a,EAAIoC,QAAQ,GACzB2Y,EAAOF,EAAOH,UACpBE,EAAQtgB,KAAK,CACTgO,GAAIwS,EACJnc,KAAMoc,EACD7Z,MAAM,KACNhG,OAAO,EAAG,GACVyK,KAAK,QAKtB,OAAOiV,E,sCCrbG,MAAO,GAMjB,YACoB5Y,EAChByJ,EACgBxC,EACAvB,EACAwB,GAJA,KAAAlH,OAEA,KAAAiH,QACA,KAAAvB,cACA,KAAAwB,OAEhBpD,KAAK9F,IAAMgC,EACX8D,KAAK2F,QAAUuP,QAAQvP,GAbpB,qBAAqBqE,GACxB,OAAO,IAAI,MAASA,GAejB,OACH,OAAO9L,EAAS8B,KAAK9D,MAGlB,OACH,OAAO,IAAI,GAAM8D,KAAK9D,KAAM8D,KAAK2F,QAAS3F,KAAKmD,MAAOnD,KAAK4B,YAAa5B,KAAKoD,MAG1E,cACH,MAAM2L,EAAsB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAC9C7S,EAAMC,EAAP,CAAgBC,GAAO4D,KAAK9D,KAAKd,MAAM,KAC7C,GAAIc,GAAQC,GAASC,EAAK,CACtB,MAAM+Y,EAASnZ,EAAUG,GACrBiZ,EAAOpZ,EAAUI,GACrB,IAAK,IAAIpI,EAAI,EAAGA,EAAIkI,EAAKhI,OAAQF,GAAK,EAClC+a,EAAS9O,EAAS/D,EAAKI,OAAOtI,EAAG,KAAYQ,KAAK2gB,EAAQC,GAElE,OAAOrG,EAGJ,cACH,MAAM/E,EAAiB,CAAChK,KAAK9D,MAAO8D,KAAK2F,SAIzC,OAHI3F,KAAKmD,QAAO6G,EAAI,GAAKhK,KAAKmD,OAC1BnD,KAAK4B,cAAaoI,EAAI,GAAKhK,KAAK4B,aAChC5B,KAAKoD,OAAM4G,EAAI,GAAKhK,KAAKoD,MACtB4G,EAIJ,IAAIlH,GACP,OAAO,GChDD,MAAOuS,GAuBjB,YACoBC,EACAxT,EACAC,EACAuC,EACAtB,EACAX,GALA,KAAAiT,aACA,KAAAxT,WACA,KAAAC,SACA,KAAAuC,UACA,KAAAtB,UACA,KAAAX,YAzBb,KAAAkT,MAAQ,EAIR,KAAAjP,OAAS,EAIT,KAAAkP,QAAS,GCzBL,QACX,CACI3c,KAAM,UACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,MACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,WACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,YACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,YACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,aACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,SACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,UACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,UACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,gBACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI5c,KAAM,WACN+I,YAAa,GACb6T,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,a,8BCvML,MAAM,GAAU,CACnBC,YAAa,EACbC,SAAU,EACVC,UAAU,EACVC,UAAW,EACXC,QAAS,GACTC,QAAS,EACTC,WAAW,EACXC,MAAM,EACNC,QAAS,IAMN7W,eAAe8W,GAAsBja,GACxC,MAAMkL,EAAS1M,OAAOsN,aAGtBZ,EAAOgP,YACH,GAAQV,YACR,GAAQC,UACP,GAAQC,SACT,GAAQC,UACR,GAAQC,QACR,GAAQC,SACP,GAAQE,KACT,GAAQC,SAEZ,IAAIG,EAAI,EACJC,EAAM,EACNC,EAAQ,EACZ,IAAK,MAAMC,KAAUta,EAAM,CACvB,MAAMsQ,EAAMgK,EAAOtiB,OACnB,GAAY,IAARsY,EAAW,SAEf,MAAMiK,EAASrP,EAAOG,QAAc,EAANiF,GACxBkK,EAAM,IAAIC,WAAWvP,EAAOwP,OAAOC,OAAQJ,EAAc,EAANjK,GACzD,IAAK,IAAIxY,EAAI,EAAGA,EAAIwY,EAAKxY,IACrB0iB,EAAI,EAAI1iB,GAAKwiB,EAAOxiB,GAAG8N,SACvB4U,EAAI,EAAI1iB,EAAI,GAAKwiB,EAAOxiB,GAAG+N,OAY/B,MAAM+U,EAAO1P,EAAO2P,SAASN,EAAQjK,GACxB,IAATsK,IACAE,MAAM,kBACNxc,QAAQjC,MAAM,mBAElB,MAAMxD,EAAS,IAAIkiB,aAAa7P,EAAOwP,OAAOC,OAAQC,EAAY,EAANtK,GAC5D,IAAK,IAAIxY,EAAI,EAAGA,EAAIwY,EAAKxY,IACrBwiB,EAAOxiB,GAAGuhB,KAAOxgB,EAAO,EAAIf,EAAI,GAChCwiB,EAAOxiB,GAAGsS,MAAQvR,EAAO,EAAIf,EAAI,GAUrC,GARIwY,EAAM6J,IACNA,EAAI7J,EACJ8J,EAAMlP,EAAO8P,UACbX,EAAQnP,EAAO+P,aAKf,GAAQnB,UAAW,CACnB,MAAMoB,EAAM,IAAIC,WAAWjQ,EAAOwP,OAAOC,OAAQC,EAAY,GAANtK,GACvD,IAAK,IAAIxY,EAAI,EAAGA,EAAIwY,EAAKxY,IACjBojB,EAAI,GAAKpjB,KAAKwiB,EAAOxiB,GAAWshB,WAAa,UCZnD,MAAgB,GAoF1B,YAAYgC,EAAmB,GAAWhU,EAAkB,IAAlB,KAAAA,SAhDnC,KAAAiU,IAAmB,GAInB,KAAArb,KAAqB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAI9C,KAAAsb,YAAc,EAQd,KAAA/U,QAAkD,CAAEmH,QAAS,GAAIlH,IAAK,IAItE,KAAA+U,WAAatY,MAAM0M,KAAK,CAAE3X,OAAQ,GAASuhB,OAAOvhB,QAAU,IAAM,IAAImZ,KAItE,KAAAqK,cAAgB,EAKf,KAAAC,SAA2B,KAK3B,KAAAC,eAAiB,EASlB,KAAAC,eAA2B,GAM9B7X,KAAKuX,IAAMD,EACNtX,KAAK8X,UACN9X,KAAK+X,yBACL/X,KAAKgG,mBAhFN,oBAAoBgE,GACvB,MAAM,IAAEuN,EAAF,OAAOjU,GAAW0G,EAClBgO,EAAyC,GAC/C,IAAK,MAAM9d,KAAOqd,EAAK,CACnB,MAAMhV,EAAWgV,EAAIrd,GACrB8d,EAAS9d,IACS,IAAdqI,EAAkBA,EAAWA,EAASuJ,IAAImM,GAASA,EAAMnM,IAAI,EAAGtJ,QAASA,IAEjF,MAAO,CAACwV,KAAa1U,EAAOwI,IAAIhW,GAAK,GAAM1B,UAAU8jB,YAAY5jB,KAAKwB,KAGnE,sBAAsBkU,GACzB,MAAMuN,EAA2B,IAC1BS,KAAa1U,GAAU0G,EAC9B,IAAK,MAAM9P,KAAO8d,EAAU,CACxB,MAAM7L,EAAQ6L,EAAS9d,GACvBqd,EAAIrd,GACAiS,aAAiBhN,MAAQgN,EAAML,IAAImM,GAASA,EAAMnM,IAAItJ,IAAM,CAAGA,SAAU2J,EAEjF,MAAO,CACHoL,MACAjU,OAAQA,EAAOwI,IAAIhW,GAAK,GAAMqiB,cAAcriB,KAqE1C,QACN,MAAMsiB,EAAuB,GAC7B,IAAK,MAAMle,KAAO8F,KAAKuX,IAAK,CACxB,MAAMhV,EAAWvC,KAAKuX,IAAIrd,GAEtBke,EAAQle,GADRqI,aAAoBpD,MACLoD,EAASuJ,IAAIxW,GAAK,IAAI+X,IAAI/X,IAE1BiN,EAGvB,OAAO6V,EASH,SAASpO,GACb,MAAMqO,EAAY,GAASC,YAAYtO,EAAI9P,KAC3C,GAAIme,EAAW,OAAOA,EAEtB,MAAM5C,EAAS,GAASA,OAClB1M,EAAMiB,EAAIuO,OAAS9C,EAAOvhB,OAEhC,OADA8L,KAAKyX,WAAW1O,GAAKyP,IAAIxO,EAAI9P,KACtBub,EAAO1M,GAOX,QAAQzE,GACXtE,KAAK2X,SAAWrT,EAChBtE,KAAKgG,iBAAgB,GAGlB,gBACHhG,KAAK2X,SAAW,KAChB3X,KAAKgG,iBAAgB,GAOlB,MAAM9L,EAAasb,GAAS,GAC/B,IAAK,MAAMgB,KAAUxW,KAAK9D,KACtB,IAAK,MAAMuc,KAASjC,EACZiC,EAAMnU,QAAQpK,MAAQA,IAAKue,EAAMjD,OAASA,GAKnD,QAAQtb,GACX8F,KAAK0Y,MAAMxe,GAAK,GAYb,sBAAsBye,GAAO,EAAMzd,EAAO,KAC7CR,OAAOlC,aAAawH,KAAK4X,gBACrBe,QACM3Y,KAAK4Y,mBAEX5Y,KAAK4X,eAAiBld,OAAO3B,WAAW,KACpCiH,KAAK4Y,oBACN1d,GAIH,yBACJ,MAAMoH,EAAU5H,OAAO4H,QACvB,IAAKA,EAAS,OAEdtC,KAAK6Y,eAAc,GAInB,MAAM3c,EAAyB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAElDuG,EAAgC,GACtC,IAAK,MAAMvI,KAAO8F,KAAKuX,IAAK,CACxB,MAAM3M,EAAO5K,KAAKuX,IAAIrd,GAGhB4e,EAAaxW,EAAQkI,UAAUtQ,GAC/B6e,EAAaC,WAAWF,EAAWnL,OACnCsL,EAASpW,MAAMkW,GAAc,EAAIA,EAEjCxW,GACQ,IAAVqI,GACO,EACDA,EAAK+D,OAAO,CAACC,EAAKqJ,KACVA,EAAMjM,OACNiM,EAAMiB,QAAQha,GAAK0P,EAAI4J,IAAItZ,IAE3Bc,KAAKwX,aAAeyB,GAEjBrK,GACR,IAAIvB,KAGXjJ,EAAS9B,EAAQkI,UAAUtQ,EAAKqI,GAEtC,GAAK6B,EAAO7B,SAASrO,QAKrB,IAAkB,IAAdqO,EACAE,EAAQjO,KAAK,CAACskB,EAAY,CAAC,SAC3B9Y,KAAKmZ,MAAM/U,EAAQlI,QAGnB,GAAsB,IAAlBqG,EAASyJ,KAAY,CACrB,MAAMlJ,EAAMsB,EAAO7B,SAAS,GAC5BE,EAAQjO,KAAK,CAACskB,EAAY,CAAChW,EAAIN,GAAG3G,cAClCmE,KAAKmZ,MAAMrW,EAAK5G,QACb,GAAIqG,EAASyJ,KAAO,EAAG,CAC1B,GAAI,GAASoN,YAAa,CAEtB,MAAMvL,EAAW1Z,OAAOyL,OAAOwE,EAAOiV,eAAevN,IAAIwN,GACrDhX,EAAQkI,UACJpG,EAAOlK,IACPof,EAAKxN,IAAIhJ,GAAOA,EAAIN,MAG5B,IAAK,MAAM+W,KAAO1L,EAAU7N,KAAKmZ,MAAMI,EAAKrd,QAG5C8D,KAAKmZ,MAAM/U,EAAQlI,GAEvBuG,EAAQjO,KAAK,CAACskB,EAAY1U,EAAO7B,SAASuJ,IAAIhJ,GAAOA,EAAIN,GAAG3G,oBA3BhE4G,EAAQjO,KAAK,CAACskB,EAAY,CAAC,SAgCnC,GAAI9Y,KAAK2X,SAAU,CACf,MAAMrT,EAAUtE,KAAK2X,SAIrB,IAAI6B,GAAQ,EACZ,IAAK,MAAMhD,KAAUta,EACjB,IAAK,MAAMuc,KAASjC,EACZiC,EAAMnU,QAAQmV,IAAInV,KAAUkV,EAAQf,EAAMjD,QAAS,GAG1DgE,GAAOxZ,KAAKmZ,MAAM7U,EAASpI,GAIpCuG,EAAQwJ,KAAK,CAAC7O,EAAGC,MAAQD,EAAE,GAAGlD,IAAMmD,EAAE,GAAGnD,MACzC8F,KAAKyC,QAAQmH,QAAUnH,EAAQqJ,IAAI5M,GAAKA,EAAE,IAC1Cc,KAAKyC,QAAQC,IAAMD,EAAQqJ,IAAI5M,GAAKA,EAAE,IAEtC,IAAK,MAAM/H,KAAS6I,KAAKsD,OAAYnM,EAAMwO,SAAS3F,KAAKmZ,MAAMhiB,EAAO+E,SAGhEia,GAAsBja,GAG5B,MAAMwd,EAAcxd,EAAKyS,OAAO,CAAC2H,EAAKE,IAAWF,EAAME,EAAOtiB,OAAQ,GAClEwlB,EAAc,IAAK1Z,KAAK9D,KAAOA,EAE1Bwd,EAAc,MAAU1Z,KAAK9D,KAAO/H,OAAOwlB,KAAKzd,IAErD8D,KAAK9D,KAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACrC1B,QAAQ6I,KAAK,kBAOd,yBACH,MAAMyL,EAAuB,GAE7B,IAAK,MAAM5U,KAAO8F,KAAKuX,IAAK,CACxB,MAAM3M,EAAO5K,KAAKuX,IAAIrd,GAGhBlB,EACF4R,aAAgBzL,MACVyL,EAAK+D,OAAO,CAACC,EAAK1P,KACd,IAAK,MAAM2P,KAAK3P,EAAG0P,EAAI4J,IAAI3J,GAC3B,OAAOD,GACR,IAAIvB,MACN,EAELjJ,EAAS1J,OAAO4H,QAAQkI,UAAUtQ,EAAKlB,GAC7C,IAAK,MAAMsL,KAAWF,EAAO7B,SAErB+B,EAAQjC,WAAyC,KAAX,EAAhBiC,EAAQgK,QAC9BQ,EAAMta,KAAK8P,EAAQjC,WAI/BrC,KAAK4Z,mCAAmC9K,GAGrC,mCAAmCA,GACtC,MAAM+K,EAAQ,IAAIxM,IAClB,IAAK,MAAM7Q,KAAQsS,EAAO+K,EAAMrB,IAAIhc,EAAM,IAAIgc,IAAIhc,EAAM,GAAK,OAE7DwD,KAAK6X,eAAiB,IAAIgC,GAAO5N,KAAK,CAAC7O,EAAGC,IAAMD,EAAIC,GAChD2C,KAAK0X,cAAgB1X,KAAK6X,eAAe3jB,SAAQ8L,KAAK0X,cAAgB,GAOvE,UAAUrV,GACb,IAAKA,EAAW,OAAO,EAEvB,MAAOlG,EAAOC,GAAOiG,EACrB,SAC2B,IAAvBrC,KAAK0X,cACLva,EACI6C,KAAK6X,eAAe7X,KAAK0X,cACzB1X,KAAK6X,eAAe7X,KAAK0X,aAAe,GACxCvb,EACAC,IACC,GAUL,MAAMgI,EAAkClI,GAC5C,GAAIkI,aAAkB,EAAS,CAC3B,IAAKpE,KAAK8Z,UAAU1V,EAAO/B,WAAY,OACvC,MAAM0X,EAAQ/Z,KAAKga,SAAS5V,GAC5B,IAAK,MAAMpB,KAAWoB,EAAOnB,SACzBjD,KAAKia,YAAYF,EAAO7d,EAAMkI,EAAQpB,EAASoB,EAAO/B,gBAEvD,GAAI+B,aAAkB,GACrBA,EAAOuB,SACP3F,KAAKia,YAAYja,KAAKga,SAAS5V,GAASlI,EAAMkI,OAAQtL,OAEvD,CACH,IAAKsL,EAAO8V,cAAe,OAC3B,MAAMC,EAAY/V,EAAO7B,SACnB6X,EAAWD,EAAU,GAC3B,IAAKna,KAAK8Z,UAAUM,EAAS/X,WAAY,OAGzC,GAAyB,IAArB8X,EAAUjmB,OAAc,CACxB,MAAM6lB,EAAQ/Z,KAAKga,SAASI,GAC5B,IAAK,MAAMpX,KAAWoX,EAASnX,SAC3BjD,KAAKia,YAAYF,EAAO7d,EAAMke,EAAUpX,EAASoX,EAAS/X,gBAE9D,GAAI,GAASgY,gBAAiB,CAC1B,MAAMN,EAAQ/Z,KAAKga,SAAS5V,GAC5B,IAAK,MAAMpB,KAAWoX,EAASnX,SAC3BjD,KAAKia,YAAYF,EAAO7d,EAAMkI,EAAQpB,EAASoX,EAAS/X,gBAG5D,IAAK,MAAMiC,KAAW6V,EAAW,CAE7B,MAAMJ,EAAQ/Z,KAAKga,SAAS1V,GAC5B,IAAK,MAAMtB,KAAWsB,EAAQrB,SAC1BjD,KAAKia,YAAYF,EAAO7d,EAAMoI,EAAStB,EAASsB,EAAQjC,aAOxE,YACJ0X,EACA7d,EACAoH,EACAN,EACAX,GAEA,MAAMiY,EAAWhX,aAAkB,GAAQA,EAAOpH,KAAO8G,EAAS9G,MAE3Dqe,EAASpe,EAAV,CAAmBC,GAAOke,EAASlf,MAAM,KAC/C,GAAImf,GAAWpe,GAASC,EAAK,CACzB,MAAM0F,EAAW,EAAgB3F,GAC3B4F,EAAS,EAAgB3F,GAE/B,GAAI0F,IAAaC,EAEb,YADAvH,QAAQ6I,KAAK,8BAA+BC,EAAQnH,EAAOC,GAG/D,IAAK,IAAIpI,EAAI,EAAGA,EAAIumB,EAAQrmB,OAAQF,GAAK,EACrCkI,EAAK+D,EAASsa,EAAQje,OAAOtI,EAAG,KAAYQ,KACxC,IAAI6gB,GAAc0E,EAAOjY,EAAUC,EAAQuB,EAAQN,EAASX,KAUrE,cAAcmY,GAAY,GACzBA,IAAWxa,KAAK9D,KAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAEpD8D,KAAKyX,WAAatY,MAAM0M,KAAK,CAAE3X,OAAQ,GAASuhB,OAAOvhB,QAAU,IAAM,IAAImZ,KAC3ErN,KAAKwX,YAAc,EACnBxX,KAAKyC,QAAQC,IAAM,GACnB1C,KAAKyC,QAAQmH,QAAU,GAMpB,SACH,MAAM2N,EAA2B,GAC3BjV,EAAU5H,OAAO4H,QAEvB,IAAK,MAAMpI,KAAO8F,KAAKuX,IAAK,CACxB,MAAMhV,EAAWvC,KAAKuX,IAAIrd,GAEtBqd,EAAIrd,GADJqI,aAAoBpD,MACToD,EAASuJ,IAAImM,IACpB,MAAMvV,EAAM,GACZ,IAAK,MAAM+X,KAAOxC,EAAO,CACrB,MAAM,GAAEzV,EAAF,QAAM8B,GAAYhC,EAAQS,eAAe0X,GAC/C/X,EAAIlO,KAAK,CAAEgO,KAAI8B,YAEnB,OAAO5B,IAEGH,EAEtB,MAAO,CACHgV,MACAjU,OAAQtD,KAAKsD,QAUd,IAAIpJ,EAAawgB,GAAW,GAC/B,OAAIA,EAEI1a,KAAKsD,OAAOgC,KAAKpG,GAAKA,EAAEhD,OAAShC,IACjC8F,KAAK9D,KAAKoJ,KAAKkR,GAAUA,EAAOlR,KAAKmT,GAASA,EAAMnU,QAAQpK,MAAQA,IAEhEA,KAAO8F,KAAKuX,KAAOvX,KAAKsD,OAAOgC,KAAKpG,GAAKA,EAAEhD,OAAShC,GAM7D,WAAWA,EAAaoK,GAC3B,MAAMhP,EAAI0K,KAAKuX,IAAIrd,GACnB,OAAO5E,aAAa6J,QAA+C,IAAtC7J,EAAE4X,UAAUyN,GAAKA,EAAElB,IAAInV,IAMjD,cAAcpK,GACjB,MAAM5E,EAAI0K,KAAKuX,IAAIrd,GACnB,OAAO5E,aAAa6J,OAAS7J,EAAEoZ,MAAMiM,GAAgB,IAAXA,EAAE3O,MAMzC,UAAU9R,GACb,MAAM5E,EAAI0K,KAAKuX,IAAIrd,GACnB,KAAM5E,aAAa6J,OAAQ,OAAO,EAClC,GAAiB,IAAb7J,EAAEpB,OAAc,OAAO,EAE3B,MAAM0mB,EAAS,IAAIvN,IAAI/X,EAAE,IACzB,IAAK,IAAItB,EAAI,EAAGA,EAAIsB,EAAEpB,OAAQF,IAC1B,IAAK,MAAM6a,KAAKvZ,EAAEtB,GACd4mB,EAAOpC,IAAI3J,GAGnB,OAAOnU,OAAO4H,QAAQkI,UAAUtQ,EAAK0gB,GAAQrY,SAAS+C,KAAKhQ,GAAKA,EAAEulB,SAM/D,aAAa3gB,GAChB,OAA0B,IAAnB8F,KAAKuX,IAAIrd,GAMb,gBAAgBA,EAAaoK,GAChC,MAAM/B,EAAWvC,KAAKuX,IAAIrd,GAC1B,OAAkB,IAAdqI,GAAqBA,aAAoBpD,MACtCoD,EAAS2K,UAAU5X,GAAKA,EAAEmkB,IAAInV,KADwB,EAQ1D,QAAQpK,GACX,MAAM5E,EAAI0K,KAAKuX,IAAIrd,GACnB,OAAO5E,aAAa6J,OAAS7J,EAAEpB,OAAS,EAMrC,QAAQgG,GACX,MAAM5E,EAAI0K,KAAKuX,IAAIrd,GACnB,GAAI5E,aAAa6J,OAAS7J,EAAEpB,OAAS,EAAG,CACpC,MAAM4mB,EAAQxlB,EAAE,GAEhB,IAAK,IAAItB,EAAI,EAAGA,EAAIsB,EAAEpB,OAAQF,IAC1B,IAAK,MAAM6a,KAAKvZ,EAAEtB,GACd8mB,EAAMtC,IAAI3J,GAGlBvZ,EAAEF,OAAO,GACT4K,KAAK+X,yBACL/X,KAAKgG,mBAIN,QACHhG,KAAK6Y,gBACL7Y,KAAKuX,IAAM,GACXvX,KAAK2X,SAAW,KAChB3X,KAAKsD,OAAS,GACdtD,KAAK+X,yBAGF,QACH,OAAwC,IAAjC5jB,OAAOmY,KAAKtM,KAAKuX,KAAKrjB,QAAuC,IAAvB8L,KAAKsD,OAAOpP,OAGtD,OAAOoB,GACV,MAAMylB,EAAQ/a,KAAKsD,OAAOwI,IAAI5M,GAAKA,EAAEhD,MAAM+P,OACrC+O,EAAQ1lB,EAAEgO,OAAOwI,IAAI5M,GAAKA,EAAEhD,MAAM+P,OACxC,GAAI8O,EAAM7mB,SAAW8mB,EAAM9mB,OAAQ,OAAO,EAC1C,IAAK,IAAIF,EAAI,EAAGA,EAAI+mB,EAAM7mB,OAAQF,IAAK,GAAI+mB,EAAM/mB,KAAOgnB,EAAMhnB,GAAI,OAAO,EAEzE,OAAOgM,KAAKib,UAAU3lB,EAAEiiB,KAOrB,UAAUla,GACb,MAAMD,EAAI4C,KAAKuX,IACTjL,EAAOnY,OAAOmY,KAAKlP,GAEzB,GAAIkP,EAAKpY,SAAWC,OAAOmY,KAAKjP,GAAGnJ,OAAQ,OAAO,EAClD,IAAK,MAAMgG,KAAOoS,EAAM,CACpB,MAAM4O,EAAO9d,EAAElD,GACXihB,EAAO9d,EAAEnD,GACb,IAAKihB,EAAM,OAAO,EAElB,IAAc,IAAVD,IAAyB,IAAVC,GACf,GAAID,IAASC,EAAM,OAAO,MACvB,CACH,GAAID,EAAKhnB,SAAWinB,EAAKjnB,OAAQ,OAAO,EACxC,IAAK,IAAIF,EAAI,EAAGA,EAAIknB,EAAKhnB,OAAQF,IAAK,CAClC,IAAIonB,GAAU,EACd,IAAK,IAAIlmB,EAAI,EAAGA,EAAIimB,EAAKjnB,OAAQgB,IAAK,CAClC,MAAMmmB,EAAKH,EAAKlnB,GACVsnB,EAAKH,EAAKjmB,GAChB,IAAIqmB,GAAO,EACX,IAAK,MAAM1M,KAAKwM,EACZ,IAAKC,EAAG7B,IAAI5K,GAAI,CACZ0M,GAAO,EACP,MAER,GAAIA,EAAM,CACNH,GAAU,EACV,OAGR,IAAKA,EAAS,OAAO,IAKjC,OAAO,GCzoBf,SAASI,GAASpE,GACd,MAAyB,kBAAXA,EAAI,IAAwC,kBAAdA,EAAI,GAAG5U,GAOvD,SAASiZ,GAAMrE,GACX,OAAOA,EAAI,aAAcjY,OAASqc,GAASpE,EAAI,IAGnD,SAASsE,GACLzD,EACA/D,EACAyH,EACAC,GAEA,MAAM9R,EAAM,IAAIuD,IAChB,IAAK,MAAMwO,KAAU5D,EAAO,CAExB,MAAM5gB,EACwB,qBAAnBwkB,EAAOvX,QACR4P,EAAYzJ,KAAK3H,GAAOA,EAAIN,KAAOqZ,EAAOrZ,IAC1C0R,EAAYzJ,KAAK3H,GAAOA,EAAIN,KAAOqZ,EAAOrZ,IAAMM,EAAIwB,UAAYuX,EAAOvX,SAC7EjN,EAAQyS,EAAI0O,IAAInhB,EAAOmL,IAGvBmZ,EAASnnB,KACL,WAAWqnB,EAAOvX,cAAcsX,2DAG5C,OAAO9R,EDqBO,GAAAuQ,iBAAkB,EAClB,GAAAjB,aAAc,EACd,GAAAd,YAAyC,GACzC,GAAA7C,OAA4B,GAAa,GAAGA,OCrBhD,MAAO,WAAyB,GAC1C,YAAY6B,EAAmB,GAAIhU,EAAkB,IACjDvD,MAAMuX,EAAKhU,GAUR,OAAOpJ,EAAaoK,EAAiBwX,EAAW,EAAGC,GAAS,EAAMC,GAAS,GAC9E,IAAiB,IAAb1X,GACuB,IAAnBtE,KAAKuX,IAAIrd,GACL6hB,SAAe/b,KAAKuX,IAAIrd,GAEvB8F,KAAKuX,IAAIrd,GAAO,GAErB8F,KAAKuX,IAAIrd,IAAQ,MAElB,CACH,IAAIqI,EAAWvC,KAAKuX,IAAIrd,GACxB,GAAIqI,aAAoBpD,MAAO,CAC3B,MAAM8N,EAAO1K,EAASkI,KAAKkQ,GAAKA,EAAElB,IAAInV,IAClCwX,EAAW,IAAGA,EAAW,GAC7B,MAAM7D,EAAQ1V,EAASuZ,IAAa,IAAIzO,IACpCJ,IAASgL,EAELA,EAAMgE,OAAO3X,GACTyX,GAAU/b,KAAKkc,cAAchiB,WAAa8F,KAAKuX,IAAIrd,GAEvD+d,EAAMO,IAAIlU,SAEExL,IAATmU,GAKPA,EAAKgP,OAAO3X,GAHZ2T,EAAMO,IAAIlU,IAMd/B,EAASuZ,GAAY7D,OAGrBjY,KAAKuX,IAAIrd,GAAOqI,EAAW,EAAC,IAAI8K,KAAcmL,IAAIlU,IAGtD,IAAK,IAAItQ,EAAIuO,EAASrO,OAAS,EAAGF,GAAK,GAA0B,IAArBuO,EAASvO,GAAGgY,KAAYhY,IAAKuO,EAAS4Z,MAGlF,IAAK,IAAInoB,EAAI,EAAGA,EAAIuO,EAASrO,OAAQF,IAC3BuO,EAASvO,aAAcqZ,MACzB9K,EAASvO,GAAK,IAAIqZ,KAI1B2O,IACAhc,KAAK+X,yBACL/X,KAAKgG,mBAQN,SACH9J,EACAyJ,EACAxC,EACAC,EACAxB,GAEA,IAAK,MAAM9L,KAAKkK,KAAKsD,OACjB,GAAIxN,EAAEoG,OAASA,EACX,MAAM,IAAI1E,MACN,yCAAyC1B,EAAEqN,oDAIvD,MAAMiZ,EAAK,IAAI,GAAMlgB,EAAMyJ,EAASxC,EAAOvB,EAAawB,GAGxD,OAFApD,KAAKsD,OAAO9O,KAAK4nB,GACjBpc,KAAKgG,kBACEoW,EAGJ,YAAYlgB,GACf,IAAK,IAAIlI,EAAI,EAAGA,EAAIgM,KAAKsD,OAAOpP,OAAQF,IACpC,GAAIgM,KAAKsD,OAAOtP,GAAGkI,OAASA,EAAM,CAC9B8D,KAAKsD,OAAOlO,OAAOpB,EAAG,GACtB,MAGRgM,KAAKgG,kBAaF,gBAAgBgE,GACnB,IAAKA,EACD,MAAO,CACHuE,MAAO,QACP7P,IAAK,kBAEb,MAAM0D,EAAW,IAAI,GACjB4H,EAAI1G,SACJlB,EAASkB,OAAS0G,EAAI1G,OAAOwI,IAAI5M,GAC7B/K,OAAO+L,OAAOhB,aAAa,GAAQA,EAAI/K,OAAOkoB,eAAend,EAAG,GAAM9K,cAG9E,MAAMkY,EAAOnY,OAAOmY,KAAKtC,EAAIuN,KAAKzL,IAAI5M,GAAKA,EAAEkJ,eAC7C,GAAoB,IAAhBkE,EAAKpY,OACL,MAAO,CACHqa,MAAO,UACP7P,IAAK,iBACL4d,QAASla,GAGjB,MAAMuZ,EAAqB,GACrBrZ,EAAU5H,OAAO4H,QAEvB,IAAK,MAAMpI,KAAOoS,EAAM,CACpB,MAAM/J,EAAWyH,EAAIuN,IAAIrd,GAGnBkK,EAAS9B,EAAQkI,UAAUtQ,GAEjC,IAAI0hB,EAAU1hB,EAEd,GAAI,GAAqB,CACrB,MAAMqiB,EAAQriB,EAAI+D,MAAM,IACpBse,GAA0B,IAAjBA,EAAMroB,SACfqoB,EAAM,GAAK,IAAOA,EAAM,IACxBA,EAAM,GAAKA,EAAM,GAAGra,cACpB0Z,EAAUW,EAAM3hB,MAAM,GAAGiF,KAAK,MAItC,IAAKuE,EAAQ,CACTuX,EAASnnB,KAAQonB,EAAH,0DACd,SAGJ,MAAM1H,EAAc9P,EAAO7B,SACvBA,aAAoBpD,MACfoD,EAASrO,OAIN,EAAoBqO,GACpBH,EAASmV,IAAIrd,GAAO,CAChB,IAAImT,IACA9K,EACK2J,OAAOsQ,IAEAA,GAAOtI,EAAYhgB,QACnBynB,EAASnnB,KACL,sBAAsBgoB,SAAWZ,oCAGlCY,EAAMtI,EAAYhgB,SAE5B4X,IAAI/C,GAAOmL,EAAYnL,GAAKvG,MAIlCgZ,GAASjZ,GAChBH,EAASmV,IAAIrd,GAAO,CAChBwhB,GAAenZ,EAAU2R,EAAayH,EAAUC,IAG7CH,GAAMlZ,GACbH,EAASmV,IAAIrd,GAAOqI,EAASuJ,IAAImM,GAC7ByD,GAAezD,EAAO/D,EAAayH,EAAUC,IAIjDxZ,EAASmV,IAAIrd,GAAO,CAAC,IAAImT,KA/B7BjL,EAASmV,IAAIrd,GAAO,GAmCxBkI,EAASmV,IAAIrd,GAAOqI,EAG5B,OAAIoZ,EAASznB,OACF,CACHqa,MAAO,OACP+N,QAASla,EACT1D,IAAKid,EAAS9b,KAAK,SAGhB,CACH0O,MAAO,UACP+N,QAASla,EACT1D,IAAK,WAQV,KAAK+d,GAAgB,GACxB,MAAMrE,EAAUpY,KAAK0c,QAErB,OAAO,IAAI,GACPtE,EACAqE,EAAgBzc,KAAKsD,OAAOwI,IAAIhW,GAAKA,EAAE6mB,QAAU3c,KAAKsD,QAOtD,WAAW5F,EAAM,GAAIkf,EAAc,IAAKC,EAAc,IAC1D,IAAK,IAAI7oB,EAAI,EAAGA,EAAI0J,EAAK1J,IAAK,CAC1B,IAAIkI,EAAO,GACX,IAAK,IAAIhH,EAAI,EAAGA,EAAI,EAAGA,IACfoI,KAAKsW,SAAW,KAChB1X,GAAQwE,EAAKxL,IAGrB,IAAKgH,EAAM,CACPlI,IACA,SAEJ,MAAMmI,EAAQmB,KAAKK,MAAML,KAAKsW,UAAY,KAAOgJ,IAC3CxgB,EACFD,EAAQ0gB,EAAcvf,KAAKK,MAAML,KAAKsW,UAAYgJ,EAAcC,IAChEzgB,GAAO,OAEXF,GACI,IACA,EAAa,EAAgBC,IAC7B,MACA,EAAa,EAAgBC,IAEjC4D,KAAKsD,OAAO9O,KAAK,IAAI,GAAM0H,GAAM,EAAM,QAAUlI,KAErDgM,KAAKgG,kBACLtL,OAAOuJ,aAGH,gBACJ,MAAM3B,EAAU5H,OAAO4H,QACvB,IAAK,MAAM8B,KAAU9B,EAAQsH,QACzB,GAAmB,OAAfxF,EAAOpN,KAAe,CACtB,MAAMsiB,EAAO,CACT,IAAIjM,IACAjJ,EAAO7B,SACF2J,OAAO5W,GAAKA,EAAE2N,SAASyL,MAAMzV,IAAsC,IAAjCA,EAAEmK,KAAKyJ,QAAQ,eACjDf,IAAIxW,GAAKA,EAAEkN,MAGpB8W,EAAK,GAAGtN,OAAMhM,KAAKuX,IAAInT,EAAOlK,KAAOof,GAGjDtZ,KAAK+X,yBACL/X,KAAKgG,kBAMF,OAAO9L,UACH8F,KAAKuX,IAAIrd,GAChB8F,KAAK+X,yBACL/X,KAAKgG,mBC9Tb,MAAM8W,GACF,kKAEU,MAAO,WAA0B,GAM3C,YAAYxF,EAAuB,GAAIhU,EAAkB,IACrD,MAAMyZ,EAAoC,GAC1C,IAAK,MAAO7iB,EAAKqI,KAAa+U,EAAK,CAC/B,MAAMgC,EAAOyD,EAAQ7iB,GACjBof,EACAA,EAAK9kB,KAAK,IAAI6Y,IAAI9K,IAElBwa,EAAQ7iB,GAAO,CAAC,IAAImT,IAAI9K,IAGhCxC,MAAMgd,EAASzZ,GACftD,KAAKuX,IAAMwF,EAGR,SACH,MAAM,IAAIjd,EAAegd,IAGtB,SACH,MAAM,IAAIhd,EAAegd,IAGtB,KAAKL,GAAgB,GACxB,MAAMrE,EAAUpY,KAAK0c,QAErB,OAAO,IAAI,GACPtE,EACAqE,EAAgBzc,KAAKsD,OAAOwI,IAAIhW,GAAKA,EAAE6mB,QAAU3c,KAAKsD,SCPlE,IAAY0Z,IAAZ,SAAYA,GACR,8BACA,+BAFJ,CAAYA,QAAQ,KAcpB,MAAM,GAOF,YACWnI,EAAsC,CAAEoI,OAAQ,GAAInjB,KAAM,GAChDwJ,EAAkB,GAClB4Z,EAA6B,GAC7BC,EAAoB,GACrCC,EAAwC,GACvBhW,GALV,KAAAyN,UACU,KAAAvR,SACA,KAAA4Z,YACA,KAAAC,UAEA,KAAA/V,SAEjBpH,KAAKod,YAAcA,EAGvB,WACI,OAAKpd,KAAKoH,OACHpH,KAAKoH,OAAOiW,QADM,EAI7B,kBACI,OAAOrd,KAAKsd,aAGhB,gBAAgBF,GAIZ,GAHApd,KAAKsd,aAAeF,GAGfpd,KAAKoH,QAA8C,IAApCjT,OAAOmY,KAAK8Q,GAAalpB,OAAc,OAE3D,MAAMqpB,EAAavd,KAAKmd,QAAQjpB,OAAS,EACnCoT,EAAMtH,KAAKoH,OAAQG,QAAqB,EAAbgW,GAC3BC,EAAqBxd,KAAKoH,OAAOqW,QAAQ3U,SAASxB,EAAM,EAAGA,EAAM,EAAIiW,GAAYG,KACnF,OAEJ,IAAK,MAAMxjB,KAAOkjB,EAAa,CAE3B,MAAMO,EAAUP,EAAYljB,GAAKyU,OAAiB,CAACC,EAAK1P,KACpD,IAAK,MAAMsD,KAAMtD,EAAG0P,EAAIpa,KAAKgO,GAC7B,OAAOoM,GACR,IACH,IAAK,IAAI5a,EAAI,EAAGA,EAAIupB,EAAYvpB,IAC5B,IAAK,IAAIkB,EAAI8K,KAAKmd,QAAQnpB,GAAIkB,EAAI8K,KAAKmd,QAAQnpB,EAAI,GAAIkB,IAAK,CACxD,MAAMokB,EAAOtZ,KAAKkd,UAAUhoB,GAC5B,GAAIokB,EAAK,KAAOpf,GAAOyjB,EAAQrY,KAAK9C,GAAM8W,EAAK,GAAGtL,SAASxL,IAAM,CAC7Dgb,EAAmBxpB,GAAKkB,EACxB,QAKhB8K,KAAKoH,OAAOwW,gBAAgBtW,GAGzB,MAAK,WAAEuW,GAAkD,IAC5D,GAAK7d,KAAKoH,OAAV,CAGIyW,IAAY7d,KAAK6U,QAAUgJ,GAC/B7d,KAAKoH,OAAQ0W,aAAa9d,KAAK6U,QAAQ/a,MAGvC,IAAK,IAAI9F,EAAI,EAAGA,EAAIgM,KAAK6U,QAAQoI,OAAO/oB,OAAQF,IAAK,CACjD,MAAM+gB,EAAS/U,KAAK6U,QAAQoI,OAAOjpB,GACnCgM,KAAKoH,OAAQ2W,eACT/pB,GACC+gB,EAAOiJ,SACPjJ,EAAOkJ,QACRlJ,EAAOhM,IACPgM,EAAOpK,QAAU,GAGzB3K,KAAKoH,OAAQ8W,SAOV,YAAYnV,GACf,MAAM3B,EAASpH,KAAKoH,OAEdE,EAAMF,EAAO+W,aAAapV,GAAO,EACvC,OAAO,IAAI,GACP5J,MAAM0M,KAAKzE,EAAOqW,QAAQ3U,SAASxB,EAAKA,EAAMtH,KAAKmd,QAAQjpB,OAAS,IAAI4X,IACpEsS,GAAUpe,KAAKkd,UAAUkB,IAE7Bpe,KAAKsD,QAMN,QACH,OAAqB,IAAdtD,KAAKgM,KAGT,SAASqS,GACZ,OAAKre,KAAKoH,OACM,mBAAZiX,EAAIxlB,KAAkC,EACnCmH,KAAKoH,OAAQkX,UAAUD,EAAItV,KAFT,GAKlB,UCnHT,SAAUwV,GACZC,EACAC,EACAC,EAAQ,EACRC,EAAQ,GAER,IAAK,IAAI3qB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAExB,MAAM4qB,EAAOJ,EAAWxqB,GACpB6qB,EAAOJ,EAAWzqB,GACtB,GAAK6qB,EAAK3qB,OAEV,IAAK,IAAIgB,EAAI,EAAGA,EAAI0pB,EAAK1qB,OAAQgB,GAAKwpB,EAAO,CACzC,MAAMI,EAASF,EAAK1pB,GACd6pB,EAAOH,EAAK1pB,EAAI,GACtB,IAAK,IAAIqf,EAAI,EAAGA,EAAIsK,EAAK3qB,OAAQqgB,GAAKoK,EAClC,GAAIxhB,EAAY2hB,EAAQC,EAAMF,EAAKtK,GAAIsK,EAAKtK,EAAI,IAAM,EAAG,OAAO,GAG5E,OAAO,EAOX,SAASyK,GAAmB5X,EAAkB6X,GAC1C,MAAMC,EAAcD,EAAW/qB,OACzBirB,EAA0B,EAAdD,EAClB,IAAI1S,EAAM2S,EACV,IAAK,MAAMrc,KAAOmc,EACd,IAAK,MAAM7d,KAAO0B,EACd0J,GAAOpL,EAAIlN,OAGnB,MAAMoT,EAAMF,EAAOG,QAAc,EAANiF,GACrB4K,EAAMhQ,EAAOqW,QAAQ3U,SAASxB,EAAM,GAC1CkF,EAAM,EACN,IAAK,IAAIxY,EAAI,EAAGA,EAAIkrB,EAAalrB,IAAK,CAClC,IAAK,IAAIugB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB6C,EAAQ,EAAJpjB,EAAQugB,GAAK/H,EACjB,MAAMpL,EAAM6d,EAAWjrB,GAAGugB,GAC1B6C,EAAItN,IAAI1I,EAAKoL,EAAM2S,GACnB3S,GAAOpL,EAAIlN,OAEfkjB,EAAQ,EAAJpjB,EAAQ,GAAKwY,EAErB,OAAOlF,EAMX,SAAS8X,GACLC,EACAC,EACAC,GAEA,MAAML,EAAcG,EAAcnrB,OAElC,IAAK,IAAIF,EAAI,EAAGA,EAAIkrB,EAAalrB,IAC7B,IAAK,IAAIkB,EAAIlB,EAAI,EAAGkB,EAAIgqB,EAAahqB,IAEjCqqB,EAAcvrB,EAAIkrB,EAAchqB,GAAKqqB,EAAcrqB,EAAIgqB,EAAclrB,KACjEuqB,GAAkBc,EAAcrrB,GAAIqrB,EAAcnqB,GAAI,EAAG,KACwB,IAAjFiI,EAAYmiB,EAAStrB,GAAG,GAAIsrB,EAAStrB,GAAG,GAAIsrB,EAASpqB,GAAG,GAAIoqB,EAASpqB,GAAG,KAkBxF,MAAM,GACF,YACoBoN,EACAkd,EACA3K,GAFA,KAAAvS,UACA,KAAAkd,aACA,KAAA3K,UAOb,aACHzS,EACAgb,EAAwC,IAKxC,MAAMqC,EAAyBrd,EAASkB,OAAOwI,IAAIhW,GAAKA,EAAE4pB,eAC1D,IAAK,MAAMvoB,KAAS6I,KAAK6U,QAAQ4K,UAAWA,EAAUjrB,KAAK2C,EAAMuoB,eAEjE,MAAMxC,EAA6B,GAC7BmC,EAA6B,GAC7BC,EAA0B,GAE1BnC,EAAU,CAAC,GACXvT,EAAUxH,EAASmV,IAEnBoI,EAAqC,GAE3C,IAAK,MAAMzlB,KAAO0P,EAAS,CACvB,MAAMgB,EAAOhB,EAAQ1P,GACfga,GAAwB,IAAVtJ,EAAe,EAAE,GAAeA,EAEpD,IAAIgV,GAAa,EACjB,IAAK,IAAI5rB,EAAI,EAAGA,EAAIkgB,EAAYhgB,OAAQF,IAAK,CACzC,MAAM6rB,EAAW3L,EAAYlgB,GAG7B,GAAI6rB,aAAoBxS,KAAyB,IAAlBwS,EAAS7T,KAAY,SAEpD,MAAM8T,EAAY9f,KAAKsC,QAAQkI,UAAUtQ,EAAK2lB,IAEvCE,EAASd,EAAYnQ,EAAOkR,GAAchgB,KAAK0b,eAClDoE,EACAL,GAGJG,GAAa,EAEU,IAAnBG,EAAQ7rB,OACRyrB,EAAKnrB,KAAK,CACN+Z,MAAO,OACP7P,IAAK,kBAAkBohB,EAAU5c,cACvB,IAANlP,IAAyB,IAAd6rB,EAAkB,GAAK,uBAAyB7rB,sFAInEmpB,EAAQ3oB,KAAKurB,EAAQ7rB,QACrBgpB,EAAU1oB,QAAQurB,GAClBV,EAAc7qB,QAAQyqB,GACtBK,EAAS9qB,QAAQsa,IAEjBkR,GACAL,EAAKnrB,KAAK,CACN+Z,MAAO,OACP7P,IAAK,2BAA2BohB,EAAU5c,cAChC,IAANlP,IAAyB,IAAd6rB,EAAkB,GAAK,uBAAyB7rB,kHAK3E,GAAI4rB,EACA,MAAO,CACHrR,MAAO,QACP7P,IAAK,kBACDsB,KAAKsC,QAAQkI,UAAUtQ,GAAM,GAAGgJ,6BAMhD,GAAyB,IAArBga,EAAUhpB,OACV,MAAO,CACHqa,MAAO,QACP7P,IAAK,+EAIb,IAAK,IAAI1K,EAAI,EAAGA,EAAImpB,EAAQjpB,OAAQF,IAChCmpB,EAAQnpB,IAAMmpB,EAAQnpB,EAAI,GAE9B,MAAMoT,EAAS1M,OAAOsN,aAGhBiY,EAAY7Y,EAAOG,QAAyB,EAAjB4V,EAAQjpB,QACzCkT,EAAOyB,OAAOiB,IAAIqT,EAAS8C,EAAY,GAGvC,MAAM5C,EAAQH,EAAUhpB,QAAU,EAC5BgsB,EAAmB9Y,EAAOG,QAAQ8V,GAGxC+B,GACIC,EACAC,EACAlY,EAAOwP,OAAO9N,SAASoX,EAAkBA,EAAmB7C,IAKhE,MAAMrR,EAAO5E,EAAO+Y,UAChBhD,EAAQjpB,OAAS,EACjB8L,KAAK6U,QAAQuL,gBACbH,EACAC,EACAlB,GAAmB5X,EAAQiY,IAI/B,GAAIrT,EAAO,EACP,MAAO,CACHuC,MAAO,QACP7P,IAAK,mEAEb,GAAa,IAATsN,EACA,MAAO,CACHuC,MAAO,QACP7P,IAAK,+EAGb,MAAM2hB,EAAY,IAAI,GAClBrgB,KAAK6U,QAAQyL,YACble,EAASkB,OACT4Z,EACAC,EACAC,EACA1iB,OAAOsN,cAGXqY,EAAUpU,OAEV,IAAIsU,EAAY,GAChB,IAAK,MAAM7hB,KAAOihB,EAAMY,GAAa7hB,EAAIA,IAAM,OAC/C,MAAO,CACH6P,MAAOoR,EAAKzrB,OAAS,EAAI,OAAS,UAClCwK,IAAK,GAAG6hB,IAAYvU,yBACpBsQ,QAAS+D,GAIT,eAAeP,EAAmBL,GACtC,MAAMM,EAA2B,GAC7Bd,EAA0B,GAC1BnQ,EAAuB,GAGrBjB,EAAW7N,KAAK6U,QAAQwF,gBACxBlmB,OAAOyL,OAAOkgB,EAAUzG,eACxByG,EAAUvd,SAASuJ,IAAIxW,GAAK,CAACA,IAEnC,IAAI0qB,GAAa,EAEjBQ,EAAO,IAAK,MAAMje,KAAYsL,EAAU,CAIpC,MAAMrR,EAAOD,EAAUgG,EAAS,GAAGuM,OACnC,IAAKtS,EAAM,SAEX,MAAMikB,EAAYle,EAAS,GAAGme,cAC9B,GAAID,EAAUnb,KAAK8R,GAAOA,EAAIljB,OAAS,GAAI,CACvC8rB,GAAa,EAGb,IAAK,MAAMW,KAAMlB,EACb,GAAIlB,GAAkBoC,EAAIF,EAAW,EAAG,GAAI,SAASD,EAG7D,MAAMI,EAAuB,GAC7B,IAAK,MAAMtc,KAAW/B,EAEdvC,KAAK6U,QAAQlQ,OAAOqJ,SAAS1J,EAAQK,SAEzCic,EAAWpsB,KAAK8P,EAAQ9B,IAGxBoe,EAAW1sB,SACX6rB,EAAQvrB,KAAK,CAACsrB,EAAU5lB,IAAK0mB,IAC7B3B,EAAWzqB,KAAKisB,GAChB3R,EAAMta,KAAKgI,IAInB,MAAO,CAACujB,EAASd,EAAYnQ,EAAOkR,IAI7B,UCjSf,SAASa,GAAMnjB,EAAaojB,EAAaC,GACrC,OAAOzjB,KAAKC,IAAID,KAAKE,IAAIsjB,EAAKpjB,GAAMqjB,GASlC,MAAO,GAAb,cA6CI,KAAAC,UAAW,EACX,KAAAC,UAAW,EACX,KAAAC,gBAAiB,EACjB,KAAAC,oBAAqB,EACrB,KAAAC,YAAa,EACb,KAAAC,UAAW,EACX,KAAAjI,aAAc,EACd,KAAAiB,iBAAkB,EAClB,KAAAiH,kBAAmB,EACnB,KAAAC,WAAY,EACZ,KAAAC,aAAc,EAEN,KAAAC,YAAc,GACd,KAAAC,eAAiB,GACjB,KAAAC,iBAAmB,IACnB,KAAAC,kBAAoB,EACpB,KAAAC,UAAY,QACZ,KAAAC,QAAU,QACV,KAAAC,OAAS,IACT,KAAAC,aAAe,EA/DhB,oBAAoBhY,GAEvB,MAAMsC,EAAOnY,OAAOmY,KAAKtC,GAAKiC,OACxBlX,EAA2B,CAAC,GAGlC,IAAIktB,EAAO,EACPC,EAAU,EACd,IAAK,MAAMhoB,KAAOoS,GACG,IAAbtC,EAAI9P,IACJ+nB,GAAQC,EACRA,IAAY,IACQ,IAAblY,EAAI9P,GACXgoB,IAAY,EAEZntB,EAAOP,KAAKwV,EAAI9P,IAIxB,OADAnF,EAAO,GAAKktB,EACLltB,EAEJ,sBAAsBiV,GACzB,MAAMmY,EAAkB,IAAI,GAGtB7V,EAAOnY,OAAOmY,KAAK6V,GAAiBlW,OAI1C,IAAIiW,EAAU,EACVhU,EAAO,EACX,MAAM+T,EAAOjY,EAAI,GACjB,IAAK,MAAM9P,KAAOoS,EACVpS,EAAImR,WAAW,KACf8W,EAAgBjoB,GAAO8P,EAAIkY,MAE3BC,EAAgBjoB,GAAOgb,QAAQ+M,EAAO/T,GACtCA,IAAS,GAGjB,OAAOiU,EA0BX,iBACI,OAAOniB,KAAKyhB,YAEhB,eAAeviB,GACXc,KAAKyhB,YAAcZ,GAAM3hB,EAAG,EAAG,KAEnC,oBACI,OAAOc,KAAK0hB,eAEhB,kBAAkBxiB,GACdc,KAAK0hB,eAAiBb,GAAM3hB,EAAG,EAAG,KAEtC,uBACI,OAAOc,KAAK4hB,kBAEhB,qBAAqB1iB,GACjBc,KAAK4hB,kBAAoBf,GAAM3hB,EAAG,EAAG,IAEzC,sBACI,OAAOc,KAAK2hB,iBAEhB,oBAAoBziB,GAChBc,KAAK2hB,iBAAmBd,GAAM3hB,EAAG,IAAM,KAE3C,eACI,OAAOc,KAAK6hB,UAEhB,aAAa/rB,GACTkK,KAAK6hB,UAAYpkB,EAAUojB,GAAM9kB,EAAUjG,GAAK,QAAS,EAAG,MAEhE,aACI,OAAOkK,KAAK8hB,QAEhB,WAAWhsB,GACPkK,KAAK8hB,QAAUrkB,EAAUojB,GAAM9kB,EAAUjG,GAAK,SAAU,IAAS,OAErE,YACI,OAAOkK,KAAK+hB,OAEhB,UAAUjsB,GACNkK,KAAK+hB,OAASlB,GAAM/qB,EAAG,GAAI,KAE/B,kBACI,OAAOkK,KAAKgiB,aAEhB,gBAAgBlsB,GACZkK,KAAKgiB,aAAelsB,EAIxB,SAASkU,GACL,MAAMoY,EAAapiB,KAAKqiB,aACxB,IAAK,MAAMnoB,KAAOkoB,EAAY,CAC1B,MAAME,EAAMtY,EAAI9P,GACVqoB,EAASH,EAAWloB,GAEtB8F,KAAK9F,UADEooB,WAAeC,EACVD,EAEAC,GAKxB,SACI,OAAOviB,KAGX,aACI,OAAO,IAAI,IAIJ,WAAI,GCrInB,MAAMwiB,GAAOruB,OAAO+L,OAAO,CACvBuiB,KAAM,OACNlqB,MAAO,SACP8K,KAAM,UACNqf,QAAS,YAaPC,IAPOxuB,OAAO+L,OAAO,CACvBuiB,KAAM,OACNG,OAAQ,QACRF,QAAS,OACTG,QAAS,SAGgC1uB,OAAO+L,OAAO,CACvDuiB,KAAM,EACNC,QAAS,EACTG,QAAS,EACTD,OAAQ,KAOZ,MAAME,GAAN,cACW,KAAApkB,IAAM,GACN,KAAAqkB,IAAsB,GAItB,KAAAC,QAAgC,GAC/B,KAAAC,IAAqB,KAUtB,OACHvkB,EACAqkB,EAAiB,OACjB3qB,EAAU,EACV8qB,GAAW,GAEQ,kBAARxkB,IACPqkB,EAAMP,GAAK9jB,EAAI6P,OACf7P,EAAMA,EAAIA,KAGdsB,KAAKgjB,QAAQG,QAAQ,CACjBzkB,MACAqkB,MACAK,OAAO,IAAIvmB,MAAOwmB,yBAIjBrjB,KAAK+iB,KAAOJ,GAAOI,IAAQJ,GAAO3iB,KAAK+iB,MAAQG,KAC5CljB,KAAKijB,KAAKvoB,OAAOlC,aAAawH,KAAKijB,KACvCjjB,KAAKtB,IAAMA,EACXsB,KAAK+iB,IAAMA,EACX/iB,KAAK+G,MAAM3O,IAIZ,QACH,OAAQ4H,KAAKtB,MAAQsB,KAAK+iB,IAOvB,MAAM3qB,EAAU,GACfA,GAAW,GACX4H,KAAKtB,IAAM,GACXsB,KAAK+iB,IAAM,GACX/iB,KAAKijB,IAAM,MAEXjjB,KAAKijB,IAAMvoB,OAAO3B,WAAW,IAAMiH,KAAK+G,MAAM,GAAc,IAAV3O,GAInD,eACH4H,KAAKgjB,QAAU,GAUZ,KAAKtkB,EAAatG,EAAU,EAAG8qB,GAAW,GAC7CljB,KAAKsjB,OAAO5kB,EAAK,UAAWtG,EAAS8qB,GAUlC,MAAMxkB,EAAatG,EAAU,EAAG8qB,GAAW,GAC9CljB,KAAKsjB,OAAO5kB,EAAK,SAAUtG,EAAS8qB,GAUjC,QAAQxkB,EAAatG,EAAU,EAAG8qB,GAAW,GAChDljB,KAAKsjB,OAAO5kB,EAAK,UAAWtG,EAAS8qB,GAUlC,KAAKxkB,EAAatG,EAAU,EAAG8qB,GAAW,GAC7CljB,KAAKsjB,OAAO5kB,EAAK,OAAQtG,EAAS8qB,IAI3B,WAAIJ,GCzGnB,MAAMS,GAA2C,CAC7CtG,OAAQ,CACJ,CACIpkB,KAAM,WACNmlB,SAAS,EACTC,SAAS,EACTlV,IAAK,EACL4B,OAAQ,EACR6Y,UAAW,CAAC,mBACZrgB,MAAO,mBACPvB,YAAa,+CAEjB,CACI/I,KAAM,WACNmlB,SAAS,EACTC,SAAS,EACTlV,IAAK,EACL4B,OAAQ,EACR6Y,UAAW,CAAC,mBACZrgB,MAAO,WACPvB,YAAa,mCAEjB,CACI/I,KAAM,cACNmlB,SAAS,EACTC,SAAS,EACTlV,IAAK,EACL4B,OAAQ,EACR6Y,UAAW,CAAC,mBACZrgB,MAAO,uBACPvB,YAAa,6BAEjB,CACI/I,KAAM,YACNmlB,SAAS,EACTC,SAAS,EACTlV,IAAK,EACL4B,OAAQ,EAER6Y,UAAW,CAAC,mBACZrgB,MAAO,aACPvB,YAAa,0BAEjB,CACI/I,KAAM,UACNmlB,SAAS,EACTC,SAAS,EACTlV,IAAK,EACL4B,OAAQ,EACR6Y,UAAW,CAAC,mBACZrgB,MAAO,WACPvB,YAAa,oCAEjB,CACI/I,KAAM,aACNmlB,SAAS,EACTC,SAAS,EACTlV,IAAK,EACL4B,OAAQ,EACR6Y,UAAW,CAAC,mBACZrgB,MAAO,aACPvB,YAAa,kCAEjB,CACI/I,KAAM,kBACNmlB,SAAS,EACTC,SAAS,EACTlV,IAAK,EACL4B,OAAQ,EACR6Y,UAAW,CAAC,WAAY,cAAe,YAAa,UAAW,YAC/DrgB,MAAO,oBACPvB,YAAa,kBAGrB9H,KAAMkjB,GAASnP,SACf,SACI,MAAO,CACHoP,OAAQjd,KAAKid,OAAOnR,IAAI5M,IAAK,CACzBrG,KAAMqG,EAAErG,KACRmlB,QAAS9e,EAAE8e,QACXC,QAAS/e,EAAE+e,QACXlV,IAAK7J,EAAE6J,IACP4B,OAAQzL,EAAEyL,UAEd7Q,KAAMkG,KAAKlG,OAGnB,SAASwd,GACL,GAAIA,QAAoBxe,IAAbwe,EAAIxd,MAAsBwd,EAAI2F,OAAQ,CAC7Cjd,KAAKlG,KAAOwd,EAAIxd,KAChB,IAAK,MAAM2pB,KAAWnM,EAAI2F,OACtB,IAAK,MAAMhR,KAAQjM,KAAKid,OACpB,GAAIhR,EAAKpT,OAAS4qB,EAAQ5qB,KAAM,CAC5BoT,EAAK+R,QAAUyF,EAAQzF,QACvB/R,EAAKgS,QAAUwF,EAAQxF,QACvBhS,EAAKtB,OAAS8Y,EAAQ9Y,QAAU,EAChC,OAKhB,OAAO3K,OAOf,SAAS0jB,KACL,MAAM7O,EAAU1gB,OAAOwvB,OAAO,GAAIJ,IAElC,OADA1O,EAAQoI,OAASpI,EAAQoI,OAAOnR,IAAI5M,GAAK/K,OAAOwvB,OAAO,GAAIzkB,IACpD2V,EAKXna,OAAOkpB,kBAAoB,IAAI,GAMzB,MAAO,GAAb,cAkHI,KAAAnE,UAAwB,GACxB,KAAAoE,eAAgB,EAChB,KAAAC,aAAc,EACd,KAAAxD,YAAcoD,KACd,KAAAtG,YAAwC,GAC/B,KAAA2G,UAAY,CACjB,CACIjqB,KAAMkjB,GAASnP,SACf1K,MAAO,WACPvB,YAAa,mEAEjB,CACI9H,KAAMkjB,GAASgH,SACf7gB,MAAO,WACPvB,YACI,+IAhIL,oBAAoBoI,GAEvB,IAAIia,EAAa,EACbja,EAAI8Z,cAAaG,GAAc,GAC/Bja,EAAI6Z,gBAAeI,GAAc,GACR,IAAzBja,EAAIsW,YAAYxmB,OAAYmqB,GAAc,GAK9C,IAAI/V,EAAO,EACPgW,EAAW,EAGf,MAAMC,EAAqB,GACrBC,EAAoB,GAC1B,IAAK,MAAMnH,KAAUjT,EAAIsW,YAAYrD,OACjCkH,EAAS3vB,KAAKyoB,EAAOpkB,KAAKuF,WAAW,IACjC6e,EAAOe,UAASkG,GAAYhW,GAChCA,IAAS,EACL+O,EAAOgB,UAASiG,GAAYhW,GAChCA,IAAS,EACTkW,EAAQ5vB,KAAKyoB,EAAOtS,QAExB,MAAQ2R,QAASla,EAAX,MAAqBmM,EAArB,IAA4B7P,GAAQ,GAAiB2lB,SAAS,CAChE9M,IAAKvN,EAAIoT,YACT9Z,OAAQ,KAQZ,MANc,SAAViL,GACA,GAAKlL,KACD,iFACI3E,GAGL,CACHulB,EACAC,EACAC,EACAC,EAEApa,EAAIyV,UAAU3T,IAAIwY,IACd,IAAIrrB,EAAI,EACJsiB,EAAO,EACX,IAAK,IAAIvnB,EAAI,EAAGA,EAAI,EAAGA,IACfswB,EAAStwB,KAAIunB,GAAQtiB,GACzBA,IAAM,EAEV,MAAO,CAACsiB,EAAM+I,EAAS,GAAIA,EAAS,MAGxCliB,GAAsB,SAAVmM,EAAmB,GAASgW,aAAaniB,EAASoiB,UAAU,GAAK,IAI9E,sBAAsBxa,GACzB,MAAMkC,EAAS,IAAI,IACZ+X,EAAYC,EAAUC,EAAUC,EAASK,EAAOC,GAAO1a,EAG9DkC,EAAO4X,YAAc5O,QAAqB,EAAb+O,GAC7B/X,EAAO2X,cAAgB3O,QAAqB,EAAb+O,GAC/B/X,EAAOoU,YAAYxmB,MAAQob,QAAqB,EAAb+O,GAGnC/X,EAAOuT,UAAYgF,EAAM3Y,IAAI6Y,IACzB,MAAML,EAAqB,EACvB,GACA,GACA,GACA,GACA,GACA,GACA,EACAK,EAAK,GACLA,EAAK,IAEH1C,EAAO0C,EAAK,GAClB,IAAI1rB,EAAI,EACR,IAAK,IAAIjF,EAAI,EAAGA,EAAI,EAAGA,IACnBswB,EAAStwB,GAAKkhB,QAAQjc,EAAIgpB,GAC1BhpB,IAAM,EAEV,OAAOqrB,IAIX,MAAMrH,EAAS/Q,EAAOoU,YAAYrD,OAC5B2H,EAAW,GAEjB,IAAI1W,EAAO,EACX,IAAK,IAAIla,EAAI,EAAGA,EAAImwB,EAASjwB,OAAQF,IAAK,CACtC,MAAM6wB,EAAUV,EAASnwB,GACnB8wB,EAAU7H,EAAOxS,KAAKnV,GAAKA,EAAEuD,KAAKuF,WAAW,KAAOymB,GAG1DC,EAAQ9G,QAAU9I,QAAQgP,EAAWhW,GACrCA,IAAS,EAET4W,EAAQ7G,QAAU/I,QAAQgP,EAAWhW,GACrCA,IAAS,EAET4W,EAAQna,OAASyZ,EAAQpwB,GAEzB4wB,EAASpwB,KAAKswB,GAElB5Y,EAAOoU,YAAYrD,OAAS2H,EAC5B,MAAQtI,QAASla,EAAX,MAAqBmM,GAAU,GAAiB8V,SAClD,GAASU,eAAe,CAACL,KAG7B,OADItiB,GAAsB,SAAVmM,IAAkBrC,EAAOkR,YAAchb,EAASmV,KACzDrL,EAAOsY,SAuBlB,wBACI,OAAgD,IAAzCrwB,OAAOmY,KAAKtM,KAAKod,aAAalpB,OAGzC,cACI8L,KAAKyf,UAAUjrB,KAAK,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,EAAO,GAAI,KAE9E,eAAe4F,GACX4F,KAAKyf,UAAUrqB,OAAOgF,EAAG,GAO7B,gBACI,MAAMkJ,EAAkB,GAGxB,IAAKtD,KAAKyf,UAAUvrB,OAChB,MAAO,CACHwK,IAAK,aACL6P,MAAO,UACP+N,QAAShZ,GAGjB,IAAK,MAAMpI,KAAQ8E,KAAKyf,UAAW,CAC/B,IAAIvjB,EAAO,GACX,IAAK,IAAIhH,EAAI,EAAGA,EAAI,EAAGA,IACfgG,EAAKhG,KAAIgH,GAAQwE,EAAKxL,IAG9B,IAAKgH,EAAM,SAEX,MAAM8oB,EAAY9pB,EAAK,GAAGE,MAAM,KAC1B6pB,EAAU/pB,EAAK,GAAGE,MAAM,KAC9B,GACIyH,OAAOmiB,EAAU,KACjBniB,OAAOmiB,EAAU,KACjBniB,OAAOoiB,EAAQ,KACfpiB,OAAOoiB,EAAQ,IAEf,MAAO,CACHvmB,IAAK,iDACL6P,MAAO,SAGfrS,GAAQ,IAAMjB,EAAOC,EAAK,IAAM,MAAQD,EAAOC,EAAK,IACpDoI,EAAO9O,KAAK,IAAI,GAAM0H,GAAM,IAGhC,OAAKoH,EAAOpP,OAML,CACHwK,IAAK,UACL6P,MAAO,UACP+N,QAAShZ,GARF,CACH5E,IAAK,kEACL6P,MAAO,SAUnB,SAASvE,GACL,MAAMoY,EAAapiB,KAAKqiB,aACxBriB,KAAKyf,UAAYzV,EAAIyV,qBAAqBtgB,MAAQ6K,EAAIyV,UAAY2C,EAAW3C,UAC7Ezf,KAAK8jB,YAC0B,mBAApB9Z,EAAI8Z,YAA4B9Z,EAAI8Z,YAAc1B,EAAW0B,YACxE9jB,KAAK6jB,cAC4B,mBAAtB7Z,EAAI6Z,cAA8B7Z,EAAI6Z,cAAgBzB,EAAWyB,cAC5E7jB,KAAKsgB,YAAc8B,EAAW9B,YAAY+D,SAASra,EAAIsW,aAEvD,MAAQhE,QAASla,EAAX,MAAqBmM,EAArB,IAA4B7P,GAAQ,GAAiB2lB,SAAS,CAChE9M,IAAKvN,EAAIoT,aAAe,GACxB9Z,OAAQ,KAEE,SAAViL,GACA,GAAKlL,KACD,iFACI3E,GAGZsB,KAAKod,YACDhb,GAAsB,SAAVmM,EAAoBnM,EAASmV,IAAc6K,EAAWhF,YAG1E,SAGI,MAAM,EAA6Cpd,MAA7C,UAAE+jB,EAAW3G,YAAasH,GAAG,EAAKQ,EAAM,iBAAxC,6BACA9H,EAAc,IAAI,GAAiBsH,GAAKF,SAASjN,IACvD,sBAAS6F,eAAgB8H,GAG7B,aACI,OAAO,IAAI,IAIJ,WAAI,G,oCC3anB,MAAM,GAAN,cACI,KAAA5gB,QAA0B,KAC1B,KAAAF,OAAwB,KACxB,KAAAG,IAAM,GACN,KAAAtG,MAAqB,CAAC,GAAI,IAAIuL,KAE9B,iBAAiBlF,GACbtE,KAAKsE,QAAUA,EACf,KAAE,kBAAkBH,QAGxB,gBAAgBC,EAAgBnG,GAC5B+B,KAAKoE,OAASA,EACdpE,KAAK/B,MAAQA,GAAS,CAAC,GAAI,IAAIuL,KAC/B,KAAE,iBAAiBrF,QAGvB,aAAaI,GACTvE,KAAKuE,IAAMA,EACX,KAAE,cAAcJ,QAGpB,6BACI,MAAMghB,QAAa7lB,IACnB,KAAE,sBAAsB2V,KAAKkQ,GAC7B,KAAE,iBAAiBhhB,SAIZ,WAAI,GC9Bb,MAAO,GAAb,cAOW,KAAAmU,YAAuC,GANvC,oBAAoBtO,GACvB,OAAOA,EAAIsO,YAER,sBAAsBtO,GACzB,MAAO,CAAEsO,YAAatO,GAI1B,SAASA,GACLhK,KAAKsY,YAActO,EAAIsO,aAAe,GAG1C,aACI,OAAO,IAAI,GAGf,SACI,OAAOtY,MAIA,WAAI,GC6EnB,MAAM,GAgBF,cACIA,KAAKyC,QAAU2iB,aAAaC,QAAQ,mBAAqB,GACzD,MAAMhgB,EAAkBigB,KAAKC,MAAMH,aAAaC,QAAQ,aAAe,OAAS,GACxD,IAApBhgB,EAASnR,OAAc8L,KAAKqF,SAAWA,EAEZ,kBAAhBA,EAAS,GAChBrF,KAAKqF,SAAWA,EAASyG,IAAIpW,GAAKsK,KAAKwlB,cAAc9vB,IACzB,kBAAhB2P,EAAS,GACrBrF,KAAKqF,SAAWA,GAEhB7K,QAAQjC,MAAM,0BACdyH,KAAKqF,SAAW,IAIxBrF,KAAKylB,YAGT,YACIzlB,KAAKoF,UAAYggB,aAAaC,QAAQ,eAAiB,GACvDrlB,KAAK0lB,YAAcN,aAAaC,QAAQ,iBAAmB,GAO/D,aAAahT,GACT,IAAKA,EAAUne,OAAQ,OAEvB,MAAM2E,EAAOusB,aAAaC,QAAQ,kBAC5BhgB,EAAW,GACjB,IAAKxM,EAAM,CAEP,IAAK,MAAM8sB,KAAOtT,EAAU/E,SAAS2Q,UAAW,CAC5C,MAAM2H,EAAUR,aAAaC,QAAQM,EAAInjB,IACzC,GAAIojB,EAAS,CACT,IAAIjjB,EAA0C,KAC9C,IACIA,EAAS2iB,KAAKC,MAAMK,GACtB,MAAO9vB,GACL0E,QAAQjC,MAAMzC,GAEd6M,IACAA,EAAO9J,KAAO8sB,EAAI9sB,KAClBusB,aAAaS,WAAWF,EAAInjB,IAC5B4iB,aAAaU,QAAQH,EAAI9sB,KAAMysB,KAAKS,UAAUpjB,IAC9C0C,EAAS7Q,KAAKmxB,EAAI9sB,QAM9B,MAAMmtB,EAAS3T,EAAU,GAAGxZ,KACvBwM,EAAS2I,SAASgY,IAAS3gB,EAAS7Q,KAAKwxB,GAE9ChmB,KAAKyC,QAAUujB,EACfhmB,KAAKqF,SAAWA,EAASyG,IAAIpW,GAAKsK,KAAKwlB,cAAc9vB,KAI7D,cAAcmD,GACV,MAAO,CACHA,OACA0M,QAAQ,EACR0gB,SAAU,GACVC,gBAAiB,GAQzB,aAAattB,GAET,MAAMutB,GAAY,IAAIC,aAAcC,OAAOztB,GAGrC0tB,QAAmBC,OAAOC,OAAOC,OAAO,UAAWN,GAGnDO,EAAYvnB,MAAM0M,KAAK,IAAIwL,WAAWiP,IAGtCK,EAAUD,EAAU5a,IAAIzO,IAAM,KAAOA,EAAExB,SAAS,KAAKjB,OAAO,IAAIiF,KAAK,IAC3E,OAAO8mB,EAMH,iBACJ,OAAO,GAAoB3U,GAAQ4U,4BAA8BlsB,OAAOmH,SAASglB,OAMrF,qBACI,MAAMC,EAAgBxpB,KAAKsW,SAAS/X,WAC9BkrB,EAAQzpB,KAAKsW,SAAS/X,WAC5BupB,aAAaU,QAAQ,aAAciB,GACnC3B,aAAaU,QAAQ,qBAAsBgB,GAC3CpsB,OAAOmH,SAASzL,KAAO,GAAG4b,GAAQva,QAAQ,uBAAU,CAChDuvB,UAAWhV,GAAQgV,UACnBD,QACAE,aAAcjnB,KAAKknB,iBACnBC,qBAAsBnnB,KAAKonB,OAAON,GAClCO,sBAAuB,WAQ/B,sBAAsB5vB,GAClB,GAAIA,EAAM,CACN,MAAMuH,QAAiB,EAAA5B,EAAMoC,KAAKwS,GAAQsV,MAAO,CAC7CN,UAAWhV,GAAQgV,UACnBvvB,OACA8vB,WAAY,qBACZT,cAAe1B,aAAaC,QAAQ,sBACpC4B,aAAcjnB,KAAKknB,mBAEvB9B,aAAaS,WAAW,cACxBT,aAAaS,WAAW,sBACxB,MAAMnyB,EAAOsL,EAAStL,KACtB,GAAIA,EAAK,gBAGL,OAFA0xB,aAAaU,QAAQ,eAAgBpyB,EAAK,iBAC1C0xB,aAAaU,QAAQ,aAAcpyB,EAAK,gBACjC,EAGf,OAAO,EASX,oBAAoBqV,EAAaye,EAAiBC,EAAiBnQ,GAC3DkQ,IAAYxnB,KAAKyC,UAASzC,KAAKyC,QAAUglB,GAE7C,MAAM9kB,EAAS2iB,KAAKC,MAAMjO,GAC1B3U,EAAO9J,KAAO4uB,EACdrC,aAAaS,WAAW2B,GAExB,MAAME,EAAUpC,KAAKS,UAAUpjB,GAK/B,GAJAyiB,aAAaU,QAAQ2B,EAASC,GAE9B1nB,KAAKqF,SAAS0D,GAAKlQ,KAAO4uB,EAEtBznB,KAAKoF,WAAapF,KAAKqF,SAAS0D,GAAKxD,OAAQ,CAC7C,MAAMoiB,QAAa3nB,KAAK4nB,eACpB5V,GAAQ6V,KACR,CACIrV,OAAQ,SACRgV,UACAC,UACAtiB,QAASuiB,IAGjB,IAAKC,EAAKjF,QAEN,OADA1iB,KAAK8nB,SACE,CACHppB,IAAK,8BAA8BsT,GAAQnZ,SAAS8uB,EAAK/uB,wCAAwCoZ,GAAQnZ,QACzG0V,MAAO,SAIfvO,KAAKqF,SAAS0D,GAAKkd,SAAW0B,EAAK1B,SAASha,KAAK,CAAC7O,EAAGC,IAAMA,EAAE6G,QAAU9G,EAAE8G,SACzElE,KAAKqF,SAAS0D,GAAKmd,eAAiByB,EAAK1B,SAAS,GAAG/hB,SAQ7D,mBAAmBrL,GACf,MAAM6F,EAAuB,CACzBA,IAAK,GACL6P,MAAO,WAELoZ,QAAa3nB,KAAK4nB,eACpB5V,GAAQ6V,KACR,CACIrV,OAAQ,SACR3Z,SAaR,OAVK8uB,EAAKjF,UACe,0BAAjBiF,EAAK/uB,SACL8F,EAAI6P,MAAQ,OACZ7P,EAAIA,IAAM,WAAW7F,6BAAgCmZ,GAAQnZ,iEAE7DmH,KAAK8nB,SACLppB,EAAI6P,MAAQ,QACZ7P,EAAIA,IAAM,8BAA8BsT,GAAQnZ,SAAS8uB,EAAK/uB,wCAAwCoZ,GAAQnZ,UAG/G6F,EAOX,oBAAoB7F,EAAckQ,EAAagf,GAAgB,GAC3D,IAAIrpB,EAAuB,CACvBA,IAAK,GACL6P,MAAO,WAeX,OAbIvO,KAAKoF,WAAapF,KAAKqF,SAAS0D,GAAKxD,QAAUwiB,IAC/CrpB,QAAYsB,KAAKgoB,aAAanvB,IAElCmH,KAAKqF,SAASjQ,OAAO2T,EAAK,GAC1Bqc,aAAaS,WAAWhtB,GAEpBA,IAASmH,KAAKyC,UACVsG,IAAQ/I,KAAKqF,SAASnR,OACtBwK,EAAI4d,QAAUtc,KAAKyC,QAAUzC,KAAKqF,SAAS0D,EAAM,GAAGlQ,KAEpD6F,EAAI4d,QAAUtc,KAAKyC,QAAUzC,KAAKqF,SAAS0D,GAAKlQ,MAGjD6F,EAWX,iBACIupB,EACAC,EAAe,WACfC,EAAe,IAGfF,EAAWve,UAAW,IAAI7M,MAAO2nB,SACjCyD,EAAWpvB,KAAOovB,EAAWpvB,MAAQqvB,EACrC,IAAIE,EAAOpoB,KAAKqF,SAASoF,KAAK/U,GAAKA,EAAEmD,OAASovB,EAAWpvB,MACzD,GAAIuvB,GACA,IACKC,QACGF,GACI,mBAAmBF,EAAWpvB,+EAExC,CACE,IAAIkQ,EAAM,EACV,MAAO/I,KAAKqF,SAASoF,KAAK/U,GAAKA,EAAEmD,OAAS,GAAGovB,EAAWpvB,SAASkQ,MAASA,IAC1Ekf,EAAWpvB,KAAO,GAAGovB,EAAWpvB,SAASkQ,KAEzCqc,aAAaU,QAAQmC,EAAWpvB,KAAMysB,KAAKS,UAAUkC,IACrDjoB,KAAKqF,SAAS7Q,KAAM4zB,EAAOpoB,KAAKwlB,cAAcyC,EAAWpvB,aAG7DmH,KAAKqF,SAAS7Q,KAAM4zB,EAAOpoB,KAAKwlB,cAAcyC,EAAWpvB,OAG7D,MAAMnF,EAAO4xB,KAAKS,UAAUkC,GAI5B,GAHA7C,aAAaU,QAAQmC,EAAWpvB,KAAMnF,GACtCsM,KAAKyC,QAAUwlB,EAAWpvB,KAEtBmH,KAAKoF,WAAagjB,EAAK7iB,OAAQ,CAC/B,MAAM7G,QAAYsB,KAAKsoB,cAAc,CACjC,CACInjB,QAASzR,EACTmF,KAAMovB,EAAWpvB,KACjB0vB,KAAK,KAGb,GAAI7pB,EAAK,OAAOA,GAIxB,SAASqK,GACL,MAAMqf,EAAOpoB,KAAKqF,SAAS0D,GAC3B,OAAQqf,EAAK7iB,QAAU6iB,EAAKlC,iBAAmBkC,EAAKnC,SAAS,GAAG/hB,QAQ5D,qBACJskB,EACApxB,GAEA,IACI,aACUgB,EACF,EAAAgF,EAAMoC,KAAmBgpB,EAAUpxB,EAAS,CACxCqxB,QAAS,CACLC,cAAe1oB,KAAKoF,UAAY,IAAMpF,KAAK0lB,eAGnD,IACA,cAENhyB,KACJ,MAAO6D,GACL,MAAO,CACHmrB,SAAS,EACT9pB,QAASrB,EAAIqB,SAAWrB,IAQpC,uBAAuBsB,EAAcqL,GACjC,MAAMyjB,QAAa3nB,KAAK4nB,eACpB5V,GAAQ2W,KACR,CACI9vB,OACAqL,YAGFxF,EAAgC,CAClC6P,MAAO,UACP7P,IAAK,IAST,OAPIipB,EAAKjF,QACLhkB,EAAI4d,QAAUqL,EAAKtiB,SAAS,IAE5B3G,EAAI6P,MAAQ,QACZ7P,EAAIA,IAAM,8BAA8BsT,GAAQnZ,SAAS8uB,EAAK/uB,wCAAwCoZ,GAAQnZ,QAC9GmH,KAAK8nB,UAEFppB,EASX,oBAAoB2G,GAChB,MAAMsiB,QAAa3nB,KAAK4nB,eACpB5V,GAAQ4W,GACR,CAAEvjB,aAGN,IAAKsiB,EAAKjF,QAEN,OADA1iB,KAAK8nB,SACE,CACHppB,IAAK,8BAA8BsT,GAAQnZ,SAAS8uB,EAAK/uB,wCAAwCoZ,GAAQnZ,QACzG0V,MAAO,SAKf,IAAK,IAAIva,EAAI,EAAGA,EAAIqR,EAASnR,OAAQF,IAAK,CACtC,MAAM6E,EAAOwM,EAASrR,GAAG6E,KACnBqL,EAAUyjB,EAAK1B,SAASjyB,GAAGiY,KAAK,CAAC7O,EAAGC,IAAMA,EAAE6G,QAAU9G,EAAE8G,SACxDiB,EAAUnF,KAAKqF,SAASoF,KAAK/U,GAAKA,EAAEmD,OAASA,GACnDsM,EAAQ8gB,SAAW/hB,EACnBiB,EAAQ+gB,eAAiBhiB,EAAQ,GAAGA,SAQ5C,qBACI,IAAKlE,KAAKoF,UACN,MAAO,CACH1G,IAAK,4CACL6P,MAAO,QAGf,MAAMoZ,QAAa3nB,KAAK4nB,eACpB5V,GAAQ2W,KACR,IAEJ,IAAKhB,EAAKjF,QAEN,OADA1iB,KAAK8nB,SACE,CACHppB,IAAK,8BAA8BsT,GAAQnZ,SAAS8uB,EAAK/uB,wCAAwCoZ,GAAQnZ,QACzG0V,MAAO,SAIf,MAAMsa,EAAgB,IAAIrf,IACtBme,EAAKtiB,SAASyG,IAAIpW,IACd,MAAMiN,EAA0B2iB,KAAKC,MAAM7vB,EAAEyP,SAC7C,MAAO,CACHxC,EAAO9J,KACP,CACIotB,SAAUvwB,EAAEuwB,SAASha,KAAK,CAAC7O,EAAGC,IAAMA,EAAE6G,QAAU9G,EAAE8G,SAClDiB,QAASxC,OAOzB3C,KAAKqF,SAASiI,SAAS4L,QAAQxjB,IACvBA,EAAE6P,SAAWsjB,EAAcpP,IAAI/jB,EAAEmD,OACjCmH,KAAK8oB,cACDpzB,EAAEmD,KACFmH,KAAKqF,SAAS6H,UAAU6b,GAAMA,EAAGlwB,OAASnD,EAAEmD,OAC5C,KAKZ,MAAMmwB,EAA+B,GACjCC,EAAyB,GAC7B,IAAK,MAAOpwB,GAAQsM,QAAS+jB,EAAYjD,SAAUkD,MAAqBN,EAAe,CACnF,MAAMT,EAAOpoB,KAAKqF,SAASoF,KAAK/U,GAAKA,EAAEmD,OAASA,GAChD,GAAIuvB,GAAQA,EAAK7iB,OAAQ,CACrB,MAAM6jB,EAAWhE,aAAaC,QAAQxsB,GAChCwwB,EAA6B/D,KAAKC,MAAM6D,GACxCE,EAAY,IAAIzsB,KAAKwsB,EAAU3f,UAAUnI,UACzCgoB,EAAa,IAAI1sB,KAAKqsB,EAAWxf,UAAUnI,UAE7C+nB,EAAYC,GAEZnE,aAAaU,QAAQjtB,EAAMysB,KAAKS,UAAUmD,IAC1Cd,EAAKnC,SAAWkD,EAChBf,EAAKlC,eAAiBiD,EAAe,GAAGjlB,QAExC+kB,EAAaz0B,KAAKqE,IACXywB,EAAYC,EAEnBP,EAAWx0B,KAAK,CACZqE,OACAsM,QAASikB,EACTb,KAAK,KAITH,EAAKnC,SAAWkD,EAChBf,EAAKlC,eAAiBiD,EAAe,GAAGjlB,cAEzC,GAAIkkB,IAASA,EAAK7iB,OAAQ,CAE7B,MAAM6jB,EAAWhE,aAAaC,QAAQxsB,GAChCwwB,EAA6B/D,KAAKC,MAAM6D,GAC9C,GACIC,EAAUjnB,SAASonB,kBAAkBt1B,OAAS,GACG,IAAhDm1B,EAAUjnB,SAASonB,kBAAkBt1B,SACjCC,OAAOmY,KAAK+c,EAAUjnB,SAASonB,kBAAkB,GAAGjS,KAAKrjB,OAAS,GAC/Dm1B,EAAUjnB,SAASonB,kBAAkB,GAAGlmB,OAAOpP,OAAS,GAClE,CAGE,MAAMo1B,EAAY,IAAIzsB,KAAKwsB,EAAU3f,UAAUnI,UACzCgoB,EAAa,IAAI1sB,KAAKqsB,EAAWxf,UAAUnI,UAC7C+nB,GAAaC,GAEbnE,aAAaU,QAAQjtB,EAAMysB,KAAKS,UAAUmD,IAC1Cd,EAAK7iB,QAAS,EACd6iB,EAAKnC,SAAWkD,EAChBf,EAAKlC,eAAiBiD,EAAe,GAAGjlB,QAExC+kB,EAAaz0B,KAAKqE,IAGdwvB,QACI,iBAAiBrW,GAAQnZ,wCAAwCA,mMAAsMA,yBAA4BmZ,GAAQnZ,oEAAoEmZ,GAAQnZ,0CAG3XuvB,EAAK7iB,QAAS,EACdyjB,EAAWx0B,KAAK,CACZqE,OACAsM,QAASikB,EACTb,KAAK,UAMjBnD,aAAaU,QAAQjtB,EAAMysB,KAAKS,UAAUmD,IAC1Cd,EAAKnC,SAAWkD,EAChBf,EAAKlC,eAAiBiD,EAAe,GAAGjlB,QACxCkkB,EAAK7iB,QAAS,EAEd0jB,EAAaz0B,KAAKqE,QAItBusB,aAAaU,QAAQjtB,EAAMysB,KAAKS,UAAUmD,IAC1ClpB,KAAKqF,SAAS7Q,KAAK,CACfqE,OACA0M,QAAQ,EACR0gB,SAAUkD,EACVjD,eAAgBiD,EAAe,GAAGjlB,UAGtC+kB,EAAaz0B,KAAKqE,GAI1B,MAAM6F,QAAYsB,KAAKsoB,cAAcU,GACrC,OAAItqB,GAEG,CACHA,IAAK,0EAA0EsqB,EAC1Eld,IAAIpW,GAAKA,EAAEmD,MACXgH,KAAK,OAAS,sBAAsBopB,EAAappB,KAAK,OAAS,UACpE0O,MAAO,WAIf,SACI6W,aAAaS,WAAW,cACxBT,aAAaS,WAAW,gBACxB7lB,KAAKoF,UAAY,GACjBpF,KAAK0lB,YAAc,IAIZ,WAAI,GCrlBb,MAAO,GACF,oBAAoB1b,GACvB,MAAO,CACHA,EAAIyf,qBACJzf,EAAI0f,sBACJ1f,EAAI2f,SACH3f,EAAI4f,UACL5f,EAAIwf,kBAAkB1d,IAAIxW,GAAK,GAASivB,aAAajvB,KAItD,sBACH0U,GAEA,MAAO,CACHyf,qBAAsBzf,EAAI,GAC1B0f,sBAAuB1f,EAAI,GAC3B2f,QAAS3f,EAAI,GACb4f,UAAW1U,QAAQlL,EAAI,IACvBwf,kBAAmBxf,EAAI,GAAG8B,IAAIxW,GAAK,GAASyvB,eAAezvB,KAInE,cACInB,OAAOwvB,OAAO3jB,KAAMA,KAAKqiB,cAK7B,uBACI,OAAOriB,KAAKwpB,kBAAkBxpB,KAAK0pB,uBAKvC,eAAetgB,GACPA,EAAQpJ,KAAKwpB,kBAAkBt1B,QAAUkV,GAAS,IAClDpJ,KAAK0pB,sBAAwBtgB,EAC7BpJ,KAAK6pB,gBAAe,GACpBnvB,OAAOuJ,cAMf,cACIjE,KAAKwpB,kBAAkBh1B,KAAK,IAAI,IAChCwL,KAAK8pB,eAAe9pB,KAAKwpB,kBAAkBt1B,OAAS,GACpDwG,OAAOuJ,aAMX,cACI,MAAMuI,EAAMxM,KAAKwpB,kBAAkBt1B,OACnC,GAAI8L,KAAK+F,2BAA2B,GAChC/F,KAAKwpB,kBAAkBh1B,KAAKwL,KAAK+pB,iBAAiBpN,YAC/C,CACH,MAAMjnB,EAAI,IAAI,GAAiBsK,KAAK+F,gBAAgBwR,IAAKvX,KAAK+F,gBAAgBzC,QAC9EtD,KAAKwpB,kBAAkBh1B,KAAKkB,GAEhCsK,KAAK8pB,eAAetd,GACpB9R,OAAOuJ,aAMX,iBACI,GAAsC,IAAlCjE,KAAKwpB,kBAAkBt1B,OAAc,OACzC,MAAM6U,EAAM/I,KAAK0pB,sBAEZrB,QAAQ,mCAAmCtf,EAAM,QAIlDA,IAAQ/I,KAAK2pB,UACbjvB,OAAOkpB,kBAAoB,IAAI,GAC/B5jB,KAAKgqB,aAAe,EACpBhqB,KAAK2pB,SAAW,GAEpB3pB,KAAKwpB,kBAAkBp0B,OAAO2T,EAAK,GAC/BA,GAAO/I,KAAKwpB,kBAAkBt1B,OAC9B8L,KAAK8pB,eAAe/gB,EAAM,GAE1B/I,KAAK8pB,eAAe/gB,GAExBrO,OAAOuJ,cAUX,eAAe2lB,GACPA,EACI5pB,KAAK2pB,UAAY3pB,KAAK0pB,uBAAyB1pB,KAAKgqB,eACpDhqB,KAAK4pB,WAAY,EACjB5pB,KAAKiqB,WAAWjqB,KAAKypB,wBAGzBzpB,KAAK4pB,WAAY,EACjB5pB,KAAK+F,gBAAkB/F,KAAK+pB,kBAEhCrvB,OAAOuJ,aAQX,WAAW8E,GACH/I,KAAKgqB,cAAgB,IACrBjhB,EAAM,EACN/I,KAAKypB,qBAAuB,EACrB1gB,GAAO/I,KAAKgqB,aACnBhqB,KAAKypB,qBAAuBzpB,KAAKgqB,aAAe,EAEhDhqB,KAAKypB,qBAAuB1gB,EAEhC/I,KAAK+F,gBAAkBrL,OAAOkpB,kBAAkBsG,YAAYlqB,KAAKypB,sBACjE/uB,OAAOuJ,cAMX,QACIjE,KAAK+pB,iBAAiBI,QAClBnqB,KAAK2pB,UAAY3pB,KAAK0pB,wBACtB1pB,KAAK2pB,SAAW,EAChBjvB,OAAOkpB,kBAAoB,IAAI,GAC/B5jB,KAAKgqB,aAAe,GAExBhqB,KAAK6pB,gBAAe,GACpBnvB,OAAOuJ,aAQX,aAAa0U,EAAezd,EAAO,IAC3B8E,KAAK+F,kBAAoB/F,KAAK+pB,mBAC9B/pB,KAAK+F,gBAAgBgS,yBACrB/X,KAAK+F,gBAAgBC,gBAAgB2S,EAAMzd,IAE/C8E,KAAKwpB,kBAAkBtQ,QAAQ5jB,IAC3BA,EAAEyiB,yBACFziB,EAAE0Q,gBAAgB2S,EAAMzd,KAShC,SAAS8O,GACL,MAAMogB,EAAepqB,KAAKqiB,aAEpBgI,EAAWrgB,EAAIwf,kBAEjBxpB,KAAKwpB,kBADLa,aAAoBlrB,MACKkrB,EAASve,IAAI5M,IAClC,MAAMnK,EAAS,GAAiBsvB,SAASnlB,GACnC0L,EAAO7V,EAAOunB,QACpB,OAAI1R,GACqB,SAAjB7V,EAAOwZ,OAAkB,GAAK+U,OAAOvuB,GAClC6V,GACG,IAAI,KAGGwf,EAAaZ,kBAG1CxpB,KAAKypB,qBACmC,kBAA7Bzf,EAAIyf,qBACLzf,EAAIyf,qBACJW,EAAaX,qBAEvBzpB,KAAK0pB,sBACoC,kBAA9B1f,EAAI0f,sBACL1f,EAAI0f,sBACJU,EAAaV,sBAEvB1pB,KAAK2pB,QAAiC,kBAAhB3f,EAAI2f,QAAuB3f,EAAI2f,QAAUS,EAAaT,QAC5E3pB,KAAK4pB,UACwB,mBAAlB5f,EAAI4f,UAA0B5f,EAAI4f,UAAYQ,EAAaR,UAEtE5pB,KAAKgqB,aAAe,EACpBtvB,OAAOuJ,aAGX,SAGI,MAAM,EAA+CjE,MAA/C,aAAEgqB,EAAF,gBAAgBjkB,GAAe,EAAKmf,EAAM,iBAA1C,oCACN,OAAQA,EAGZ,aACI,MAAMnf,EAAkB,IAAI,GAC5B,MAAO,CACH0jB,qBAAsB,EACtB1jB,kBACAyjB,kBAAmB,CAACzjB,GACpB2jB,sBAAuB,EACvBC,SAAU,EACVC,WAAW,EACXI,aAAc,IAKX,WAAI,GC9QnB,SAASM,GAA2CprB,GAChD,QAASA,KAAOA,EAAEwK,SAsEhB,SAAU6gB,GACZrwB,EACA9C,EACAozB,GACA,WACIC,EAAaC,IADjB,MAEInF,EAAQrmB,IAAMA,EAAIomB,KAAKC,MAAMrmB,GAAK,MAFtC,MAGIyrB,EAAQzrB,KACJkmB,aAAaU,QACT5rB,EACAorB,KAAKS,UAAU,CACXrc,SAAU,IAAI7M,KACd,CAAC3C,GAAMgF,KAGRA,IAXf,UAaI0rB,EAAYN,GAbhB,MAcIO,GAAQ,IAGZ,MAAMC,EAAU1F,aAAaC,QAAQnrB,GAC/BxG,EAAO6xB,EAAMuF,GACnB,IAAIF,EAAUl3B,GAsBV,MAAO,CACH60B,IAAKlqB,EAAkBjH,IAAUU,KAAK6yB,KArB1C,MAAI,IAAI9tB,MAAO0E,UAAY,IAAI1E,KAAKnJ,EAAKgW,UAAUnI,UAAYkpB,GAAcI,GAczE,MAAO,CACHtC,IAAKlqB,EAAkBpI,QAAQC,QAAQs0B,EAAU92B,MAf2B,CAChF,MAAMq3B,EAAU1sB,EAAkBjH,IAAUU,KAAK6yB,IACjD,IACI,MAAO,CACHpC,IAAKwC,EACLC,IAAKR,EAAU92B,IAErB,MAAO6D,GAEL,OADAiD,QAAQjC,MAAMhB,GACP,CACHgxB,IAAKwC,KAqBlB1rB,eAAe2kB,GAClBpZ,GACA,QAAEqgB,EAAU,GAAZ,QAAgBC,EAAUhsB,IAAKA,GAA/B,OAAkCisB,EAASjsB,IAAKA,GAAhD,YAAmDksB,EAAc,KAA0B,IAE3F,IACI,MAAM9O,QAAgBlkB,EAAQwS,EAAK2d,IAAK6C,GACxC,MAAO,CACH9O,UACA5d,IAAKusB,EACL1c,MAAO,WAEb,MAAO8c,GACL,OAAOzgB,EAAKogB,IACN,CACI1O,QAAS1R,EAAKogB,IACdtsB,IAAKwsB,EAAQpsB,EAASusB,IACtB9c,MAAO,QAEX,CACI7P,IAAKysB,EAAOrsB,EAASusB,IACrB9c,MAAO,UCvInB,SAAU+c,GAAiBnd,EAAQ,IAErC,OAAO6V,GACHuG,GACI,YACA,IAAM,GAAQlY,UAAUlE,GACxBjP,GAAKA,EAAEmT,UACP,CACIoY,WAAY,GACZ,UAAUvrB,GACN,QAASA,KAAOA,EAAEwK,YAAcxK,EAAEmT,aAI9C,CACI4Y,QAAS,uBACTE,OAAQjsB,GAAK,kCAAkCA,EAC/CgsB,QAAShsB,GAAK,kCAAkCA,sBAChDksB,YAAa,M,iBCtBX,MAAO,WAAkB,QAKnC,YAAY/mB,GACRtE,MAAM,MAAMsE,EAAS7B,IACrBxC,KAAKkE,QAAQ,GAAGqnB,OAAO,CACnB3hB,QAAS,MACTrH,SAAU,KACVipB,KAAM,OAEVxrB,KAAK4J,QAAU5J,KAAKyrB,MAAM,WAC1BzrB,KAAKuC,SAAWvC,KAAKyrB,MAAM,YAC3BzrB,KAAKwrB,KAAOxrB,KAAKyrB,MAAM,QAG3B,cACI,MAAOruB,EAAGC,SAAWpH,QAAQ+C,IAAI,CAACgH,KAAK4J,QAAQuE,QAASnO,KAAKuC,SAAS4L,UACtE,OAAa,IAAN/Q,GAAiB,IAANC,EAGtB,kBACI,aAAc2C,KAAKwrB,KAAKhyB,IAAI,IAAK0B,KAGrC,4BACU8E,KAAKwrB,KAAKE,IAAI,CAAElpB,GAAI,EAAGtH,KAAM2B,KAAKmX,SC7BhD,SAAS2X,GAASrpB,EAAkBspB,GAahC,OAZA31B,QAAQ+C,IAAI,CAAC4yB,EAAGhiB,QAAQ7C,QAAS6kB,EAAGrpB,SAASwE,UACxCjP,KAAK,IAEK7B,QAAQ+C,IAAI,CACf4yB,EAAGhiB,QAAQiiB,QAAQvpB,EAAQsH,SAC3BgiB,EAAGrpB,SAASspB,QAAQvpB,EAAQC,aAGnCzK,KAAK,KACF8zB,EAAGE,kBAGJxpB,EAGXjD,eAAe0sB,GAAeH,GAC1B,MAAMjiB,EAAsC,IAGrCC,EAASoiB,SAAgB/1B,QAAQ+C,IAAI,CACxC4yB,EAAGhiB,QAAQqiB,UACXL,EAAGrpB,SAAS0pB,QAAQ7U,IAChB,MAAMtL,EAAM,IAAItC,IAChB,IAAK,MAAM0iB,KAAQ9U,EAAKtL,EAAIhC,IAAIoiB,EAAK1pB,GAAI0pB,GACzC,OAAOpgB,MAMToI,EAAyB,GAC/B,IAAK,MAAMiY,KAAaviB,EAAS,CAC7B,MAAMrH,EAAsB,GAMtB6B,EAAiBjQ,OAAOkoB,eAAe8P,EAAW,EAAO/3B,WAC/DD,OAAOmF,eAAe8K,EAAQ,WAAY,CACtCxK,MAAO2I,IAEX,IAAK,MAAMC,KAAM2pB,EAAUzpB,IAAK,CAC5B,MAAMI,EAAMkpB,EAAOxyB,IAAIgJ,GACvB,IAAKM,EAAK,SAEV,MAAMwB,EAAmBnQ,OAAOkoB,eAAevZ,EAAK,EAAQ1O,WAC5DD,OAAOmF,eAAegL,EAAS,SAAU,CACrC1K,MAAOwK,IAEX7B,EAAS/N,KAAK8P,GACd4P,EAAY1f,KAAK8P,GAErBqF,EAAWwiB,EAAUjyB,KAAOkK,EAGhC,MAAO,CAACuF,EAAYxV,OAAOyL,OAAO+J,GAAauK,GAY5C7U,eAAe+sB,GAClB/nB,EACAwmB,GAAQ,GAER,MAAMe,EAAK,IAAI,GAAUvnB,GACzB,SAAYunB,EAAG9T,QAmBX,MAAO,CACHyQ,IAAKlqB,EAAkB,GAAQuL,QAAQvF,GAAUvM,KAAKwK,GAAWqpB,GAASrpB,EAASspB,MApBlE,CACrB,MAAM1wB,QAAa0wB,EAAGS,YACtB,GAAIxB,GAAShuB,KAAKmX,MAAQ9Y,EAAO,GAA4B,CAEzD,MAAM6vB,EAAU1sB,EACZ,GAAQuL,QAAQvF,GAAUvM,KAAKwK,GAAWqpB,GAASrpB,EAASspB,KAEhE,MAAO,CACHrD,IAAKwC,EACLC,IAAK,IAAI,EAAQ3mB,QAAgB0nB,GAAeH,GAAK1wB,IAGzD,MAAO,CACHqtB,IAAKlqB,EACD0tB,GAAeH,GAAI9zB,KAAKpE,GAAQ,IAAI,EAAQ2Q,EAAU3Q,EAAMwH,OClFhF,MAAM,GAAN,cACI,KAAAmX,UAA4B,GAC5B,KAAA5P,QAA+B,KAC/B,KAAA6pB,WAAa,GACb,KAAAC,eAAoD,KAKpD,oBAAoBpe,EAAQ,IACxB,MAAMpZ,QAAeu2B,GAAiBnd,GAEtC,OADAnO,KAAKqS,UAAYtd,EAAOunB,SAAW,GAC5BvnB,EAMX,SACI,MAAMW,EAAIsK,KAAKusB,eACX72B,GAAGA,EAAE4I,OAAO,YAMpB,qBAAqBkuB,EAA+B3B,GAAQ,GACxD,MAAMjgB,QAAawhB,GAAiBI,EAAiB3B,GAGjDjgB,EAAKogB,MAAKhrB,KAAKusB,eAAiB3hB,EAAK2d,KAEzC,MAAM,KAAE1vB,GAAS2zB,EACXz3B,QAAeivB,GAASpZ,EAAM,CAChCugB,OAAQjsB,GAAK,mBAAmBrG,WAAcqG,IAC9CgsB,QAAShsB,GAAK,mBAAmBrG,WAAcqG,sBAC/C+rB,QAAS,uBAAuBpyB,UAChCuyB,YAAa,OAYjB,OATIr2B,EAAOunB,SACP5hB,OAAO4H,QAAUvN,EAAOunB,QACxBtc,KAAKyC,QAAU+pB,EACfxsB,KAAKssB,WAAa,IAAIzvB,KAAKnC,OAAO4H,QAAQoH,UAAU+iB,mBAEpDzsB,KAAKyC,QAAU,KACfzC,KAAKssB,WAAa,IAEtBtsB,KAAKusB,eAAiB,KACfx3B,GAIA,WAAI,GC9CnB,MAAM23B,GAAN,cAWI,KAAAjoB,QAAyB,CACrBC,gBAAiBhK,OAAOiyB,OAAOrmB,MAAQ5L,OAAOiyB,OAAOC,OAAS,EAC9D/nB,WAAW,EACXC,WAAW,EACXC,YAAY,EACZC,aAAa,EACbE,YAAY,EACZD,iBAAiB,EACjBY,UAAU,EACVC,cAAc,EACdF,SAAS,EACTF,aAAa,GAQjB,KAAAmnB,SAAU,EAIV,KAAAC,YAA4B,KAE5B,KAAAtmB,SAAW9L,OAAOiyB,OAAOrmB,MAAQ,IAnCjC,oBACI,IAAK,MAAMpM,KAAO8F,KAAKyE,QACnB,GAAIzE,KAAKyE,QAAQvK,GAAM,OAAO,EAElC,OAAO,EAmCX,WACQ8F,KAAKwG,UAAUxG,KAAK+sB,iBAG5B,cAAc7yB,GACV,IAAK,MAAMuU,KAASzO,KAAKyE,QACjBgK,IAAUvU,IAAK8F,KAAKyE,QAAQgK,IAAS,GAE7CzO,KAAKyE,QAAQvK,IAAQ8F,KAAKyE,QAAQvK,GAGtC,iBACI,IAAK,MAAM8yB,KAAOhtB,KAAKyE,QACnBzE,KAAKyE,QAAQuoB,IAAO,GAKjB,WAAIN,GCoBnB,SAASO,GAAUtqB,GACf,QAASA,EAAOoD,mBAAqBpD,EAAOonB,iBAGhD,SAASmD,GAASvqB,GACd,QAASA,EAAOoD,mBAAqBpD,EAAO6mB,kBAGhD,IAAI2D,GAAoB,EAExB,SAASC,KACL,MAAMZ,EAAkB,GAAS/pB,QACjC,IAAK+pB,EAAiB,OACtB,MAAM3zB,EAAOsM,GAAQ1C,QACfsG,EAAM5D,GAAQE,SAAS6H,UAAUxX,GAAKA,EAAEmD,OAASA,GACvD,GAAIsM,GAAQC,WAAaD,GAAQE,SAAS0D,GAAKxD,SAC9B,IAATwD,IAAe5D,GAAQkoB,SAAStkB,GAMhC,OAIR,MAAMiB,EAAuB,CACzBnR,OACA6Q,UAAU,IAAI7M,MAAO2nB,SACrBgI,kBACA7mB,QAAA,GACAuG,OAAQ,GAAOsY,SACfpiB,SAAU,GAASoiB,SACnB8I,QAAA,IAGEzvB,EAAMynB,KAAKS,UAAU/b,GAC3Bob,aAAaU,QAAQjtB,EAAMgF,GAEvBsH,GAAQC,WAAaD,GAAQE,SAAS0D,GAAKxD,QAC3CJ,GAAQmjB,cAAc,CAAC,CAAEzvB,OAAMsM,QAAStH,KAAQ/F,KAAK4G,IAC7CA,GACA,GAAK4kB,OAAO5kB,KAKxByuB,IAAqB,EASnB,SAAUlpB,MACe,IAAvBkpB,IACAzyB,OAAOlC,aAAa20B,IAGxBA,GAAoBzyB,OAAO3B,WAAWq0B,GAAa,KAevD,MAAMG,GAA8B,GAOpC,IAAqB,GAArB,cAAmC,OAAnC,c,oBACI,KAAArhB,OAAS,GACT,KAAAvG,QAAU,GACV,KAAAhB,OAAS,GACT,KAAAR,MAAQA,GACR,KAAA/B,SAAW,GACX,KAAAiC,SAAW,GACX,KAAAipB,QAAU,GACV,KAAA5mB,KAAO,GACP,KAAAvB,QAAUA,GACV,KAAAooB,QAAUA,GAKV,aACItpB,KASJ,kBAAkB4mB,GAAQ,GACtB,IAAK7qB,KAAKqE,SAASgO,UAAUne,OAEzB,YADA8L,KAAK0G,KAAKnO,MAAM,8CAIpBmC,OAAOkpB,kBAAoB,IAAI,GAC/B,IAAIjhB,EAAoF,GACxF,MAAMjP,EAAO0xB,aAAaC,QAAQrlB,KAAKmF,QAAQ1C,SAC/C,GAAI/O,EACA,IACIiP,EAAS2iB,KAAKC,MAAM7xB,GACtB,MAAOoC,GACL0E,QAAQjC,MAAMzC,GAKtB,GACI6M,EAAO6pB,iBACPxsB,KAAKqE,SAAS5B,SACdE,EAAO6pB,gBAAgBhqB,KAAOxC,KAAKqE,SAAS5B,QAAQD,KACnDqoB,EAEDrwB,QAAQ6I,KAAK,qCACV,CACH,MAAMgB,EAAW1B,EAAO6pB,iBAAmBxsB,KAAKqE,SAASgO,UAAU,GAC/DwY,GAAO7qB,KAAK0G,KAAK+b,KAAK,YAAYpe,EAASxL,eAAgB,MAAM,GACrE,MAAM6F,QAAYsB,KAAKqE,SAASmpB,eAAenpB,EAAUwmB,GAEzD,GADA7qB,KAAK0G,KAAK4c,OAAO5kB,IACZA,EAAI4d,QAAS,OAGtB,GAAI2Q,GAAUtqB,GAAS,CACnB,MAAM8qB,EAA0B9qB,GAAU,GACpC+qB,EAAoDD,EAC1DC,EAAShE,sBAAwB,EACjCgE,EAASlE,kBAAoB,CAACkE,EAAS3D,kBACvC/pB,KAAK2F,QAAQ0e,SAASqJ,GACtB1tB,KAAKkM,OAAOmY,SAASqJ,GACrB1tB,KAAKoC,SAASiiB,SAASqJ,GACvB1tB,KAAKstB,QAAQjJ,SAASqJ,EAAS3nB,iBAAmB,CAAEuS,YAAa,UAC9D,GAAI4U,GAASvqB,GAChB3C,KAAK2F,QAAQ0e,SAAS1hB,EAAOgD,SAAW,IACxC3F,KAAKkM,OAAOmY,SAAS1hB,GACrB3C,KAAKoC,SAASiiB,SAAS1hB,GACvB3C,KAAKstB,QAAQjJ,SAAS1hB,EAAOoD,iBAAmB,CAAEuS,YAAa,SAC5D,CACH,MAAMqV,EAAWhrB,EACjB3C,KAAK2F,QAAQ0e,SAASsJ,EAAShoB,SAAW,IAC1C3F,KAAKkM,OAAOmY,SAASsJ,EAASzhB,QAAU,IACxClM,KAAKoC,SAASiiB,SAASsJ,EAASvrB,UAAY,IAC5CpC,KAAKstB,QAAQjJ,SAASsJ,EAASL,SAAW,IAE9CttB,KAAKutB,QAAQn4B,OAAO,EAAG4K,KAAKutB,QAAQr5B,QAEpC,GAASuhB,OAAS,GAAazV,KAAK2F,QAAQioB,aAAanY,OACzD,GAAS4E,gBAAkBra,KAAK2F,QAAQ0U,gBACxC,GAASjB,YAAcpZ,KAAK2F,QAAQyT,YAEhCpZ,KAAKoC,SAASwnB,UAAW5pB,KAAK6tB,oBAC7B7tB,KAAKoC,SAASynB,gBAAe,GAElC7pB,KAAKoC,SAAS0rB,cAAa,EAAO,KAMtC,sBACI,MAAMC,EAAmB/tB,KAAKkM,OAAOoU,YAAYrD,OAAOxS,KAAKvL,GAAgB,eAAXA,EAAErG,MACpE,OAAKmH,KAAKkM,OAAOoU,YAAYrD,OAAO3X,KAAKpG,GAAKA,EAAE8e,UAI5Che,KAAKkM,OAAOoU,YAAYrD,OAAO3X,KAAKpG,GAAgB,aAAXA,EAAErG,MAAuBqG,EAAE8e,UAClEtjB,OAAOuU,kBAAqBvU,OAAO8kB,YAM9BuO,EAAiB/P,UAAYhe,KAAKkM,OAAO8hB,oBAChDhuB,KAAK0G,KAAKrD,KACN,yGAEJ0qB,EAAiB/P,SAAU,IAExB,IAVHhe,KAAK0G,KAAKnO,MACN,2EAEG,IATPyH,KAAK0G,KAAKnO,MAAM,oDACT,GAqBf,sBACI,MAAM01B,EAAiC,GAClCjuB,KAAKkM,OAAO2X,eAAeoK,EAAez5B,KAAK,aAC/CwL,KAAKkM,OAAO4X,aAAamK,EAAez5B,KAAK,UAElD,MAAMkK,EAAMsB,KAAKkM,OAAOgiB,gBAClBzO,EAAY/gB,EAAI4d,QACtB,OAAKmD,EAEAzf,KAAKmuB,sBAEH,CACH1O,YACA9a,OAAQspB,EACR3N,YAAatgB,KAAKkM,OAAOoU,YACzBjG,gBAAiBra,KAAK2F,QAAQ0U,gBAC9B+F,gBAAiBpgB,KAAK2F,QAAQya,sBAPlC,EAFuBpgB,KAAK0G,KAAK4c,OAAO5kB,GAa5C,oBAGI,GAFAsB,KAAK2E,OAAOypB,WAERpuB,KAAKoC,SAAS2nB,iBAAiBjS,QAC/B,OAAO9X,KAAK0G,KAAKrD,KAAK,0CAC1B,MAAMwR,EAAU7U,KAAKquB,sBACrB,IAAKxZ,EAAS,OAEd,MAAMyZ,EAAY,IAAI,GAAkB5zB,OAAO4H,QAAS5H,OAAO8kB,WAAY3K,GAGrEnW,EAAM4vB,EAAUC,aAAavuB,KAAKoC,SAAS2nB,iBAAkB/pB,KAAKkM,OAAOkR,aAG/Epd,KAAK0G,KAAK4c,OAAO5kB,EAAK,OAAQ,GAAG,GACjC,MAAM2hB,EAAY3hB,EAAI4d,QAYtB,OAXI+D,GACA3lB,OAAOkpB,kBAAoBvD,EAC3BrgB,KAAKoC,SAAS4nB,aAAe3J,EAAUrU,KACvChM,KAAKoC,SAASunB,QAAU3pB,KAAKoC,SAASsnB,sBACtC1pB,KAAKoC,SAASynB,gBAAe,KAE7BnvB,OAAOkpB,kBAAoB,IAAI,GAC/B5jB,KAAKoC,SAASynB,gBAAe,GAC7B7pB,KAAKoC,SAASunB,SAAW,EACzB3pB,KAAKoC,SAAS4nB,aAAe,GAE1B3J,EAUX,qBAAqBhpB,GACjB,IAAK2I,KAAKqE,SAASgO,UAAUne,OAEzB,YADA8L,KAAK0G,KAAKnO,MAAM,8CAGpB,GAAIyH,KAAKqE,SAAS5B,SAAWpL,GAAUA,EAAOmL,KAAOxC,KAAKqE,SAAS5B,QAAQD,GAAI,OAE/EnL,EAASA,GAAU2I,KAAKqE,SAASgO,UAAU,GAC3CrS,KAAK2E,OAAOkoB,SAAU,EAEtB,MAAM,SAAExnB,GAAarF,KAAKmF,QAC1B,IAAIxC,EAAmC,GACnC6rB,GAAgB9D,IAGpB,IAAK,MAAM,KAAE7xB,KAAUwM,EAAU,CAC7B,MAAM3R,EAAO0xB,aAAaC,QAAQxsB,GAClC,GAAInF,EAAM,CACN,MAAMkX,EAAiC0a,KAAKC,MAAM7xB,IAC5C,gBAAE84B,EAAF,SAAmB9iB,GAAakB,EACtC,GAAI4hB,GAAmBA,EAAgBhqB,KAAOnL,EAAOmL,GACjD,GAAIkH,EAAU,CACV,MAAMxO,EAAO,IAAI2B,KAAK6M,GAAUnI,UAC5BrG,EAAOszB,IACP7rB,EAASiI,EACT4jB,EAAetzB,QAIdyH,EAAO6pB,kBAAiB7pB,EAASiI,IAMjDjI,EAAO6pB,gBASRxsB,KAAKmF,QAAQ1C,QAAUE,EAAO9J,MAR9B8J,EAAO6pB,gBAAkBn1B,QACnB8N,GAAQspB,WACV9rB,EACAtL,EAAOwB,KACP,oCAAoCxB,EAAOwB,gDAAgDxB,EAAOwB,2EAMpGmH,KAAK0uB,cACX1uB,KAAK2E,OAAOkoB,SAAU,IA/NT,GAAK,gBADzB,QACoB,cAyOf,SAAUtI,GAAaoK,GACzB,MAAM,KAAE91B,EAAF,SAAQ6Q,EAAR,gBAAkB8iB,EAAlB,QAAmC7mB,EAAnC,OAA4CuG,EAA5C,SAAoD9J,EAApD,QAA8DkrB,GAAYhI,KAAKC,MACjFoJ,GAGJ,MAAO,CACH91B,EACA6Q,EACA8iB,EAAgBhqB,GAChBgqB,EAAgB3zB,KAChB,GAAQ0rB,aAAa5e,GACrB,GAAY4e,aAAarY,GACzB,GAAcqY,aAAaniB,GAC3B,GAAQmiB,aAAa+I,IAUtBjuB,eAAeuvB,GAAaC,GAE/B,MAAMn7B,EAAwC4xB,KAAKC,MAC/C,KAAGuJ,kCAAkCD,EAAO3jB,SAE1CshB,EAAkB,CAAEhqB,GAAI9O,EAAK,GAAImF,KAAMnF,EAAK,IAElD,aADM,GAAS85B,eAAehB,GACvB,CACH3zB,KAAMnF,EAAK,GACXgW,SAAUhW,EAAK,GACf84B,kBACA7mB,QAAS,GAAQof,eAAerxB,EAAK,IACrCwY,OAAQ,GAAY6Y,eAAerxB,EAAK,IACxC0O,SAAU,GAAc2iB,eAAerxB,EAAK,IAC5C45B,QAAS,GAAQvI,eAAerxB,EAAK,KC7b7C,IAAqB,GAArB,cAAyC,GACrC,oBACI,OAAOsM,KAAK2E,OAAOoqB,cACb,IAAM,GAAOpf,aAAe,GAAOG,YAAc,GAAOF,WACxD,IAAM,GAAOE,YAAc,GAAOF,WAE5C,mBACI,OAAO5P,KAAK2E,OAAOoqB,cACb,GAAOpf,aAAe,GAAOG,YAAc,EAC3C,GAAOA,YAEjB,cACI,OAAO,KAZM,GAAW,gBAD/B,QACoB,QCjBjB,GAAQ,GDiBS,MEjBgT,M,yBCQjUkf,GAAY,gBACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,GAAAA,G,QCnBX,GAAS,WAAa,IAAIxrB,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,GAAK,WAAW,cAAc,aAAa,CAAEN,EAAIa,SAAuB,eAAEV,EAAG,IAAI,CAACE,YAAY,8BAA8B2B,YAAY,CAAC,YAAY,QAAQ1B,MAAM,CAAC,MAAQ,kBAAkBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIa,SAAS/F,aAAakF,EAAIiC,KAAMjC,EAAImB,OAAOkoB,SAAWrpB,EAAIa,SAASkoB,eAAgB5oB,EAAG,OAAO,CAACE,YAAY,sBAAsB2B,YAAY,CAAC,MAAQ,QAAQ,OAAS,QAAQ,gBAAgB,WAAWhC,EAAIiC,KAAKjC,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGtD,EAAIa,SAAS5B,QAAUe,EAAIa,SAAS5B,QAAQ5J,KAAO,mBAAmB,KAAK8K,EAAG,IAAI,CAACE,YAAY,yBAAyB2B,YAAY,CAAC,YAAY,YAAahC,EAAIa,SAASgO,UAAgB,OAAE1O,EAAG,MAAM,CAACE,YAAY,uBAAuBL,EAAIyrB,GAAIzrB,EAAIa,SAAkB,WAAE,SAASshB,GAAK,OAAOhiB,EAAG,IAAI,CAACzJ,IAAIyrB,EAAInjB,GAAGqB,YAAY,sBAAsBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIgqB,eAAe7H,MAAQ,CAACniB,EAAI0C,GAAG1C,EAAIsD,GAAG6e,EAAI9sB,MAAM,UAAS,GAAG2K,EAAIiC,OAAO9B,EAAG,0BAA0B,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAON,EAAI0rB,WAAW,iBAAmB,EAAE,KAAO,KAAK,YAAc,2BAA2BnrB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,GAAGprB,EAAO9J,IAAI,CAAC,MAAM,WAAoB,KAAcsJ,EAAI6rB,mBAAmBC,MAAM,CAAC11B,MAAO4J,EAAS,MAAE+rB,SAAS,SAAUC,GAAMhsB,EAAIkE,MAAM8nB,GAAKC,WAAW,UAAU,CAAC9rB,EAAG,WAAW,CAACghB,KAAK,UAAU,CAAChhB,EAAG,OAAO,CAACE,YAAY,wBAAwBW,MAAM,CAAE,aAAchB,EAAIksB,YAAa3rB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI6rB,oBAAoB,CAAE7rB,EAAc,WAAEG,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,IAAI,CAACE,YAAY,uBAAuB,GAAIL,EAAc,WAAEG,EAAG,YAAY,CAAC+gB,IAAI,oBAAoB5gB,MAAM,CAAC,QAAUN,EAAImsB,aAAa,QAAUnsB,EAAIosB,aAAa,SAAWpsB,EAAIpB,SAAS2D,gBAAgB,cAAcvC,EAAIksB,WAAW,uBAAuBlsB,EAAImC,QAAQwb,mBAAmB,qBAAqB3d,EAAImC,QAAQ2b,kBAAkBvd,GAAG,CAAC,gBAAgBP,EAAIqsB,aAAa,eAAe,SAAS7rB,GAAQ,OAAOR,EAAIW,MAAM2rB,gBAAgB9rB,EAAOuV,IAAKvV,EAAO/F,QAAQ,MAAQ,SAAS+F,GAAQ,OAAOR,EAAI6rB,qBAAqB7rB,EAAIiC,KAAK9B,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,MAAQN,EAAIpB,SAASwnB,UACz0E,8BACA,qCAAqC7lB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIpB,SAASynB,gBAAgBrmB,EAAIpB,SAASwnB,cAAc,CAACpmB,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGtD,EAAIpB,SAASwnB,UAAa,mBAAqBpmB,EAAIpB,SAASqnB,qBAAuB,GAAM,gBAAgB,KAAK9lB,EAAG,IAAI,CAACE,YAAY,2BAA2B2B,YAAY,CAAC,YAAY,YAAY7B,EAAG,MAAM,CAACE,YAAY,iEAAiE2B,YAAY,CAAC,YAAY,SAAS,CAAC7B,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,6BAA6BW,MAAMhB,EAAIpB,SAASsnB,sBAAwB,EAAI,aAAe,gBAAgB5lB,MAAM,CAAC,MAAQ,qBAAqBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIpB,SAAS0nB,eAAetmB,EAAIpB,SAASsnB,sBAAwB,SAAS/lB,EAAG,MAAM,CAACE,YAAY,WAAW2B,YAAY,CAAC,YAAY,QAAQ1B,MAAM,CAAC,MAAQ,sCAAsC,CAACN,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGtD,EAAIpB,SAASsnB,sBAAwB,GAAG,OAAO/lB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,8BAA8BW,MAAMhB,EAAIpB,SAASsnB,sBAAwBlmB,EAAIpB,SAASonB,kBAAkBt1B,OAAS,EAC7lC,aACA,gBAAgB4P,MAAM,CAAC,MAAQ,iBAAiBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIpB,SAAS0nB,eAAetmB,EAAIpB,SAASsnB,sBAAwB,SAAS/lB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,kCAAkCC,MAAM,CAAC,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIpB,SAAS2tB,oBAAoBpsB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,yBAAyBC,MAAM,CAAC,MAAQ,+CAA+CC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIpB,SAAS4tB,oBAAoBrsB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,wBAAwBW,MAAMhB,EAAIpB,SAASonB,kBAAkBt1B,OAAS,EAAI,aAAe,gBAAgB4P,MAAM,CAAC,MAAQ,2BAA2BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIpB,SAAS6tB,yBAAyBtsB,EAAG,YAAY,CAAC+gB,IAAI,oBAAoB5gB,MAAM,CAAC,QAAUN,EAAIpB,SAAS2D,gBAAgBtD,QAAQmH,QAAQ,SAAWpG,EAAIpB,SAAS2D,gBAAgB,YAAYvC,EAAIpB,SAASwnB,UAAU,uBAAuBpmB,EAAImC,QAAQwb,oBAAoBpd,GAAG,CAAC,gBAAgBP,EAAIqsB,aAAa,gBAAgBrsB,EAAI0sB,aAAa,eAAe,SAASlsB,GAAQ,OAAOR,EAAIW,MAAM2rB,gBAAgB9rB,EAAOuV,IAAKvV,EAAO/F,WAAW0F,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,SAAS,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI2sB,mBAAmB,CAAC3sB,EAAI0C,GAAG,gBAAgBvC,EAAG,SAAS,CAACE,YAAY,uBAAuBC,MAAM,CAAC,MAAQ,gDAAgDC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIpB,SAAS2E,WAAW,CAACvD,EAAI0C,GAAG,eAAevC,EAAG,MAAM,CAACE,YAAY,2CAA2CC,MAAM,CAAC,MAAQ,4DAA4D,CAACH,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAmB,YAAE8pB,WAAW,wBAAwB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,cAAc,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQyT,aAAa5V,EAAI4sB,GAAG5sB,EAAImC,QAAQyT,YAAY,OAAO,EAAG5V,EAAImC,QAAmB,aAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQyT,YAAYkX,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,cAAe0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,cAAe0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,cAAe4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,gBAAgB,CAACN,EAAI0C,GAAG,gCAAgCvC,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACL,EAAI0C,GAAG,uBAAuBvC,EAAG,KAAK,CAACE,YAAY,8BAA8B2B,YAAY,CAAC,MAAQ,QAAQ,CAAC7B,EAAG,KAAK,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,mBAAmB1C,EAAIsD,GAAGtD,EAAIpB,SAAS2D,gBAAgByR,aAAa,KAAMhU,EAAIpB,SAAS2D,gBAAgByR,YAAc,GAAI7T,EAAG,OAAO,CAACE,YAAY,OAAO2B,YAAY,CAAC,YAAY,UAAU1B,MAAM,CAAC,MAAQ,eAAe,CAACN,EAAI0C,GAAG,UAAU1C,EAAIiC,OAAO9B,EAAG,QAAQ,CAACE,YAAY,sBAAsBC,MAAM,CAAC,MAAQ,4GAA4G,CAACN,EAAIyD,GAAG,GAAGzD,EAAIyrB,GAAIzrB,EAAIf,QAAQC,IAAU,QAAE,SAASqG,GAAK,OAAOpF,EAAG,KAAK,CAACzJ,IAAI6O,GAAK,CAACpF,EAAG,KAAK,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIf,QAAQmH,QAAQb,EAAM,GAAG7F,gBAAgBS,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,uCAAuCL,EAAIyrB,GAAIzrB,EAAIf,QAAQC,IAAIqG,EAAM,IAAI,SAASvG,GAAI,OAAOmB,EAAG,SAAS,CAACzJ,IAAIsI,GAAI,CAACgB,EAAI0C,GAAG1C,EAAIsD,GAAGtE,SAAS,WAAU,MAAM,IACjhH,GAAkB,CAAC,WAAa,IAAIgB,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACH,EAAI0C,GAAG,iBAAiBvC,EAAG,KAAK,CAACH,EAAI0C,GAAG,cCL5K,GAAS,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsBC,MAAM,CAAC,SAAW,MAAMC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,GAAGprB,EAAO9J,IAAI,CAAC,MAAM,WAAoB,KAAcsJ,EAAImtB,MAAM,YAAYntB,EAAIyrB,GAAIzrB,EAAW,SAAE,SAAS+V,EAAIxQ,GAAK,OAAOpF,EAAG,MAAM,CAACzJ,IAAIqf,EAAIrf,IAAI2J,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,kCAAkCE,GAAG,CAAC,WAAa,SAASC,GAAQ,OAAOR,EAAIpB,SAASsW,MAAMa,EAAIrf,MAAM,WAAa,SAAS8J,GAAQ,OAAOR,EAAIpB,SAASwuB,QAAQrX,EAAIrf,QAAQ,CAACyJ,EAAG,MAAM,CAACE,YAAY,qDAAqD2B,YAAY,CAAC,OAAS,WAAWzB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIqtB,SAAStX,EAAIrf,QAAQ,CAACyJ,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBW,MAAMhB,EAAIstB,SAASvX,EAAIrf,KAAO,kBAAoB,uBAAuByJ,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAAEL,EAAIzF,QAAc,OAAE4F,EAAG,OAAO,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAI5F,eAAe2b,EAAIrW,YAAa,MAAOM,EAAIzF,QAAQgL,GAAK,QAAQpF,EAAG,OAAO,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGyS,EAAIrW,gBAAiBM,EAAIpB,SAAS8Z,cAAc3C,EAAIrf,KAAMyJ,EAAG,OAAO,CAACE,YAAY,mBAAmBC,MAAM,CAAC,MAAQ,kHAAkH,CAACH,EAAG,IAAI,CAACE,YAAY,kCAAkCL,EAAIiC,KAAMjC,EAAIpB,SAAS2uB,UAAUxX,EAAIrf,KAAMyJ,EAAG,OAAO,CAACE,YAAY,oBAAoBC,MAAM,CAAC,MAAQ,0GAA0G,CAACH,EAAG,IAAI,CAACE,YAAY,kCAAkCL,EAAIiC,OAAQjC,EAAI2d,oBAAsB3d,EAAIksB,WAAY,CAAElsB,EAAIzF,QAAc,OAAE4F,EAAG,IAAI,CAAC6B,YAAY,CAAC,YAAY,UAAU,OAAS,KAAKqB,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAI5F,eAAe2b,EAAIpW,MAAO,QAASK,EAAIzF,QAAQgL,GAAK,QAAQpF,EAAG,IAAI,CAAC6B,YAAY,CAAC,YAAY,UAAU,OAAS,MAAM,CAAChC,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGyS,EAAIpW,OAAO,QAAQK,EAAIiC,MAAM,GAAG9B,EAAG,MAAM,CAACE,YAAY,wBAAwBW,MAAM,CAClmE,cAAehB,EAAI2d,mBACnB,cAAe3d,EAAI2d,mBACnB,QAAS3d,EAAI2d,mBACb,eAAgB3d,EAAI2d,qBACrB,CAACxd,EAAG,IAAI,CAACE,YAAY,gCAAgCW,MAAM,CAAE,QAAShB,EAAI2d,oBAAqBrd,MAAM,CAAC,MAAQ,0BAA0BC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAImtB,MAAM,eAAgB,CAAEpX,IAAKA,EAAKtb,MAAOuF,EAAIzF,QAAQgL,SAAavF,EAAsB,mBAAEG,EAAG,MAAMH,EAAIiC,KAAOjC,EAAIksB,WAAqRlsB,EAAIiC,KAA7Q9B,EAAG,IAAI,CAACE,YAAY,0BAA0BW,MAAM,CAAE,QAAShB,EAAI2d,oBAAqBrd,MAAM,CAAC,MAAQ,6DAA6DC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAImtB,MAAM,gBAAiBpX,EAAIrf,eAAwByJ,EAAG,SAAS,CAAEH,EAAIstB,SAASvX,EAAIrf,KAAMyJ,EAAG,MAAM,CAACE,YAAY,SAAS,CAAEL,EAAW,QAAEG,EAAG,MAAM,CAACE,YAAY,qDAAqD2B,YAAY,CAAC,YAAY,YAAY,CAAC7B,EAAG,MAAM,CAACE,YAAY,YAAY2B,YAAY,CAAC,eAAe,sBAAsBzB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIytB,OAAO1X,EAAIrf,KAAM,MAAM,CAACyJ,EAAG,MAAM,CAACE,YAAY,8CAA8CW,MAAM,CAAE0sB,OAAQ1tB,EAAIpB,SAAS+uB,aAAa5X,EAAIrf,OAAQ,CAACyJ,EAAG,MAAM,CAACE,YAAY,sDAAsD,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,iBAAiBvC,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAAEL,EAAIpB,SAAS+uB,aAAa5X,EAAIrf,KAAMyJ,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,IAAI,CAACE,YAAY,0BAA0BF,EAAG,MAAM,CAACE,YAAY,YAAYE,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIpB,SAASgvB,QAAQ7X,EAAIrf,KAC/8CsJ,EAAI6tB,YAAY9X,EAAIrf,QAAS,CAACyJ,EAAG,MAAM,CAACE,YAAY,mDAAmDW,MAAM,CAAE0sB,OAAQ1tB,EAAIpB,SAASkvB,QAAQ/X,EAAIrf,MAAQsJ,EAAIyU,MAAMsB,EAAIrf,MAAO4J,MAAM,CAAC,MAAQ,sFAAsF,CAACH,EAAG,MAAM,CAACE,YAAY,sDAAsD,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,YAAYvC,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAAEL,EAAIpB,SAASkvB,QAAQ/X,EAAIrf,MAAQsJ,EAAIyU,MAAMsB,EAAIrf,KAAMyJ,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,IAAI,CAACE,YAAY,4BAA4BL,EAAIiC,KAAKjC,EAAIyrB,GAAIzrB,EAAI+tB,iBAAiBhY,EAAIrf,MAAM,SAASN,EAAMM,GAAK,MAAO,CAAE/F,OAAOmY,KAAK9I,EAAI+tB,iBAAiBhY,EAAIrf,MAAMhG,OAAS,EAAGyP,EAAG,KAAK,CAACzJ,IAAIA,EAAI2J,YAAY,wDAAwDC,MAAM,CAAC,MAAQ,oDAAoDC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIguB,UAAU53B,EAAMM,IAAKN,MAAU,CAAC+J,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAG5M,QAAUyJ,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAAEL,EAAIiuB,gBAAgBlY,EAAIrf,IAAKA,GAAMyJ,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,IAAI,CAACE,YAAY,wBAAwBL,EAAIiC,KAAKjC,EAAIyrB,GAAIr1B,EAAc,UAAE,SAASkJ,GAAK,OAAOa,EAAG,MAAM,CAACzJ,IAAI4I,EAAIN,GAAGqB,YAAY,uDAAuDW,MAAM,CACp6C0sB,OAAQ1tB,EAAIpB,SAASsvB,WAAWnY,EAAIrf,IAAK4I,EAAIN,KAC/CsB,MAAM,CAAC,MAAQN,EAAIpB,SAASsvB,WAAWnY,EAAIrf,IAAK4I,EAAIN,IAC5C,oBACA,mBAAmBuB,GAAG,CAAC,WAAa,SAASC,GAAQ,OAAOR,EAAIpB,SAASuvB,QAAQ7uB,IAAM,WAAa,SAASkB,GAAQ,OAAOR,EAAIpB,SAASwvB,iBAAiB,MAAQ,SAAS5tB,GAAQ,OAAOR,EAAIytB,OAAO1X,EAAIrf,IAAK4I,EAAIN,OAAO,CAACmB,EAAG,MAAM,CAACE,YAAY,sDAAsD,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACE,YAAY,oBAAoB2B,YAAY,CAAC,YAAY,YAAY,CAAC7B,EAAG,KAAK,CAACH,EAAI0C,GAAG,YAAY1C,EAAIsD,GAAGhE,EAAIwB,SAAS,KAAMxB,EAAS,MAAEa,EAAG,IAAI,CAACE,YAAY,8BAA8BW,MAAM1B,EAAI+uB,SAAS,GAAG/tB,MAAM,CAAC,MAAQhB,EAAI+uB,SAAS,MAAMruB,EAAIiC,OAAO9B,EAAG,KAAK,CAAEH,EAAIzF,QAAc,OAAE4F,EAAG,OAAO,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GAC7oBtD,EAAI5F,eACAkF,EAAIqH,MACJ,QACA3G,EAAIzF,QAAQgL,GAAK,GAAGvP,IAAIsJ,EAAIN,SAE/BmB,EAAG,OAAO,CAACH,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGhE,EAAIqH,YAAY3G,EAAIyrB,GAAInsB,EAAY,UAAE,SAASE,EAAQhP,GAAG,OAAO2P,EAAG,KAAK,CAACzJ,IAAIlG,GAAG,CAACwP,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG9D,EAAQ9G,MAAM,UAAUsH,EAAIzF,QAAc,OAAE4F,EAAG,KAAK,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GACrNtD,EAAI5F,eACAkF,EAAIuH,YACJ,cACA7G,EAAIzF,QAAQgL,GAAK,GAAGvP,IAAIsJ,EAAIN,SAE/BmB,EAAG,KAAK,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGhE,EAAIuH,gBAAiB7G,EAAIzF,QAAc,OAAE4F,EAAG,KAAK,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GACpGtD,EAAI5F,eACAkF,EAAIyH,MACJ,QACA/G,EAAIzF,QAAQgL,GAAK,GAAGvP,IAAIsJ,EAAIN,SAE/BmB,EAAG,KAAK,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGhE,EAAIyH,WAAW,KAAK5G,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,OAAO+N,QAAQ,SAAShN,MAAO4J,EAAIpB,SAASkvB,QAAQ/X,EAAIrf,MAAQsJ,EAAIyU,MAAMsB,EAAIrf,KAAMu1B,WAAW,gDAAgD5rB,YAAY,+BAA+B2B,YAAY,CAAC,MAAQ,QAAQ1B,MAAM,CAAC,GAAKyV,EAAIrf,IAAM,IAAM4I,EAAIN,GAAG,KAAO,SAAS,UAAYgB,EAAIpB,SAASsvB,WAAWnY,EAAIrf,IAAK4I,EAAIN,IAAI,IAAM,IAAI,IAAM,KAAKqE,SAAS,CAAC,MAAQrD,EAAIpB,SAAS0vB,gBAAgBvY,EAAIrf,IAAK4I,EAAIN,KAAKuB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIytB,OAAO1X,EAAIrf,IAAK4I,EAAIN,KAAK,MAAQ,SAASwB,GAAQA,EAAOgtB,wBAAyBrtB,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAAEL,EAAIpB,SAASsvB,WAAWnY,EAAIrf,IAAK4I,EAAIN,IAAKmB,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,IAAI,CAACE,YAAY,gCAA8B,GAAGL,EAAIiC,QAAQ,MAAK,IAC35B,GAAkB,GCxBtB,IACE,KAAF,SACE,YAAF,EACE,OAAF,KACI,MAAJ,GACM,MAAN,CACQ,KAAR,UAEM,GAAN,CACQ,WAAR,GAEU,EAAV,qBAKQ,MAAR,GACU,MAAV,MAAY,GAAZ,oBAEU,EAAV,cACU,EAAV,0BACU,EAAV,0BACU,EAAV,oBAEU,MAAV,OAAY,GAAZ,oBAEU,EAAV,8BACU,EAAV,iCACU,EAAV,mCACU,EAAV,eAMU,iBAAV,UACU,WAAV,KAEY,EAAZ,kBAGQ,MAAR,GACU,MAAV,OAAY,GAAZ,oBAEU,EAAV,eAKU,iBAAV,UACU,WAAV,KAEY,EAAZ,oBAKI,OAAJ,+BC9DgV,MNS5U,I,oBAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QOOf,IAAqB,GAArB,cAAuC,OAAvC,c,oBAiCI,KAAAssB,UAAsC,GACtC,KAAA9Z,MAAkC,GAElC,OAAO/d,EAAa6O,GAEhB,MAAMipB,EAAWz7B,SAAS07B,eAAe/3B,EAAM,IAAM6O,IAExC,IAATA,GAEK/I,KAAKoC,SAAS+uB,aAAaj3B,IAAM8F,KAAK0wB,KAAK1wB,KAAKiY,MAAO/d,GAAK,GACjE8F,KAAK2wB,MAAM,gBAAiBz2B,EAAK6O,EAAK,EAAG/I,KAAK0vB,aAE9C1vB,KAAK2wB,MAAM,gBAAiBz2B,EAAK6O,GAAMipB,EAASp4B,MAAOoG,KAAK0vB,YAIpE,YAAYx1B,GACJ8F,KAAKiY,MAAM/d,GACX8F,KAAK0wB,KAAK1wB,KAAKiY,MAAO/d,GAAK,IAE3B8F,KAAK0wB,KAAK1wB,KAAKiY,MAAO/d,GAAK,GACvB8F,KAAKoC,SAAS+uB,aAAaj3B,IAC3B8F,KAAK2wB,MAAM,gBAAiBz2B,GAAM,EAAG,EAAG8F,KAAK0vB,aAIzD,UAAUx1B,EAAakK,GACnB,IAAI8tB,GAAc,EAClB,IAAK,MAAMpvB,KAAOsB,EAAO7B,SAChBvC,KAAKoC,SAASsvB,WAAWx3B,EAAK4I,EAAIN,MACnC0vB,GAAc,EACdlyB,KAAKixB,OAAO/2B,EAAK4I,EAAIN,KAG7B,IAAK0vB,EACD,IAAK,MAAMpvB,KAAOsB,EAAO7B,SACrBvC,KAAKixB,OAAO/2B,EAAK4I,EAAIN,IAKjC,gBAAgBtI,EAAagB,GACzB,OAAO8E,KAAKuxB,iBAAiBr3B,GAAKgB,GAAMqH,SAASmM,MAAM5L,GACnD9C,KAAKoC,SAASsvB,WAAWx3B,EAAK4I,EAAIN,KAI1C,uBACI,MAAM2vB,EAA8Dh+B,OAAO8F,OAAO,MAClF,IAAK,MAAMmK,KAAUpE,KAAK4J,QAAS,CAC/B,MAAMI,EAAuC7V,OAAO8F,OAAO,MACrDsI,EAAW6B,EAAO7B,SAExB,IAAK,MAAM,MAAEuM,EAAF,GAAStM,KAAQD,EACpByH,EAAI8E,GACJ9E,EAAI8E,GAAO0J,IAAIhW,GAEfwH,EAAI8E,IAAS,IAAIzB,KAAcmL,IAAIhW,GAI3C,MAAM4vB,EAAuCj+B,OAAO8F,OAAO,MACrDuS,EAAMpI,EAAO7B,SAASrO,OAC5B,IAAK,MAAMsI,KAAQwN,EAEXA,EAAIxN,GAAMwP,OAASQ,EACnB4lB,EAAS51B,GAAQ4H,EAGjBguB,EAAS51B,GAAQ9B,OAAO4H,QAAQkI,UAAUpG,EAAOlK,IAAK8P,EAAIxN,IAGlE21B,EAAU/tB,EAAOlK,KAAOk4B,EAE5B,OAAOD,EAOX,SAASj4B,GACD8F,KAAK8wB,SAAS52B,GACd8F,KAAK0wB,KAAK1wB,KAAK+xB,UAAW73B,GAAK,GAE/B8F,KAAK0wB,KAAK1wB,KAAK+xB,UAAW73B,GAAK,GAOvC,SAASA,GACL,MAAMyK,EAAS3E,KAAK+xB,UAAU73B,GAC9B,YAAmBpB,IAAX6L,GAAwB3E,KAAK0vB,YAAc1vB,KAAKshB,kBAAqB3c,IA3HvC,gBAAzC,eAAK,CAAE3N,KAAMmI,MAAOkzB,QAAS,IAAM,M,+BAIM,gBAAzC,eAAK,CAAEr7B,KAAMmI,MAAOkzB,QAAS,IAAM,M,+BAItB,gBAAb,eAAKl+B,S,gCAImC,gBAAxC,eAAK,CAAEk+B,SAAS,EAAOr7B,KAAMke,W,kCAIU,gBAAvC,eAAK,CAAEmd,SAAS,EAAMr7B,KAAMke,W,+BAIY,gBAAxC,eAAK,CAAEmd,SAAS,EAAOr7B,KAAMke,W,wCACU,gBAAvC,eAAK,CAAEmd,SAAS,EAAMr7B,KAAMke,W,0CAzBZ,GAAS,gBAL7B,eAAU,CACPod,WAAY,CACRC,cAGa,cC3B8S,MCQ/T,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI/uB,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,MAAM,CAAC,GAAM,aAAeN,EAAIhB,GAAI,KAAO,WAAW,gBAAgB,UAAU,YAAa,eAAiBgB,EAAIhB,GAAI,gBAAiBgB,EAAIgvB,WAAahvB,EAAI9P,KAAKQ,OAAS,EAAK,OAAS,UAAU,CAACyP,EAAG,MAAM,CAACa,MAAMhB,EAAIivB,mBAAmB,CAAEjvB,EAAIkvB,OAAOC,SAAWnvB,EAAImvB,QAAShvB,EAAG,MAAM,CAAC+gB,IAAI,aAAa7gB,YAAY,uBAAuB,CAACL,EAAIwD,GAAG,UAAU,CAACrD,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAImvB,eAAe,GAAGnvB,EAAIiC,KAAK9B,EAAG,QAAQ,CAAC+gB,IAAI,QAAQlgB,MAAO,gBAAkBhB,EAAIovB,WAAY9uB,MAAM,CAAC,GAAM,mBAAqBN,EAAIhB,GAAI,KAAO,OAAO,KAAO,YAAY,kBAAkBgB,EAAIqvB,eAAe,iBAAiB,QAAQ,oBAAoB,OAAO,gBAAiB,eAAiBrvB,EAAIhB,GAAI,wBAAyB,mBAAqBgB,EAAIhB,GAAI,KAAOgB,EAAIsvB,UAAU,YAActvB,EAAIuvB,YAAY,cAAevvB,EAAIqvB,gBAAkBrvB,EAAIuvB,YAAoB,SAAWvvB,EAAIwvB,UAAUnsB,SAAS,CAAC,MAAQrD,EAAIyvB,YAAYlvB,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIgvB,WAAY,GAAM,KAAOhvB,EAAI0vB,eAAe,MAAQ,SAASlvB,GAAQ,OAAOR,EAAI2vB,YAAYnvB,EAAO3M,OAAOuC,QAAQ,QAAU,SAASoK,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,GAAGprB,EAAO9J,IAAI,CAAC,MAAM,WAAoB,KAAcsJ,EAAI4vB,UAAUpvB,EAAO3M,OAAOuC,QAAQ,MAAQ,SAASoK,GAAQ,OAAOR,EAAImtB,MAAM,QAAS3sB,OAAaR,EAAIkvB,OAAOW,QAAU7vB,EAAI6vB,OAAQ1vB,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACL,EAAIwD,GAAG,SAAS,CAACrD,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAI6vB,cAAc,GAAG7vB,EAAIiC,OAAO9B,EAAG,+BAA+B,CAACgD,WAAW,CAAC,CAAC9N,KAAK,OAAO+N,QAAQ,SAAShN,MAAO4J,EAAIgvB,WAAahvB,EAAI9P,KAAKQ,OAAS,EAAGu7B,WAAW,iCAAiC/K,IAAI,OAAO7gB,YAAY,uBAAuBC,MAAM,CAAC,GAAM,eAAiBN,EAAIhB,GAAI,MAAQgB,EAAIyvB,WAAW,KAAOzvB,EAAI8vB,cAAc,qBAAqB9vB,EAAI+vB,kBAAkB,8BAA8B/vB,EAAIgwB,0BAA0B,eAAehwB,EAAIiwB,YAAY,WAAajwB,EAAIkwB,WAAW,iBAAmBlwB,EAAImwB,iBAAiB,YAAcnwB,EAAIowB,YAAY,YAAcpwB,EAAIqwB,YAAY,eAAiBrwB,EAAIswB,eAAe,eAAiBtwB,EAAIuwB,eAAe,eAAiBvwB,EAAIwwB,eAAe,YAAcxwB,EAAIhB,GAAG,KAAO,WAAWuB,GAAG,CAAC,IAAMP,EAAIywB,UAAU,aAAezwB,EAAI0wB,iBAAiBC,YAAY3wB,EAAI4wB,GAAG,CAAC5wB,EAAIyrB,GAAIzrB,EAAgB,cAAE,SAASmhB,EAAK0P,GAAU,MAAO,CAACn6B,IAAIm6B,EAASC,GAAG,SAAS5P,GACv7E,IAAIhxB,EAAOgxB,EAAIhxB,KACX6gC,EAAW7P,EAAI6P,SACnB,MAAO,CAAC/wB,EAAIwD,GAAGqtB,EAAS,KAAK,KAAK,CAAE3gC,KAAMA,EAAM6gC,SAAUA,WAAkB,MAAK,MAAS,IACtF,GAAkB,GCJlB,GAAS,WAAa,IAAI/wB,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+gB,IAAI,iBAAiB7gB,YAAY,qBAAqBL,EAAIyrB,GAAIzrB,EAAgB,cAAE,SAAS0oB,EAAK1pB,GAAI,OAAOmB,EAAG,oCAAoCH,EAAIgxB,GAAG,CAACt6B,IAAIsI,EAAGsB,MAAM,CAAC,OAASN,EAAIixB,iBAAiBjyB,GAAI,KAAMgB,EAAIixB,iBAAiBjyB,IAAQ,mBAAqBgB,EAAIkxB,YAAqB,KAAOxI,EAAKx4B,KAAK,YAAY8P,EAAImxB,UAAUzI,EAAKzsB,MAAM,KAAO,SAAS,gBAAiB+D,EAAIixB,iBAAiBjyB,GAAO,OAAS,QAAQ,qBAAsB0pB,EAAqB,iBAAIA,EAAK0I,iBAAmB1I,EAAKzsB,KAAK,SAAW+D,EAAIqxB,eAAe3I,GAAM,qBAAqB1oB,EAAI+vB,kBAAkB,8BAA8B/vB,EAAIgwB,0BAA0B,eAAehwB,EAAIiwB,aAAaqB,SAAS,CAAC,MAAQ,SAAS9wB,GAAQ,OAAOR,EAAIywB,UAAU/H,EAAMloB,KAAUmwB,YAAY3wB,EAAI4wB,GAAG,CAAC,CAACl6B,IAAI,aAAao6B,GAAG,SAAS5P,GAC73B,IAAIhxB,EAAOgxB,EAAIhxB,KACX6gC,EAAW7P,EAAI6P,SACnB,OAAQ/wB,EAAIuxB,aAAuB,WAAE,CAACvxB,EAAIwD,GAAG,aAAa,KAAK,KAAK,CAAEtT,KAAMA,EAAM6gC,SAAUA,UAAaz7B,KAAa,MAAK,IAAO0K,EAAIwxB,gBAAe,IACjJ,GAAkB,GCJlB,GAAS,WAAa,IAAIxxB,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACa,MAAOhB,EAAIyxB,YAAc,KAAOzxB,EAAI0tB,OAAS,SAAW,IAAKptB,MAAM,CAAC,SAAW,IAAI,KAAO,KAAKC,GAAG,CAAC,QAAU,CAAC,SAASC,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,EAAEprB,EAAO9J,IAAI,OAAgB,KAAcsJ,EAAImtB,MAAM,iBAAiB,SAAS3sB,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,GAAGprB,EAAO9J,IAAI,CAAC,MAAM,WAAoB,MAAO8J,EAAOgtB,kBAAkBhtB,EAAOkxB,iBAAwB1xB,EAAImtB,MAAM,kBAAiB,SAAS3sB,GAAQ,IAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,OAAO,GAAGprB,EAAO9J,IAAI,CAAC,OAAO,cAAgB,OAAO,KAAO8J,EAAOkxB,kBAAmB,SAASlxB,GAAQ,IAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,KAAK,GAAGprB,EAAO9J,IAAI,CAAC,KAAK,YAAc,OAAO,KAAO8J,EAAOkxB,mBAAoB,MAAQ,CAAC,SAASlxB,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,OAAO,GAAGprB,EAAO9J,IAAI,CAAC,OAAO,cAAuB,KAAcsJ,EAAI2xB,QAAQC,mBAAmBpxB,IAAS,SAASA,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,KAAK,GAAGprB,EAAO9J,IAAI,CAAC,KAAK,YAAqB,KAAcsJ,EAAI2xB,QAAQE,uBAAuBrxB,KAAU,KAAOR,EAAI8xB,kBAAkB,CAAC3xB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIoxB,qBAAqBjxB,EAAG,MAAM,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAIwD,GAAG,aAAa,CAACrD,EAAG,OAAO,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAI+wB,cAAc,KAAK,CAAE7gC,KAAM8P,EAAI9P,KAAM6gC,SAAU/wB,EAAI+wB,YAAa,MACn+C,GAAkB,GCsBtB,IACE17B,KAAM,gCAEN08B,MAAO,CACLrE,OAAQ,CACNl6B,KAAMke,SAERxhB,KAAM,GACNkhC,iBAAkB,CAChB59B,KAAMw+B,QAERjB,SAAU,CACRv9B,KAAMw+B,QAERxC,SAAU,CACRh8B,KAAMke,SAERqe,kBAAmB,CACjBv8B,KAAMw+B,QAERhC,0BAA2B,CACzBx8B,KAAMy+B,SACNpD,QAAS,GAAf,KACMzH,UAAWzxB,GAAKA,aAAas8B,UAE/BhC,YAAa,CACXz8B,KAAMw+B,SAGV9hC,KAAM,WACJ,MAAO,CACLgiC,gBAAiB,CAAC,YAAa,kBAAmB,4BAItDC,SAAU,CACR,cACE,MAAM5V,EAAU,IAAI/f,KAAK01B,iBACnBE,EAAkC51B,KAAKwzB,0BAA0BxzB,KAAKtM,MACtE6/B,EACZ,+BACA,uBAIM,OAHIA,GAAmBxT,EAAQvrB,KAAK,mBAAmB++B,GACnDvzB,KAAKyzB,aAAa1T,EAAQvrB,KAAK,QAAQwL,KAAKyzB,aAC5CzzB,KAAKgzB,UAAUjT,EAAQvrB,KAAK,YACzBurB,EAAQlgB,KAAK,OAIxBg2B,QAAS,CACP,gBAAgBC,GACd,MAAMC,EAAMD,EAAIE,cACZD,GAAOA,EAAI7Y,UAAU+Y,SAAS,cAIlCj2B,KAAK2wB,MAAM,mBC/EqW,MCQlX,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,wJCef,MAAMuF,IAAqB,EAE3B,SAASC,GAAS12B,GAChB,OAAOA,EAAK0I,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAGlD,SAASiuB,GAAav4B,GACpB,OAAOA,EAAIsK,QAAQ,sBAAuB,QAG5C,QACEtP,KAAM,4BAENy5B,WAAY,CACV+D,8BAAJ,IAGEd,MAAO,CACL7hC,KAAM,CACJsD,KAAMmI,MACNm3B,UAAU,EACV1L,UAAWzxB,GAAKA,aAAagG,OAE/BuI,MAAO,CACL1Q,KAAMw+B,OACNnD,QAAS,IAEXqC,YAAa,CACX19B,KAAMu/B,OACND,UAAU,GAEZ/C,kBAAmB,CACjBv8B,KAAMw+B,QAERhC,0BAA2B,CACzBx8B,KAAMy+B,SACNpD,QAAS,GAAf,KACMzH,UAAWzxB,GAAKA,aAAas8B,UAE/B7B,YAAa,CACX58B,KAAMke,SAERue,YAAa,CACXz8B,KAAMw+B,QAER9B,WAAY,CACV18B,KAAMu/B,OACNlE,QAAS,IAEXsB,iBAAkB,CAChB38B,KAAMu/B,OACNlE,QAAS,GAEX2B,eAAgB,CACdh9B,KAAMmI,MACNkzB,QAAS,IAAM,IAEjBwB,YAAa,CACX78B,KAAMke,QACNmd,SAAS,GAEXyB,eAAgB,CACd98B,KAAMke,QACNmd,SAAS,GAEX0B,eAAgB,CACd/8B,KAAMw+B,OACNnD,QAAS,qBAIb,UACEryB,KAAKm1B,QAAQqB,IAAI,QAASx2B,KAAKy2B,qBAC/Bz2B,KAAKm1B,QAAQqB,IAAI,QAASx2B,KAAK02B,yBAEjC,OACE,MAAO,CACLC,gBAAiB,IAIrBhB,SAAU,CACR,YACE,OAAOl2B,IAEL,GADAA,EAAO02B,GAAS12B,GACU,IAAtBO,KAAK0H,MAAMxT,OACb,OAAOuL,EAGT,MAAMm3B,EAAK,IAAIC,OAAO72B,KAAK82B,aAAc,MACzC,OAAOr3B,EAAK0I,QAAQyuB,EAAI,gBAAgB52B,KAAK+zB,+BAIjD,eACE,OAAOqC,GAAaD,GAASn2B,KAAK0H,SAGpC,kBACE,OAAO,KAAb,qBACe1H,KAAK60B,eAAekC,KAI/B,eACE,OAAK/2B,KAAK6zB,cAAgB,KAAhC,sDACe,GAIF7zB,KAAKtM,KAClB,2EAIEmiC,QAAS,CACP,uBAAuB//B,GACrB,OAAQA,EAAEs5B,SACR,KAAK,GACHpvB,KAAKo1B,qBACL,MACF,KAAK,GACHp1B,KAAKq1B,yBACL,MACF,KAAK,GACHr1B,KAAKg3B,oBACL,QAIN,UAAU9K,EAAM4J,GACd91B,KAAK2wB,MAAM,MAAOzE,GAClB4J,EAAIZ,kBAEN,oBACMl1B,KAAK22B,eAAiB,GACxB32B,KAAKo1B,qBAEHp1B,KAAK22B,gBAAkB,GACzB32B,KAAK2wB,MAAM,MAAO3wB,KAAKi3B,aAAaj3B,KAAK22B,kBAG7C,eAAezK,GACb,OAAO,KAAb,6BAGI,iBAAiB1pB,GACf,OAAOxC,KAAK22B,iBAAmBn0B,GAEjC,sBACExC,KAAK22B,gBAAkB,GAGzB,2BAA2BO,EAAeC,GACnCD,IACHA,EAAgBl3B,KAAKi3B,mBAEKn+B,IAAxBq+B,IACFA,EAAsBn3B,KAAK22B,gBAG7B,IAAIS,EAAkB,KAC5B,EACA,YAAQ,OAAR,mCACA,KAUM,OAPIA,IAAoBlB,KACtBkB,EAAkB,KAC1B,EACA,YAAU,OAAV,qCAIaA,GAGT,qBACE,GAAIp3B,KAAKq3B,gBAAgBnjC,QAAU,EAEjC,OADA8L,KAAK22B,eAAiBT,IACf,EAGTl2B,KAAK22B,eAAiB32B,KAAKs3B,8BAG7B,yBACE,GAAIt3B,KAAKq3B,gBAAgBnjC,QAAU,EAEjC,OADA8L,KAAK22B,eAAiBT,IACf,EACf,0BACQl2B,KAAK22B,eAAiBT,IAGxB,IAAIqB,EAAe,KAAzB,yBACUC,EAAwB,KAAlC,0CACUC,EAAmBz3B,KAAKs3B,2BAA2BC,EAAcC,GAErEx3B,KAAK22B,eAAiB,KAA5B,0BAGEe,MAAO,CACL,eAAeC,EAAUC,GAIvB,GAHK53B,KAAKm1B,QAAQ0C,YAAwC,IAA3B73B,KAAKm1B,QAAQ3C,YAC1CxyB,KAAKm1B,QAAQ3C,WAAY,GAEvBmF,GAAY,EAAG,CACjB,MAAMG,EAAkB93B,KAAK+3B,MAAMC,eAC7BC,EAAWH,EAAgBI,SAASl4B,KAAK22B,gBACzCwB,EAAyBL,EAAgBM,aACzCC,EAAiBJ,EAASG,aAC1BE,EAAeh7B,KAAKK,MAClC,UAGUm6B,EAAgBS,UADdZ,GAAYW,EACcD,EAAiBr4B,KAAK22B,eAEtB,MC3P4U,MCO9W,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,qBC8Df,IACE99B,KAAM,wBAENy5B,WAAY,CACVkG,0BAAJ,IAGEjD,MAAO,CACL1C,eAAgB,CACd77B,KAAMw+B,OACNnD,QAAS,MAEXrmB,KAAM,CACJhV,KAAMw+B,OACNnD,QAAS,KACTzH,UAAW5e,GAAQ,CAAC,KAAM,KAAM,MAAMa,QAAQb,IAAS,GAEzDpS,MAAO,CACL5C,KAAMw+B,QAERxC,SAAU,CACRh8B,KAAMke,QACNmd,SAAS,GAEX3+B,KAAM,CACJsD,KAAMmI,MACNm3B,UAAU,EACV1L,UAAWzxB,GAAKA,aAAagG,OAE/Bs5B,WAAY,CACVzhC,KAAMy+B,SACNpD,QAAS,GAAf,EACMzH,UAAWzxB,GAAKA,aAAas8B,UAI/BiD,2BAA4B,CAC1B1hC,KAAMy+B,SACN7K,UAAWzxB,GAAKA,aAAas8B,UAE/BlC,kBAAmBiC,OACnBhC,0BAA2B,CACzBx8B,KAAMy+B,SACNpD,QAAS,GAAf,EACMzH,UAAWzxB,GAAKA,aAAas8B,UAE/BzB,eAAgB,CACdh9B,KAAMmI,MACNkzB,QAAS,IAAM,IAEjBoB,YAAa+B,OACb5C,WAAY,CACV57B,KAAMw+B,OACNnD,QAAS,IAEXS,UAAW,CACT97B,KAAMw+B,OACNnD,aAASv5B,GAEX46B,WAAY,CACV18B,KAAMu/B,OACNlE,QAAS,IAEXsB,iBAAkB,CAChB38B,KAAMu/B,OACNlE,QAAS,GAEXuB,YAAa,CACX58B,KAAMke,QACNmd,SAAS,GAEXwB,YAAa,CACX78B,KAAMke,QACNmd,SAAS,GAEXyB,eAAgB,CACd98B,KAAMke,QACNmd,SAAS,GAEXwF,UAAW,CACT7gC,KAAMke,QACNmd,SAAS,GAEXsG,WAAY,CACV3hC,KAAMke,QACNmd,SAAS,GAEXU,YAAayC,OACb7C,QAAS6C,OACTnC,OAAQmC,OACRzB,eAAgByB,QAGlBG,SAAU,CACR,KACE,OAAOr4B,KAAKK,MAAsB,IAAhBL,KAAKsW,WAEzB,oBACE,OAAO5T,KAAKgM,KAAO,2BAA2BhM,KAAKgM,KAAS,eAG9D,gBACE,OAAMhM,KAAKtM,gBAAgByL,MAGpBa,KAAKtM,KAAKoY,IAAI,CAAC3S,EAAGnF,KAChB,CACLwO,GAAIxO,EACJN,KAAMyF,EACNy7B,iBAAkB50B,KAAK44B,4BAA4Bz/B,GACnDsG,KAAMO,KAAKy4B,WAAWt/B,MAPjB,KAab08B,QAAS,CACP,4BAA4B18B,GAC1B,MAAN,gDAOeA,EANf,gCACiB6G,KAAK04B,2BAA2Bv/B,GAEhC6G,KAAKy4B,WAAWt/B,IAM7B,WAAW0/B,GACT,MAAMC,EAAOD,EAAGE,wBACVC,EAAYh5B,KAAK+3B,MAAMkB,KAAKC,IAAI7yB,MAOtC,GAJA2yB,EAAU1yB,MAAQwyB,EAAKxyB,MAAQ,KAI3BtG,KAAK+3B,MAAMoB,WAAY,CACzB,MAAMC,EAAcp5B,KAAK+3B,MAAMoB,WAAWJ,wBAC1CC,EAAUK,WAAaD,EAAY9yB,MAAQ,OAI/C,UAAUwvB,GACkB,qBAAf91B,KAAKpG,OACdoG,KAAK2wB,MAAM,QAASmF,EAAIr2B,MAG1BO,KAAKizB,WAAa6C,EAAIr2B,KACtBO,KAAK2wB,MAAM,MAAOmF,EAAIpiC,MAElBsM,KAAK63B,YAEP73B,KAAKwyB,WAAY,IAIrB,kBACExyB,KAAK+3B,MAAMuB,MAAMC,QACjBv5B,KAAKwyB,WAAY,GAGnB,YAAYuD,GACNA,GAAOA,EAAI7Y,UAAU+Y,SAAS,eAGlCj2B,KAAKwyB,WAAY,IAGnB,eAAesD,GACb,MAAMC,EAAMD,EAAIE,cACVxmB,UAAUC,UAAUxR,MAAM,qBAAuB+B,KAAK24B,WAC1D5/B,WAAW,KAAnB,0BAEQiH,KAAKw5B,YAAYzD,IAIrB,YAAY4B,GACV33B,KAAKwyB,WAAY,EACjBxyB,KAAKizB,WAAa0E,EAGQ,qBAAf33B,KAAKpG,OACdoG,KAAK2wB,MAAM,QAASgH,IAIxB,UAAU1E,GACW,KAAfA,GACFjzB,KAAK+3B,MAAMuB,MAAMG,OACjBz5B,KAAKwyB,WAAY,GAEjBxyB,KAAKizB,WAAa,KAKxB,OACE,MAAO,CACLT,WAAW,EACXS,WAAYjzB,KAAKpG,OAAS,KAI9B,UACEoG,KAAK05B,KAAO,IAAI,GAApB,SACM15B,KAAK25B,WAAW35B,KAAK+3B,MAAMuB,SAE7Bt5B,KAAK05B,KAAKE,QAAQ55B,KAAK+3B,MAAMuB,OAC7Bt5B,KAAK05B,KAAKE,QAAQ55B,KAAK+3B,MAAMkB,KAAKC,MAGpC,gBACEl5B,KAAK05B,KAAKG,cAGZnC,MAAO,CACL99B,MAAO,SAAX,GACMoG,KAAKizB,WAAa3Q,KC3SsV,MCQ1W,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCHf,MAAMwX,GAAmB,sIAazB,IAAqB,GAArB,cAAuC,GAAvC,c,oBAEI,KAAApK,YAAa,EACb,KAAAC,aAAyB,GACzB,KAAAC,aAA8B,GAC9B,KAAAloB,MAAQ,GACR,KAAAwnB,WAAuB,CAAC,UAAW,QAAS,UAAW,SAAU,SAAU,UAE3E,cACI,OAAOlvB,KAAKoC,SAAS2D,gBAAgBtD,QAazC,WACI,IAAKzC,KAAK0H,MAIN,OAHA1H,KAAK0vB,YAAa,EAClB1vB,KAAK2vB,aAAe,QACpB3vB,KAAK4vB,aAAe,IAGpB5vB,KAAKoC,SAASwnB,WACd5pB,KAAKoC,SAASynB,gBAAe,IAIhC7pB,KAAK2vB,aAAc3vB,KAAK4vB,cAAgBl1B,OAAO4H,QAAQy3B,OACpD/5B,KAAK0H,MACL1H,KAAK2F,QAAQq0B,kBAIjBh6B,KAAK0vB,YAAa,EAGtB,iBACI1vB,KAAK0H,MAAQ,GAGjB,gBACI1H,KAAK0H,MAAQ,GACb1H,KAAK6tB,oBAMT,aAAa3zB,EAAaoK,EAAiBwX,EAAW,EAAGC,GAAS,GAC9D,IACI/b,KAAKoC,SAAS2D,gBAAgBiW,OAAO9hB,EAAKoK,EAASwX,EAAUC,GAC/D,MAAOjmB,GACLkK,KAAK0G,KAAKrD,KAAKvN,EAAE8C,SAAWkhC,IAK/B95B,KAAK+3B,MAAMkC,kBAA0BC,eACtC,MAAMhd,EAAYld,KAAK+3B,MAAMoC,kBACzBjd,aAAqB,QAAMA,EAAkBgd,eACjDl6B,KAAKiE,aAGT,aAAa/J,GACT,IACI8F,KAAKoC,SAAS2D,gBAAgBgW,OAAO7hB,GACvC,MAAOpE,GACLkK,KAAK0G,KAAKrD,KAAKvN,EAAE8C,SAAWkhC,IAEhC95B,KAAKiE,eAtDT,gBADC,eAAM,U,wBAoBN,MAzCgB,GAAS,gBAN7B,eAAU,CACPquB,WAAY,CACR8H,UAAA,GACAC,6BAGa,cC7B6T,MCQ9U,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI72B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,uBAAwB1C,EAAI+pB,QAAQr5B,OAAS,EAAGyP,EAAG,KAAK,CAACE,YAAY,oCAAoCL,EAAIyrB,GAAIzrB,EAAW,SAAE,SAAS82B,EAAIvxB,GAAK,OAAOpF,EAAG,KAAK,CAACzJ,IAAI6O,EAAIlF,YAAY,uBAAuBE,GAAG,CAAC,WAAa,SAASC,GAAQ,OAAOR,EAAImxB,UAAU5rB,IAAM,WAAa,SAAS/E,GAAQ,OAAOR,EAAImxB,UAAU5rB,MAAQ,CAACpF,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsBC,MAAM,CAAC,MAAQN,EAAI+2B,SAASxxB,KAAO,CAACvF,EAAI0C,GAAG,aAAa1C,EAAIsD,GAAGwzB,EAAIE,KAAO,GAAG,IAAIh3B,EAAIsD,GAAGwzB,EAAIlxB,MAAQ,IAAIzF,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACL,EAAI0C,GAAG,YAAa1C,EAAIsD,GAAGwzB,EAAIG,aAAa,OAAQ92B,EAAG,QAAQA,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,qFAAqFC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIk3B,WAAW3xB,MAAQ,CAACvF,EAAI0C,GAAG,SAAU1C,EAAIm3B,kBAAkB5xB,GAAMpF,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO0gC,EAAS,MAAE7K,WAAW,cAAc5rB,YAAY,OAAO2B,YAAY,CAAC,MAAQ,QAAQ1B,MAAM,CAAC,KAAO,SAAS+C,SAAS,CAAC,MAASyzB,EAAS,OAAGv2B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIo3B,gBAAe,IAAQ,MAAQ,SAAS52B,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAK4J,EAAK,QAASt2B,EAAO3M,OAAOuC,WAAW+J,EAAG,IAAI,CAACE,YAAY,6BAA6BC,MAAM,CAAC,MAAQ,sBAAsBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIs3B,UAAU/xB,OAASpF,EAAG,IAAI,CAACE,YAAY,8BAA8B2B,YAAY,CAAC,YAAY,QAAQ1B,MAAM,CAAC,MAAQ,wBAAwBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIu3B,cAAchyB,gBAAiB,GAAGpF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACL,EAAI0C,GAAG,yOAA0OvC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,4CAA6C1C,EAAI0I,OAAwB,kBAAEvI,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAI4Z,gBAAgBzZ,EAAG,SAAS,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIw3B,iCAAiC,CAACx3B,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGtD,EAAIy3B,mBAAqB,OAAS,WAAW,4BAA4Bt3B,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACL,EAAI0C,GAAG,iIAAmIvC,EAAG,eAAe,CAACA,EAAG,MAAM,CAACE,YAAY,6CAA6CC,MAAM,CAAC,GAAK,OAAO,CAACH,EAAG,iBAAiB,CAACE,YAAY,0BAA0BC,MAAM,CAAC,eAAeN,EAAI03B,iBAAiBn3B,GAAG,CAAC,gBAAgB,SAASC,GAAQ,OAAOR,EAAIo3B,gBAAe,QAAY,GAAGj3B,EAAG,gBAAgB,CAACG,MAAM,CAAC,gBAAgBN,EAAI03B,gBAAgBh/B,SAAS,IAAI,IACjvG,GAAkB,G,wBCDlB,GAAS,WAAa,IAAIsH,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAI23B,YAAYtjB,eAAe3jB,OAAS,EAAGyP,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,UAAU,CAACN,EAAIyrB,GAAIzrB,EAAI23B,YAAYtjB,eAAe3jB,OAAS,GAAG,SAAS6U,GAAK,OAAOpF,EAAG,SAAS,CAACzJ,IAAI6O,EAAIlF,YAAY,wCAAwCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI43B,eAAeryB,EAAM,MAAM,CAACvF,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGtD,EAAI63B,SAAS73B,EAAI23B,YAAYtjB,eAAe9O,EAAM,KAAK,MAAMvF,EAAIsD,GAAGtD,EAAI63B,SAAS73B,EAAI23B,YAAYtjB,eAAe9O,IAAO,IAAI,KAAMvF,EAAI23B,YAAYzjB,eAAiB3O,EAAM,EAAGpF,EAAG,IAAI,CAACE,YAAY,iBAAiBL,EAAIiC,UAAS9B,EAAG,SAAS,CAACE,YAAY,wCAAwCC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI43B,gBAAgB,MAAM,CAAC53B,EAAI0C,GAAG,uBAAyD,IAAlC1C,EAAI23B,YAAYzjB,aAAqB/T,EAAG,IAAI,CAACE,YAAY,iBAAiBL,EAAIiC,QAAQ,GAAGjC,EAAIiC,MAC/5B,GAAkB,GCWtB,IAAqB,GAArB,cAA2C,OAEhC,eAAesD,GAClB/I,KAAKm7B,YAAYzjB,aAAe3O,EAChC/I,KAAK2wB,MAAM,iBAGR,SAASv2B,EAAWkhC,EAAS,GAChC,MAAM9+B,EAAO,IAAIK,KAAKzC,EAAa,GAATkhC,EAAc,GAAK,GAAK,KAClD,OACK9+B,EAAK++B,WAAa,GAAG1/B,WAAWC,SAAS,EAAG,KAC7C,IACAU,EACKg/B,UACA3/B,WACAC,SAAS,EAAG,OAdX,gBAAb,eAAK3H,S,mCADW,GAAa,gBADjC,QACoB,cCZkT,MCOnU,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIqP,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iDAAiDwC,MAAM,CAAGC,MAAO9C,EAAImC,QAAQW,MAAQ,MAAQ,CAAC3C,EAAG,MAAM,CAACE,YAAY,yBAAyBL,EAAIyrB,GAAIzrB,EAAS,OAAE,SAAS/H,EAAKsN,GAAK,OAAOpF,EAAG,MAAM,CAACzJ,IAAIuB,EAAK4K,MAAQ,gBAAkB7C,EAAIi4B,QAAQC,WAAW3yB,GAAO,GAAK,MAAQ,CAACvF,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGrL,GAAM,UAAS,GAAGkI,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBwC,MAAM,CACxe,yBAA2B,IAAMrG,KAAK27B,OAAU,MAAMC,OAAO57B,KAAK27B,QAClE,qBAAwBn4B,EAAIi4B,QAAQA,QAAQ57B,KAAK,OAAU,OAC3D,CAAC2D,EAAIyrB,GAAIzrB,EAAQ,MAAE,SAASpC,GAAK,OAAOuC,EAAG,MAAM,CAACzJ,IAAIkH,EAAIyC,YAAY,YAAY,CAACL,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG1F,GAAK,UAASoC,EAAIyrB,GAAIzrB,EAAIq4B,OAASr4B,EAAIm4B,QAAQ,SAAS5yB,GAAK,OAAOpF,EAAG,MAAM,CAACzJ,IAAI6O,EAAIlF,YAAY,oBAAmB,GAAIL,EAAImB,OAAe,SAAE,CAACnB,EAAIyrB,GAAIzrB,EAAQ,MAAE,SAASpC,EAAIpN,GAAG,OAAOwP,EAAIyrB,GAAIzrB,EAAIs4B,aAAa9nC,IAAI,SAASykB,EAAMvjB,GAAG,OAAOyO,EAAG,MAAM,CAACzJ,IAAIkH,EAAMlM,EAAE2O,YAAY,sBAAsBW,MAAMiU,EAAMjD,OAAS,eAAiB,GAAGnP,MAAO7C,EAAIu4B,YAAY/nC,GAAGkB,GAAI6O,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIw4B,UAAUvjB,EAAMnU,YAAY,CAACd,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGtD,EAAIy4B,aAAajoC,GAAGkB,GAAGiO,OAAO,cAAY,CAACK,EAAIyrB,GAAIzrB,EAAQ,MAAE,SAASpC,EAAIpN,GAAG,OAAOwP,EAAIyrB,GAAIzrB,EAAIs4B,aAAa9nC,IAAI,SAASykB,EAAMvjB,GAAG,OAAOyO,EAAG,MAAM,CAACzJ,IAAIkH,EAAMlM,EAAE2O,YAAY,eAAeW,MAAMiU,EAAMjD,OAAS,eAAiB,GAAGnP,MAAO7C,EAAIu4B,YAAY/nC,GAAGkB,GAAI6O,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIw4B,UAAUvjB,EAAMnU,YAAY,CAACX,EAAG,MAAM,CAAC6B,YAAY,CAAC,YAAY,SAAS,CAAChC,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIy4B,aAAajoC,GAAGkB,GAAGiO,UAAUQ,EAAG,MAAM,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIy4B,aAAajoC,GAAGkB,GAAGgG,SAASyI,EAAG,MAAM,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIy4B,aAAajoC,GAAGkB,GAAGkO,SAASO,EAAG,MAAM,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIy4B,aAAajoC,GAAGkB,GAAG0M,0BAAwB,MAC/oC,GAAkB,G,UCkBtB,IAAqB,GAArB,cAA0C,GAA1C,c,oBAGI,KAAAs6B,GAAK,CAAC,SAAU,UAAW,YAAa,WAAY,SAAU,WAAY,UAE1E,WACI,OAAIl8B,KAAK2E,OAAO6B,SACLxG,KAAK2F,QAAQ6b,YAAc9gB,EAAOA,EAAK9F,MAAM,EAAG,GAEhDoF,KAAK2F,QAAQ6b,YAAcxhB,KAAKk8B,GAAKl8B,KAAKk8B,GAAGthC,MAAM,EAAG,GAQrE,oBACI,IAAIuhC,EAAW,GACf,IAAK,MAAM3lB,KAAUxW,KAAK87B,aACtB,IAAK,MAAM13B,KAAUoS,EAAQ,CACzB,MAAM5L,EAAOtN,KAAKK,MAAMyG,EAAOtC,SAAW,IACtC8I,EAAOuxB,IACPA,EAAWvxB,GAIvB,OAAOuxB,EAKX,kBACI,IAAInW,EAAS,EACb,IAAK,MAAMxP,KAAUxW,KAAK87B,aACtB,IAAK,MAAM13B,KAAUoS,EAAQ,CACzB,MAAM5L,EAAOtN,KAAKK,MAAMyG,EAAOrC,OAAS,IACpC6I,EAAOob,IACPA,EAASpb,GAIrB,OAAOob,EAKX,uBACI,OAAO1oB,KAAKC,IAAIyC,KAAKo8B,cAAe9+B,KAAKK,MAAM5B,EAAUiE,KAAK2F,QAAQw2B,UAAY,KAKtF,qBACI,OAAO7+B,KAAKE,IAAIwC,KAAKq8B,YAAa/+B,KAAKK,MAAM5B,EAAUiE,KAAK2F,QAAQqgB,QAAU,KAMlF,aACI,OAAOhmB,KAAKs8B,eAAiB,EAAIt8B,KAAKu8B,iBAG1C,aACI,OAAOv8B,KAAK2F,QAAQ6b,YAAc,EAAI,EAG1C,YACI,MAAMtmB,EAAO,GACPshC,EAAU,GACVC,EAAc,GACpB,IAAK,IAAIzoC,EAAIgM,KAAKu8B,iBAAkBvoC,GAAKgM,KAAKs8B,eAAgBtoC,IAAK,CAC/D,MAAM0oC,EAAU,GAAGp/B,KAAKK,MAAM3J,EAAI,MAAMA,EAAI,EAAI,KAAO,OACvDkH,EAAK1G,KAAKkoC,GACVF,EAAQhoC,KAAKyG,EAAOyhC,IACpBD,EAAYjoC,KAAKR,EAAI,IAAM,EAAI,IAAMA,EAAI,GAAG6H,YAGhD,OAAOnB,OAAOiyB,OAAOrmB,MAAQ,IAAOtG,KAAK2F,QAAQ0b,SAAWmb,EAAUthC,EAAQuhC,EAElF,cACI,MAAMhB,EAAU,IAAIkB,YAAY38B,KAAK67B,OAAS,GAAGne,KAAK1d,KAAK2F,QAAQi3B,eACnEnB,EAAQ,GAAK,GACb,MAAMU,EAAWn8B,KAAKu8B,iBACtB,IAAK,MAAM/lB,KAAUxW,KAAK87B,aACtB,IAAK,MAAM13B,KAAUoS,EAAQ,CACzB,MAAMwO,EAAY1nB,KAAKK,MAAMyG,EAAOtC,SAAW,IAAM,EAC/CmjB,EAAU3nB,KAAKK,MAAMyG,EAAOrC,OAAS,IAAM,EACjD,IAAK,IAAI/N,EAAIgxB,EAAWhxB,GAAKixB,EAASjxB,IAClCynC,EAAQznC,EAAImoC,GAAYn8B,KAAK2F,QAAQk3B,WAKjD,MAAMnB,EAAa,IAAIiB,YAAYlB,GAEnC,IAAK,IAAIznC,EAAI,EAAGA,EAAI0nC,EAAWxnC,OAAQF,IACnC0nC,EAAW1nC,IAAM0nC,EAAW1nC,EAAI,GAEpC,MAAO,CACHynC,UACAC,cAGR,kBAEI,MAAMtkB,EAAkB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAE3CskB,EAAa17B,KAAKy7B,QAAQC,WAC1Ba,EAAmBv8B,KAAKu8B,iBACxBM,EAAa78B,KAAK2F,QAAQk3B,WAChC,IAAK,IAAI7oC,EAAI,EAAGA,EAAIgM,KAAK27B,OAAQ3nC,IAC7B,IAAK,MAAMykB,KAASzY,KAAK87B,aAAa9nC,GAAI,CACtC,MAAM,SAAE8N,EAAF,OAAYC,EAAZ,KAAoBwT,EAApB,MAA0BjP,EAA1B,WAAiCgP,GAAemD,EAChDqkB,EAAO,IAAM98B,KAAK27B,OAElBoB,EACFrB,EAAWp+B,KAAKK,MAAMmE,EAAW,IAAMy6B,GACrCz6B,EAAW,GAAM,GAAM+6B,EACvBG,EACFtB,EAAWp+B,KAAKK,MAAMoE,EAAS,IAAMw6B,GACnCx6B,EAAS,GAAM,GAAM86B,EAC3BzlB,EAAIpjB,GAAGQ,KACH,UAAUR,EAAIuhB,GAAQunB,cAAiBx2B,EACnCw2B,YAAeC,gBAAsBC,EACrCD,0BAAgCznB,KAKhD,OAAO8B,EAEX,mBACI,MAAMA,EAA8E,CAChF,GACA,GACA,GACA,GACA,GACA,GACA,KAEE,eAAE8J,EAAF,SAAkBD,EAAlB,SAA4BD,EAA5B,WAAsCI,GAAephB,KAAK2F,QAChE,IAAK,IAAI3R,EAAI,EAAGA,EAAIgM,KAAK27B,OAAQ3nC,IAC7B,IAAK,MAAMykB,KAASzY,KAAK87B,aAAa9nC,GAAI,CACtC,MAAMsQ,EAAUmU,EAAMnU,QACtB,GAAIA,aAAmB,EACnB8S,EAAIpjB,GAAGQ,KAAK,CACR2O,MAAOie,EAAa9c,EAAQpB,YAAcoB,EAAQ24B,kBAClD/hC,KAAM8lB,EAAWvI,EAAMzV,QAAS9G,KAAO,GACvCkH,KAAM6d,EAAWxI,EAAMzV,QAASI,KAAO,GACvCxB,YAAasf,EAAiB5c,EAAQ+F,YAAc,UAErD,GAAI/F,aAAmB,EAAQ,CAClC,MAAM8V,EAAW9V,EAAQ/B,SAAS,GAE5B26B,EAAO54B,EAAQ/B,SAASrO,OAAS,EACvCkjB,EAAIpjB,GAAGQ,KAAK,CACR2O,MAAO,GACHie,EAAahH,EAASlX,YAAckX,EAAS6iB,yBACzCC,SACRhiC,KAAM8lB,EAAWvI,EAAMzV,QAAS9G,KAAO,GACvCkH,KAAM6d,EAAW,GAAGxI,EAAMzV,QAASI,YAAY85B,SAAc,GAC7Dt7B,YAAasf,EACP,GAAG9G,EAAS/P,mBAAmB/F,EAAQ/B,SAASrO,cAChD,UAGVkjB,EAAIpjB,GAAGQ,KAAK,CACR2O,MAAOmB,EAAQnB,OAAS,GACxBjI,KAAM8lB,EAAW1c,EAAQpK,IAAM,GAC/BkJ,KAAM6d,GAAW3c,EAAQlB,MAAa,GACtCxB,YAAa,KAK7B,OAAOwV,EAEX,UAAU9S,GACFA,aAAmB,EACnBtE,KAAKmE,MAAMg5B,iBAAiB74B,GACrBA,aAAmB,EAC1BtE,KAAKmE,MAAM2rB,gBAAgBxrB,GACpBA,aAAmB,KACrBtE,KAAK2E,OAAOF,QAAQK,WAAW9E,KAAK2E,OAAOC,cAAc,aAC9D5E,KAAK2E,OAAOmoB,YAAcxoB,KA1LrB,gBAAZ,eAAKnF,Q,oCADW,GAAY,gBADhC,QACoB,cCtBiT,MCQlU,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCYf,IAAqB,GAArB,cAAyC,GAAzC,c,oBACI,KAAA+7B,gBAAkB,IAAI,GACtB,KAAAkC,cAAgB,EAChB,KAAAnC,oBAAqB,EAErB,UACIj7B,KAAK46B,gBAAe,GAGxB,kBACI,OAAO56B,KAAKq9B,QAAQr9B,KAAKkM,OAAOkR,aAGpC,qBAAqBkgB,GACjB,GAAIA,EAA0B,CAC1B,MAAMxuB,EAAuB,GAC7B,IAAK,MAAM,SAAE1M,KAAcpC,KAAKutB,QAC5B,IAAK,MAAMnsB,KAAOgB,EAASlG,KACvB,IAAK,MAAM,UAAEmG,KAAejB,EACpBiB,GACAyM,EAAMta,KAAK6N,GAI3BrC,KAAKk7B,gBAAgBthB,mCAAmC9K,GAE5D,MAAM5S,EAAqB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACpD,IAAK,IAAIlI,EAAI,EAAGA,EAAIgM,KAAKutB,QAAQr5B,OAAQF,IAAK,CAC1C,MAAM,SAAEoO,EAAF,MAAY2X,GAAU/Z,KAAKutB,QAAQv5B,GACnCupC,EAAcv9B,KAAKo9B,eAAiBppC,EAC1C,IAAK,IAAIkB,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,MAAMsoC,KAAMp7B,EAASlG,KAAKhH,GAC3B,GAAI8K,KAAKk7B,gBAAgBphB,UAAU0jB,EAAGn7B,WAAY,CAC9C,MAAMo7B,EAAM,IAAIpoB,GACZ0E,EACAyjB,EAAG17B,SACH07B,EAAGz7B,OACHy7B,EAAGl5B,QACHk5B,EAAGx6B,QACHw6B,EAAGn7B,WAEPo7B,EAAIjoB,OAAS+nB,EACbrhC,EAAKhH,GAAGV,KAAKipC,UAKvBtnB,GAAsBja,GAC5B8D,KAAKk7B,gBAAgBh/B,KAAOA,EAEhC,UAAU6M,GACN/I,KAAKutB,QAAQxkB,GAAKgR,MAAQ,KAAY,CAAE2jB,WAAY,SACpD19B,KAAK46B,gBAAe,GAExB,cAAc7xB,GACV/I,KAAKutB,QAAQn4B,OAAO2T,EAAK,GACzB/I,KAAK46B,gBAAe,GAMxB,SAAS7xB,GACL,MAAM,SAAE3G,EAAF,KAAYo4B,EAAZ,MAAkBpxB,GAAUpJ,KAAKutB,QAAQxkB,GAC/C,MACI,sBAAsBK,EAAQ,wCAAwCoxB,EAAO,qBAC3Dp4B,EAASoV,gBAAgBxX,KAAKq9B,QAAQj7B,EAASmV,OAQzE,QAAQA,GACJ,MAAMjV,EAAU5H,OAAO4H,QACvB,OAAOnO,OAAOwpC,QAAQpmB,GACjBzL,IAAI5M,IACD,MAAMkF,EAAS9B,EAAQkI,UACnBtL,EAAE,GACFA,EAAE,GAAGyP,OAAO,CAACC,EAAK1P,KACd,IAAK,MAAM2P,KAAK3P,EAAG0P,EAAI4J,IAAI3J,GAC3B,OAAOD,GACR,IAAIvB,MAEX,MAAO,GAAGjJ,EAAO2I,cAAc3I,EAAOsJ,UAAUtJ,EAAO7B,SAClDuJ,IAAI8xB,GAAKA,EAAEt5B,SACXqK,OAAO,CAACvR,EAAGygC,IAAMzgC,EAAI,IAAMygC,MAAMz5B,EAAOjB,UAEhDwL,OAAO,CAACvR,EAAG8B,IAAM9B,EAAI,KAAO8B,GAErC,UAAU6J,GACFA,IAAQ/I,KAAKo9B,aACbp9B,KAAKo9B,cAAgB,EAErBp9B,KAAKo9B,aAAer0B,EAExB/I,KAAK46B,gBAAe,GAExB,WAAW7xB,GACP,MAAMsX,EAAY3lB,OAAOkpB,kBAEnBvF,EAAMgC,EAAUxL,QAAQoI,OAAOxS,KAAKvL,GAAgB,eAAXA,EAAErG,MAG7CmH,KAAKutB,QAAQxkB,GAAK3G,SAAS6Y,UAAUoF,EAAUjD,cAC/Cpd,KAAKkM,OAAOkR,YAAciD,EAAUjD,YAAc,GAClDiB,EAAIL,SAAU,IAEdhe,KAAKkM,OAAOkR,YAAciD,EAAUjD,YAAcpd,KAAKutB,QAAQxkB,GAAK3G,SAASmV,IAC7E8G,EAAIL,SAAU,IAEbqC,EAAUvI,SAAW9X,KAAKmuB,wBAC3B9N,EAAUpU,OACLjM,KAAKoC,SAASwnB,UAIf5pB,KAAKoC,SAAS2D,gBAAkBsa,EAAU6J,YACtClqB,KAAKoC,SAASqnB,sBAJlBzpB,KAAKoC,SAASynB,gBAAe,IAQrC7pB,KAAKk6B,eAET,kBAAkBnxB,GACd,OAAO/I,KAAKutB,QAAQxkB,GAAK3G,SAAS6Y,UAAUvgB,OAAOkpB,kBAAkBxG,aAEzE,8BACIpd,KAAKk7B,gBAAkB,IAAI,GACtBl7B,KAAKi7B,qBACNj7B,KAAKk7B,gBAAgB3jB,IAAMvX,KAAKkM,OAAOkR,YACvCpd,KAAKk7B,gBAAgBl1B,mBAEzBhG,KAAKi7B,oBAAsBj7B,KAAKi7B,qBAtInB,GAAW,gBAP/B,eAAU,CACP3I,WAAY,CACRwL,aAAA,GACAC,YAAA,GACAC,cAAA,OAGa,cC/B+T,MCOhV,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIx6B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,uBAAuBvC,EAAG,MAAM,CAACE,YAAY,2CAA2CC,MAAM,CAAC,MAAQ,yGAAyG,CAACH,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAI0C,GAAG,sBAAsBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAgB,SAAE8pB,WAAW,qBAAqB5rB,YAAY,+BAA+BC,MAAM,CAAC,GAAK,iBAAiB,KAAO,OAAO,IAAM,OAAO,IAAM,SAAS+C,SAAS,CAAC,MAASrD,EAAImC,QAAgB,UAAG5B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAImC,QAAS,WAAY3B,EAAO3M,OAAOuC,eAAe+J,EAAG,MAAM,CAACE,YAAY,sCAAsCC,MAAM,CAAC,MAAQ,uGAAuG,CAACH,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,iBAAiB,CAACN,EAAI0C,GAAG,kBAAkBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAc,OAAE8pB,WAAW,mBAAmB5rB,YAAY,+BAA+BC,MAAM,CAAC,GAAK,eAAe,KAAO,OAAO,IAAM,QAAQ,IAAM,SAAS+C,SAAS,CAAC,MAASrD,EAAImC,QAAc,QAAG5B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAImC,QAAS,SAAU3B,EAAO3M,OAAOuC,eAAe+J,EAAG,MAAM,CAACE,YAAY,sCAAsCC,MAAM,CAAC,MAAQ,gEAAgE,CAACH,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,iBAAiB,CAACN,EAAI0C,GAAG,kBAAkBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAImC,QAAkB,WAAE8pB,WAAW,qBAAqBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,eAAe,IAAM,IAAI,KAAO,IAAI,IAAM,MAAM,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAImC,QAAkB,YAAG5B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAImC,QAAS,aAAcnC,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,sCAAsCC,MAAM,CAAC,MAAQ,qFAAqF,CAACH,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,gBAAgB,CAACN,EAAI0C,GAAG,iBAAiBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAImC,QAAqB,cAAE8pB,WAAW,wBAAwBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,cAAc,IAAM,IAAI,KAAO,IAAI,IAAM,MAAM,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAImC,QAAqB,eAAG5B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAImC,QAAS,gBAAiBnC,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,sCAAsCC,MAAM,CAAC,MAAQ,2EAA2E,CAACH,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAI0C,GAAG,WAAWvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAImC,QAAa,MAAE8pB,WAAW,gBAAgBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,iBAAiB,IAAM,KAAK,KAAO,IAAI,IAAM,OAAO,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAImC,QAAa,OAAG5B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAImC,QAAS,QAASnC,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAmB,YAAE8pB,WAAW,wBAAwB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,iBAAiB,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQ6b,aAAahe,EAAI4sB,GAAG5sB,EAAImC,QAAQ6b,YAAY,OAAO,EAAGhe,EAAImC,QAAmB,aAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQ6b,YAAY8O,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,cAAe0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,cAAe0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,cAAe4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,0BAA0BH,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAgB,SAAE8pB,WAAW,qBAAqB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,cAAc,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQqb,UAAUxd,EAAI4sB,GAAG5sB,EAAImC,QAAQqb,SAAS,OAAO,EAAGxd,EAAImC,QAAgB,UAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQqb,SAASsP,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,WAAY0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,WAAY0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,WAAY4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,uBAAuBH,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAgB,SAAE8pB,WAAW,qBAAqB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,cAAc,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQsb,UAAUzd,EAAI4sB,GAAG5sB,EAAImC,QAAQsb,SAAS,OAAO,EAAGzd,EAAImC,QAAgB,UAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQsb,SAASqP,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,WAAY0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,WAAY0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,WAAY4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,uBAAuBH,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAsB,eAAE8pB,WAAW,2BAA2B5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,oBAAoB,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQub,gBAAgB1d,EAAI4sB,GAAG5sB,EAAImC,QAAQub,eAAe,OAAO,EAAG1d,EAAImC,QAAsB,gBAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQub,eAAeoP,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,iBAAkB0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,iBAAkB0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,iBAAkB4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,6BAA6BH,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAkB,WAAE8pB,WAAW,uBAAuB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,aAAa,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQyb,YAAY5d,EAAI4sB,GAAG5sB,EAAImC,QAAQyb,WAAW,OAAO,EAAG5d,EAAImC,QAAkB,YAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQyb,WAAWkP,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,aAAc0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,aAAc0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,aAAc4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,sBAAsBH,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,qDAAqD,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAgB,SAAE8pB,WAAW,qBAAqB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,OAAO,KAAO,SAAS+C,SAAS,CAAC,OAAQ,EAAK,QAAUrD,EAAI26B,GAAG36B,EAAImC,QAAQ0b,UAAS,IAAOtd,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIktB,KAAKltB,EAAImC,QAAS,YAAY,OAAUhC,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,SAAS,CAACN,EAAI0C,GAAG,UAAUvC,EAAG,MAAM,CAACE,YAAY,qDAAqD,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAgB,SAAE8pB,WAAW,qBAAqB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,OAAO,KAAO,SAAS+C,SAAS,CAAC,OAAQ,EAAM,QAAUrD,EAAI26B,GAAG36B,EAAImC,QAAQ0b,UAAS,IAAQtd,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIktB,KAAKltB,EAAImC,QAAS,YAAY,OAAWhC,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,SAAS,CAACN,EAAI0C,GAAG,cAAcvC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,mBAAmBvC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,uBAAuB,CAACN,EAAI0C,GAAG,oCAAoCvC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAImC,QAAwB,iBAAE8pB,WAAW,2BAA2BwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,qBAAqB,KAAO,SAAS,IAAM,IAAI,KAAO,IAAI,IAAM,MAAM+C,SAAS,CAAC,MAASrD,EAAImC,QAAwB,kBAAG5B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAImC,QAAS,mBAAoBnC,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,qBAAqBv2B,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAwB,iBAAE8pB,WAAW,6BAA6B5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,kBAAkB,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQ2b,kBAAkB9d,EAAI4sB,GAAG5sB,EAAImC,QAAQ2b,iBAAiB,OAAO,EAAG9d,EAAImC,QAAwB,kBAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQ2b,iBAAiBgP,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,mBAAoB0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,mBAAoB0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,mBAAoB4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,oBAAoB,CAACN,EAAI0C,GAAG,mCAAmCvC,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAA0B,mBAAE8pB,WAAW,+BAA+B5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,wBAAwB,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQwb,oBAAoB3d,EAAI4sB,GAAG5sB,EAAImC,QAAQwb,mBAAmB,OAAO,EAAG3d,EAAImC,QAA0B,oBAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQwb,mBAAmBmP,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,qBAAsB0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,qBAAsB0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,qBAAsB4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,0BAA0B,CAACN,EAAI0C,GAAG,0CAA0CvC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,uBAAuBvC,EAAG,KAAK,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,wDAAwD,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,iBAAiB,CAACN,EAAI0C,GAAG,6BAA6BvC,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAImC,QAAuB,gBAAE8pB,WAAW,0BAA0BwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,eAAe,KAAO,SAAS,IAAM,OAAO,KAAO,IAAI,IAAM,WAAW+C,SAAS,CAAC,MAASrD,EAAImC,QAAuB,iBAAG5B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAImC,QAAS,kBAAmBnC,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,qBAAqBv2B,EAAG,MAAM,CAACE,YAAY,iCAAiCC,MAAM,CAAC,MAAQ,+CAA+C,CAACH,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAuB,gBAAE8pB,WAAW,4BAA4B5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,WAAW,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQ0U,iBAAiB7W,EAAI4sB,GAAG5sB,EAAImC,QAAQ0U,gBAAgB,OAAO,EAAG7W,EAAImC,QAAuB,iBAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQ0U,gBAAgBiW,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,kBAAmB0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,kBAAmB0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,kBAAmB4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,aAAa,CAACN,EAAI0C,GAAG,wBAAwBvC,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAImC,QAAiB,UAAE8pB,WAAW,sBAAsB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,aAAa,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAImC,QAAQ4b,WAAW/d,EAAI4sB,GAAG5sB,EAAImC,QAAQ4b,UAAU,OAAO,EAAG/d,EAAImC,QAAiB,WAAG5B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAImC,QAAQ4b,UAAU+O,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,YAAa0qB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAImC,QAAS,YAAa0qB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAImC,QAAS,YAAa4qB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,eAAe,CAACN,EAAI0C,GAAG,8BAA8BvC,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACF,EAAG,SAAS,CAACE,YAAY,kCAAkCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIkrB,aAAY,MAAS,CAAClrB,EAAI0C,GAAG,4BAA4BvC,EAAG,QAAQ,CAACE,YAAY,oCAAoC,CAACL,EAAI0C,GAAG,iBAAiB1C,EAAIsD,GAAGtD,EAAIa,SAASioB,YAAY,SAAS3oB,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACF,EAAG,SAAS,CAACE,YAAY,+BAA+BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI46B,gBAAgB,CAAC56B,EAAI0C,GAAG,+BAAgC1C,EAAwB,qBAAE,CAACG,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACL,EAAI0C,GAAG,iCAAiCvC,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAY,KAAE4a,WAAW,eAAewO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,uBAAuBC,MAAM,CAAC,GAAK,OAAO,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAIqR,QAAQoB,MAAMzS,EAAI4sB,GAAG5sB,EAAIqR,QAAQoB,KAAK,OAAO,EAAGzS,EAAIqR,QAAY,MAAG9Q,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAIqR,QAAQoB,KAAKqa,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAIhsB,EAAI06B,GAAG,MAAMzN,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,OAAQwb,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,OAAQwb,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,OAAQ0b,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,gBAAgBH,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,aAAa,CAACN,EAAI0C,GAAG,eAAevC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAgB,SAAE4a,WAAW,mBAAmBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,WAAW,IAAM,IAAI,KAAO,IAAI,IAAM,IAAI,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAIqR,QAAgB,UAAG9Q,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAIqR,QAAS,WAAYrR,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,gBAAgB,CAACN,EAAI0C,GAAG,oBAAoBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAmB,YAAE4a,WAAW,sBAAsBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,cAAc,IAAM,KAAK,KAAO,IAAI,IAAM,MAAM,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAIqR,QAAmB,aAAG9Q,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAIqR,QAAS,cAAerR,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAgB,SAAE4a,WAAW,mBAAmBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,uBAAuBC,MAAM,CAAC,GAAK,WAAW,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAIqR,QAAQe,UAAUpS,EAAI4sB,GAAG5sB,EAAIqR,QAAQe,SAAS,OAAO,EAAGpS,EAAIqR,QAAgB,UAAG9Q,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAIqR,QAAQe,SAAS0a,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAIhsB,EAAI06B,GAAG,MAAMzN,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,WAAYwb,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,WAAYwb,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,WAAY0b,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,oBAAoBH,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,cAAc,CAACN,EAAI0C,GAAG,mBAAmBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAiB,UAAE4a,WAAW,oBAAoBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,YAAY,IAAM,KAAK,KAAO,IAAI,IAAM,MAAM,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAIqR,QAAiB,WAAG9Q,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAIqR,QAAS,YAAarR,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,YAAY,CAACN,EAAI0C,GAAG,kBAAkBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAe,QAAE4a,WAAW,kBAAkBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,UAAU,IAAM,IAAI,KAAO,IAAI,IAAM,MAAM,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAIqR,QAAe,SAAG9Q,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAIqR,QAAS,UAAWrR,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,YAAY,CAACN,EAAI0C,GAAG,cAAcvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAe,QAAE4a,WAAW,kBAAkBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,UAAU,IAAM,IAAI,KAAO,IAAI,IAAM,IAAI,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAIqR,QAAe,SAAG9Q,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAIqR,QAAS,UAAWrR,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACE,YAAY,oCAAoCC,MAAM,CAAC,IAAM,YAAY,CAACN,EAAI0C,GAAG,cAAcvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAe,QAAE4a,WAAW,kBAAkBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,+BAA+BC,MAAM,CAAC,GAAK,UAAU,IAAM,IAAI,KAAO,MAAM,IAAM,KAAK,KAAO,UAAU+C,SAAS,CAAC,MAASrD,EAAIqR,QAAe,SAAG9Q,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAIqR,QAAS,UAAWrR,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAS,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,uBAAuBv2B,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAIqR,QAAiB,UAAE4a,WAAW,oBAAoBwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,uBAAuBC,MAAM,CAAC,GAAK,YAAY,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAIqR,QAAQmB,WAAWxS,EAAI4sB,GAAG5sB,EAAIqR,QAAQmB,UAAU,OAAO,EAAGxS,EAAIqR,QAAiB,WAAG9Q,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAIqR,QAAQmB,UAAUsa,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAIhsB,EAAI06B,GAAG,MAAMzN,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,YAAawb,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,YAAawb,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAIqR,QAAS,YAAa0b,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,sBAAsBN,EAAIiC,MAAM,IAC/3tB,GAAkB,CAAC,WAAa,IAAIjC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAI0C,GAAG,sBAAsB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,gBAAgB,CAACN,EAAI0C,GAAG,kBAAkB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,gBAAgB,CAACN,EAAI0C,GAAG,kBAAkB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,sBAAsB,CAACN,EAAI0C,GAAG,wBAAwB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,aAAa,MAAQ,qDAAqD,CAACN,EAAI0C,GAAG,qBAAqB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,sBAAsB,CAACN,EAAI0C,GAAG,qBAAqB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,SAAS,CAACN,EAAI0C,GAAG,aAAa,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,aAAa,CAACN,EAAI0C,GAAG,kBAAkB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,cAAc,CAACN,EAAI0C,GAAG,oBCkBh3D,IAAqB,GAArB,cAAyC,GAAzC,c,oBACI,KAAA2O,QAAU,GACV,KAAAwpB,sBAAuB,EACmB,KACtCr+B,KAAKoC,SAAS0rB,cAAa,EAAO,KAKtC,mBACQzF,QAAQ,wEACR3tB,OAAO0qB,aAAare,QAChB/G,KAAKqE,SAAS5B,SAAS,IAAI,GAAUzC,KAAKqE,SAAS5B,SAASwZ,SAChEvhB,OAAOmH,SAASy8B,QAAO,MAVG,gBAAjC,eAAM,UAAW,CAAEC,MAAM,K,kBAEzB,MALgB,GAAW,gBAD/B,QACoB,cCnB+T,MCOhV,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI/6B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2BC,MAAM,CAAC,GAAK,aAAa,CAAEN,EAAImB,OAAkB,YAAEhB,EAAG,MAAM,CAACH,EAAI0C,GAAG,gBAAgBvC,EAAG,MAAM,CAACH,EAAI0C,GAAG,iBAAiBvC,EAAG,OAAO,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,gBAAgB,CAACN,EAAI0C,GAAG,WAAWvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAc,WAAEisB,WAAW,eAAe5rB,YAAY,+BAA+BC,MAAM,CAAC,GAAK,cAAc,KAAO,QAAQ+C,SAAS,CAAC,MAASrD,EAAc,YAAGO,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,YAAqBr3B,EAAIg7B,WAAWx6B,EAAO3M,OAAOuC,eAAc+J,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,eAAe,CAACN,EAAI0C,GAAG,WAAWvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAiB,cAAEisB,WAAW,kBAAkB5rB,YAAY,+BAA+B2B,YAAY,CAAC,qBAAqB,UAAU1B,MAAM,CAAC,GAAK,aAAa,KAAO,QAAQ+C,SAAS,CAAC,MAASrD,EAAiB,eAAGO,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,YAAqBr3B,EAAIi7B,cAAcz6B,EAAO3M,OAAOuC,eAAc+J,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,aAAa,CAACN,EAAI0C,GAAG,SAASvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAe,YAAEisB,WAAW,gBAAgB5rB,YAAY,+BAA+B2B,YAAY,CAAC,qBAAqB,UAAU1B,MAAM,CAAC,GAAK,WAAW,KAAO,QAAQ+C,SAAS,CAAC,MAASrD,EAAe,aAAGO,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,YAAqBr3B,EAAIk7B,YAAY16B,EAAO3M,OAAOuC,eAAc+J,EAAG,MAAM,CAACE,YAAY,0BAA0BC,MAAM,CAAC,KAAO,UAAUN,EAAIyrB,GAAIzrB,EAAQ,MAAE,SAASpC,EAAI2H,GAAK,OAAOpF,EAAG,SAAS,CAACzJ,IAAI6O,EAAIlF,YAAY,4BAA4BW,MAAM,CAAE0sB,OAAQ1tB,EAAIm7B,UAAU51B,IAAOjF,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIo7B,WAAW71B,MAAQ,CAACvF,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG1F,GAAK,UAAS,GAAGuC,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,cAAc,CAACN,EAAI0C,GAAG,cAAcvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAa,UAAEisB,WAAW,cAAc5rB,YAAY,+BAA+BC,MAAM,CAAC,GAAK,YAAY,KAAO,QAAQ+C,SAAS,CAAC,MAASrD,EAAa,WAAGO,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,YAAqBr3B,EAAIq7B,UAAU76B,EAAO3M,OAAOuC,iBAAgB+J,EAAG,WAAW,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAoB,iBAAEisB,WAAW,qBAAqB5rB,YAAY,4BAA4B2B,YAAY,CAAC,MAAQ,OAAO1B,MAAM,CAAC,YAAc,eAAe+C,SAAS,CAAC,MAASrD,EAAoB,kBAAGO,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,YAAqBr3B,EAAIs7B,iBAAiB96B,EAAO3M,OAAOuC,WAAW4J,EAAImB,OAAkB,YAAEhB,EAAG,MAAM,CAACE,YAAY,YAAY2B,YAAY,CAAC,MAAQ,QAAQ1B,MAAM,CAAC,KAAO,UAAU,CAACH,EAAG,SAAS,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIu7B,kBAAkB,CAACv7B,EAAI0C,GAAG,cAAcvC,EAAG,SAAS,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIw7B,gBAAgB,CAACx7B,EAAI0C,GAAG,YAAYvC,EAAG,SAAS,CAACE,YAAY,yBAAyBC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIy7B,iBAAiB,CAACz7B,EAAI0C,GAAG,gBAAgBvC,EAAG,SAAS,CAACE,YAAY,iCAAiC2B,YAAY,CAAC,MAAQ,OAAOzB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI07B,cAAc,CAAC17B,EAAI0C,GAAG,WAAW1C,EAAIyD,GAAG,GAAGtD,EAAG,QAAQ,CAACE,YAAY,0BAA0B2B,YAAY,CAAC,YAAY,SAAS,CAAC7B,EAAG,QAAQ,CAACA,EAAG,KAAK,CAAC6B,YAAY,CAAC,MAAQ,SAAS,CAAChC,EAAI0C,GAAG,sBAAsB1C,EAAIsD,GAAGtD,EAAIpB,SAAS2D,gBAAgBzC,OAAOpP,QAAQ,OAAOyP,EAAG,MAAMA,EAAG,QAAQA,EAAG,QAAQH,EAAIyrB,GAAIzrB,EAAIpB,SAAS2D,gBAAsB,QAAE,SAASqW,GAAI,OAAOzY,EAAG,KAAK,CAACzJ,IAAIkiB,EAAGliB,IAAIsK,MAAM,CAAE,gBAAiB4X,IAAO5Y,EAAImB,OAAOmoB,aAAc/oB,GAAG,CAAC,WAAa,SAASC,GAAQ,OAAOR,EAAIpB,SAAS2D,gBAAgB2S,MAAM0D,EAAGliB,MAAM,WAAa,SAAS8J,GAAQ,OAAOR,EAAIpB,SAAS2D,gBAAgB6qB,QAAQxU,EAAGliB,QAAQ,CAACyJ,EAAG,KAAK,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAImB,OAAOmoB,YAAc1Q,KAAM,CAAC5Y,EAAI0C,GAAG1C,EAAIsD,GAAGsV,EAAGjZ,UAAUQ,EAAG,KAAK,CAACE,YAAY,YAAYE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI27B,UAAU/iB,MAAO,CAACzY,EAAG,IAAI,CAACE,YAAY,yBAAyB2B,YAAY,CAAC,YAAY,QAAQ1B,MAAM,CAAC,MAAQ,6CAA6CH,EAAG,KAAK,CAACE,YAAY,YAAYE,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAImB,OAAOmoB,YAAc1Q,KAAM,CAACzY,EAAG,IAAI,CAACE,YAAY,aAAaW,MAAMhB,EAAImB,OAAOmoB,cAAgB1Q,EAAK,sBAAwB,gBAAgB5W,YAAY,CAAC,YAAY,iBAAgB,QAC7/J,GAAkB,CAAC,WAAa,IAAIhC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2BAA2BC,MAAM,CAAC,GAAK,aAAa,CAACH,EAAG,MAAM,CAACH,EAAI0C,GAAG,oBCkBtM,IAAqB,GAArB,cAAuC,GAAvC,c,oBAEI,KAAAy4B,UAAY,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GACvD,KAAAF,cAAgB,GAChB,KAAAC,YAAc,GACd,KAAAF,WAAc,GACd,KAAAK,UAAa,GACb,KAAAC,iBAAoB,GAEpB,KAAAM,iBAAmB,GAEnB,WACI,OAAO1+B,EAIX,aACI,MAAM,YAAEosB,GAAgB9sB,KAAK2E,OACzBmoB,GAAa9sB,KAAKq/B,UAAUvS,GAGpC,gBACI9sB,KAAK2E,OAAOmoB,YAAc,KAE9B,UAAU/jB,GACN/I,KAAK0wB,KAAK1wB,KAAK2+B,UAAW51B,GAAM/I,KAAK2+B,UAAU51B,IAMnD,eACI,IAAI7M,EAAO8D,KAAK2+B,UAAUhwB,OAAO,CAACC,EAAK1P,EAAGlL,IAAM4a,GAAO1P,EAAIc,KAAK9D,KAAKlI,GAAK,IAAK,IAE/E,IAAKkI,EAED,YADA8D,KAAK0G,KAAKnO,MAAM,yCAGpB,IAAKyH,KAAKy+B,gBAAkBz+B,KAAK0+B,YAE7B,YADA1+B,KAAK0G,KAAKnO,MAAM,2CAGpB,MAAM4D,EAAQJ,EAAUiE,KAAKy+B,eACzBriC,EAAML,EAAUiE,KAAK0+B,aACzB,KAAIviC,GAASC,GAKb,OADAF,GAAQ,IAAIjB,EAAO+E,KAAKy+B,oBAAoBxjC,EAAO+E,KAAK0+B,eACjDxiC,EAJH8D,KAAK0G,KAAKnO,MAAM,mDAMxB,UAAU6jB,GACNpc,KAAK2E,OAAOmoB,YAAc,KAC1B9sB,KAAKq/B,UAAUjjB,GACfpc,KAAKw+B,YAAc,QAEvB,WAEIx+B,KAAK2E,OAAOypB,WACZ,MAAMlyB,EAAO8D,KAAKs/B,eAClB,GAAKpjC,EAAL,CACA,IACI8D,KAAKoC,SAAS2nB,iBAAiBmV,SAC3BhjC,GACA,EACA8D,KAAKw+B,WACLx+B,KAAK6+B,UACL7+B,KAAK8+B,iBAAmB9+B,KAAK8+B,iBAAiB1jC,MAAM,MAAMyE,KAAK,UAAY,IAEjF,MAAOtI,GACLyI,KAAK0G,KAAKnO,MAAMhB,EAAIqB,SAGxBoH,KAAKu/B,QAAQv/B,KAAKo/B,mBAAqBljC,GAAQ8D,KAAKoC,SAASwnB,YAMjE,UAAUzyB,GACN6I,KAAKw+B,WAAarnC,EAAMgM,MACxBnD,KAAK6+B,UAAY1nC,EAAMiM,KACvBpD,KAAK8+B,iBAAmB3nC,EAAMyK,YACxBzK,EAAMyK,YAAYxG,MAAM,UAAUyE,KAAK,MACvC,GACN,MAAO2/B,EAAMrjC,EAAP,CAAgBC,GAAOjF,EAAM+E,KAAKd,MAAM,KAC9C,IAAK,IAAIpH,EAAI,EAAGA,EAAIgM,KAAK9D,KAAKhI,OAAQF,KACE,IAAhCwrC,EAAK3yB,QAAQ7M,KAAK9D,KAAKlI,IACvBgM,KAAK0wB,KAAK1wB,KAAK2+B,UAAW3qC,GAAG,GAE7BgM,KAAK0wB,KAAK1wB,KAAK2+B,UAAW3qC,GAAG,GAGrCgM,KAAKy+B,cAAgBnjC,EAAOa,GAC5B6D,KAAK0+B,YAAcpjC,EAAOc,GAC1B4D,KAAKo/B,iBAAmBjoC,EAAM+E,KAKlC,eACI8D,KAAKoC,SAAS2nB,iBAAiBkV,YAAYj/B,KAAKo/B,kBAChDp/B,KAAKk/B,WAET,cACIl/B,KAAKoC,SAAS2nB,iBAAiBkV,YAAYj/B,KAAKo/B,kBAChDp/B,KAAKu/B,QAAQv/B,KAAKoC,SAASwnB,WAE/B,aACI5pB,KAAK6+B,UAAY7+B,KAAKy+B,cAAgBz+B,KAAK0+B,YAAc1+B,KAAK8+B,iBAAmB9+B,KAAKw+B,WAClF,GACJx+B,KAAK2+B,UAAUzlB,QAAQ,CAACha,EAAGlL,EAAGojB,IAAQpX,KAAK0wB,KAAKtZ,EAAKpjB,GAAG,IACxDgM,KAAK2E,OAAOmoB,YAAc,KAO9B,QAAQ2S,GAAa,GAEjBz/B,KAAK2E,OAAOypB,WAEZpuB,KAAKg/B,aACDS,EAAYz/B,KAAK6tB,oBAChB7tB,KAAKoC,SAAS2nB,iBAAiB/jB,kBACpChG,KAAKiE,eA9GT,gBADC,eAAM,qBAAsB,CAAEy7B,WAAW,K,0BAIzC,MAnBgB,GAAS,gBAD7B,QACoB,cCnB6T,MCO9U,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIl8B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,oBAAoBvC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACE,YAAY,oBAAoB2B,YAAY,CAAC,MAAQ,QAAQ1B,MAAM,CAAC,GAAK,aAAa,KAAO,OAAO,OAAS,aAAaC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIm8B,aAAa37B,OAAYL,EAAG,QAAQ,CAACE,YAAY,oBAAoBC,MAAM,CAAC,IAAM,eAAe,CAACN,EAAI0C,GAAG,0BAA0BvC,EAAG,QAAQ,CAACE,YAAY,oCAAoC,CAACL,EAAI0C,GAAG,qDAAqDvC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,oBAAoBvC,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,QAAQ,aAAa,kBAAkB,CAACH,EAAG,SAAS,CAACE,YAAY,4BAA4BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIo8B,gBAAgB,CAACp8B,EAAI0C,GAAG,iBAAiBvC,EAAG,SAAS,CAACE,YAAY,4BAA4BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIq8B,gBAAgB,CAACr8B,EAAI0C,GAAG,iBAAmB1C,EAAIpB,SAASwnB,UAA6MpmB,EAAIiC,KAAtM9B,EAAG,IAAI,CAACE,YAAY,2CAA2CC,MAAM,CAAC,MAAQ,wHAAiIN,EAAIyD,GAAG,KAAKtD,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,QAAQ,aAAa,kBAAkB,CAACH,EAAG,SAAS,CAACE,YAAY,0BAA0BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIs8B,iBAAiB,CAACt8B,EAAI0C,GAAG,gBAAgBvC,EAAG,SAAS,CAACE,YAAY,0BAA0BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIu8B,WAAW,CAACv8B,EAAI0C,GAAG,aAAa1C,EAAIyD,GAAG,KAAKtD,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,cAAe1C,EAAI2B,QAAiB,UAAE,CAACxB,EAAG,IAAI,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAS,qCAAuCN,EAAIw8B,eAAgBr8B,EAAG,OAAO,CAACE,YAAY,6BAA6BC,MAAM,CAAC,MAAQ,sIAAsI,CAACN,EAAI0C,GAAG,aAAa1C,EAAIiC,MAAM,GAAG9B,EAAG,KAAK,CAACE,YAAY,sCAAsC2B,YAAY,CAAC,YAAY,OAAO,MAAQ,QAAQhC,EAAIyrB,GAAIzrB,EAAI2B,QAAgB,UAAE,SAASijB,EAAKrf,GAAK,OAAOpF,EAAG,KAAK,CAACzJ,IAAIkuB,EAAKvvB,KAAKgL,YAAY,mDAAmDW,MAAM,CAAEy7B,IAAK7X,EAAKvvB,OAAS2K,EAAI2B,QAAQ1C,UAAW,CAACkB,EAAG,MAAM,CAACE,YAAY,8CAA8C2B,YAAY,CAAC,YAAY,UAAUzB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI08B,cAAc9X,EAAKvvB,SAAS,CAAC8K,EAAG,MAAM,CAACE,YAAY,sBAAsB2B,YAAY,CAAC,OAAS,WAAW1B,MAAM,CAAC,GAAK,IAAMiF,IAAM,CAAuB,OAArBvF,EAAIikB,QAAQ1e,GAAepF,EAAG,OAAO,CAACI,GAAG,CAAC,SAAW,SAASC,GAAQ,OAAOR,EAAIktB,KAAKltB,EAAIikB,QAAS1e,EAAKqf,EAAKvvB,SAAS,CAAC8K,EAAG,SAAS,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGshB,EAAKvvB,SAAS2K,EAAI0C,GAAG,KAAKvC,EAAG,MAAMH,EAAIyrB,GAAIzrB,EAAI28B,QAAQ/X,EAAKvvB,OAAO,SAASuS,GAAO,OAAOzH,EAAG,QAAQ,CAACzJ,IAAIkR,EAAMvH,YAAY,cAAc,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGsE,GAAO,KAAKzH,EAAG,YAAW,GAAGA,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAIikB,QAAQ1e,GAAM0mB,WAAW,iBAAiB5rB,YAAY,mDAAmD2B,YAAY,CAAC,MAAQ,OAAO1B,MAAM,CAAC,KAAO,QAAQ+C,SAAS,CAAC,MAASrD,EAAIikB,QAAQ1e,IAAOhF,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,QAAQ,GAAGprB,EAAO9J,IAAI,SAAkB,KAAcsJ,EAAI48B,cAAchY,EAAKvvB,KAAMkQ,IAAM,SAAS/E,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,GAAGprB,EAAO9J,IAAI,CAAC,MAAM,WAAoB,KAAcsJ,EAAIktB,KAAKltB,EAAIikB,QAAS1e,EAAK,QAAQ,MAAQ,SAAS/E,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAKltB,EAAIikB,QAAS1e,EAAK/E,EAAO3M,OAAOuC,aAAa+J,EAAG,MAAM,CAACE,YAAY,yBAAyB2B,YAAY,CAAC,YAAY,SAAS,CAAEhC,EAAI2B,QAAiB,UAAExB,EAAG,IAAI,CAACE,YAAY,+BAA+BW,MAAM4jB,EAAK7iB,OAAS,eAAiB,eAAezB,MAAM,CAAC,MAAQN,EAAI68B,sBAAsBjY,EAAK7iB,SAASxB,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAI88B,mBAAmBlY,OAAU5kB,EAAIiC,MAAOjC,EAAI2B,QAAQC,WAAa5B,EAAI2B,QAAQkoB,SAAStkB,GAAM,CAAuB,OAArBvF,EAAIikB,QAAQ1e,GAAepF,EAAG,IAAI,CAACE,YAAY,yBAAyBC,MAAM,CAAC,MAAQ,uBAAuBC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAIktB,KAAKltB,EAAIikB,QAAS1e,EAAKqf,EAAKvvB,UAAU8K,EAAG,IAAI,CAACE,YAAY,0BAA0BC,MAAM,CAAC,MAAQ,oBAAoBC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAI48B,cAAchY,EAAKvvB,KAAMkQ,OAA+B,OAArBvF,EAAIikB,QAAQ1e,IAAiBvF,EAAI2B,QAAQE,SAASnR,OAAS,EAAGyP,EAAG,IAAI,CAACE,YAAY,8BAA8BC,MAAM,CAAC,MAAQ,uBAAuBC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAIslB,cAAcV,EAAKvvB,KAAMkQ,OAASvF,EAAIiC,MAAOjC,EAAI2B,QAAQC,WAAagjB,EAAK7iB,SAAW/B,EAAI2B,QAAQkoB,SAAStkB,GAAM,CAACpF,EAAG,SAAS,CAACE,YAAY,iCAAiCC,MAAM,CAAC,MAAQ,oCAAoCC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAI+8B,YAAYnY,EAAKvvB,SAAS,CAAC2K,EAAI0C,GAAG,aAAa1C,EAAIiC,KAAMjC,EAAI2B,QAAQC,WAAagjB,EAAK7iB,OAAQ5B,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,iDAAiD,CAACH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACE,YAAY,8CAA8CC,MAAM,CAAC,KAAO,SAAS,cAAc,WAAW,gBAAgB,OAAO,gBAAgB,QAAQ,SAAWskB,EAAKvvB,OAAS2K,EAAI2B,QAAQ1C,UAAU,CAACe,EAAI0C,GAAG,KAAK1C,EAAIsD,GAAGshB,EAAKlC,gBAAgB,OAAOviB,EAAG,MAAM,CAACE,YAAY,gBAAgB2B,YAAY,CAAC,cAAc,SAAShC,EAAIyrB,GAAI7G,EAAa,UAAE,SAASoY,GAAK,OAAO78B,EAAG,IAAI,CAACzJ,IAAIsmC,EAAIt8B,QAAQL,YAAY,+BAA+BW,MAAM,CAChvL0sB,OAAQsP,EAAIt8B,UAAYkkB,EAAKlC,gBAC/BpiB,MAAM,CAAC,KAAO,sBAAsB,MAAS,oBAAuB08B,EAAa,WAAIz8B,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgtB,kBAAyBxtB,EAAIi9B,cAAcrY,EAAKvvB,KAAMkQ,EAAKy3B,EAAIt8B,YAAY,CAACP,EAAG,MAAM,CAACE,YAAY,oCAAoC2B,YAAY,CAAC,YAAY,WAAW,CAAC7B,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACL,EAAI0C,GAAG,KAAK1C,EAAIsD,GAAG05B,EAAIt8B,SAAS,OAAOP,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,QAAQ,CAACH,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG,IAAIjK,KAAK2jC,EAAI92B,UAAU+iB,kBAAkB,KAAK9oB,EAAG,MAAMA,EAAG,OAAO,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAIk9B,YAAYF,EAAI/wB,0BAAyB,OAAOjM,EAAIiC,MAAM,UAAS,GAAIjC,EAAI2B,QAAiB,UAAExB,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,SAAS,CAACE,YAAY,0BAA0BC,MAAM,CAAC,MAAS,uBAAyBN,EAAIw8B,aAAcj8B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI2B,QAAQ2iB,YAAY,CAACtkB,EAAI0C,GAAG,cAAcvC,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACL,EAAI0C,GAAG,sCAAsC1C,EAAIsD,GAAGtD,EAAIw8B,aAAa,WAAYx8B,EAAgB,aAAEG,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,EAAGL,EAAI2B,QAAQC,WAAa5B,EAAI2B,QAAQE,SAASC,MAAK,SAAU5P,GAAK,OAAOA,EAAE6P,UAAY5B,EAAG,QAAQ,CAAC6B,YAAY,CAAC,YAAY,SAAS,CAAC7B,EAAG,IAAI,CAACE,YAAY,6CAA6CL,EAAI0C,GAAG,yGAAyG1C,EAAIiC,OAAO9B,EAAG,SAAS,CAACE,YAAY,oCAAoCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI2B,QAAQw7B,kBAAkB,CAACn9B,EAAI0C,GAAG,kCAAkC1C,EAAIiC,QACznD,GAAkB,CAAC,WAAa,IAAIjC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,YAAY,wBAAwB,CAACL,EAAI0C,GAAG,iCAAiCvC,EAAG,MAAMH,EAAI0C,GAAG,8CAA8C,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,YAAY,wBAAwB,CAACL,EAAI0C,GAAG,8BAA8BvC,EAAG,MAAMH,EAAI0C,GAAG,gD,wBCkB1b,IAAqB,GAArB,cAAwC,GAAxC,c,oBACI,KAAAuhB,QAA6B,GAE7B,kBACI,OAAOzV,GAAQnZ,KAGnB,mBACI,MAAoC,UAA7B6B,OAAOmH,SAASuR,UAAwBpB,GAAQ4uB,kBAO3D,YAAYC,GACR,MAAMC,EAAS,IAAI,KAASD,GACtB9rC,EAAS+rC,EAAOC,YACtB,IAAIC,EAAY,SAMhB,OALIjsC,EAAOksC,GAAGpoC,MAAQ9D,EAAOksC,GAAG/8B,UAC5B88B,GAAajsC,EAAOksC,GAAGpoC,KAAO,IAAM9D,EAAOksC,GAAG/8B,SAC9CnP,EAAOmsC,OAAOC,SAAQH,GAAa,MAAQjsC,EAAOmsC,OAAOC,QACzDpsC,EAAOqsC,QAAQvoC,MAAQ9D,EAAOqsC,QAAQl9B,UACtC88B,GAAa,eAAiBjsC,EAAOqsC,QAAQvoC,KAAO,IAAM9D,EAAOqsC,QAAQl9B,SACtE88B,EAGX,yBAAyB5Y,GACrB,GAAKA,EAAK7iB,QAUN,GACI8iB,QACI,yCAAyCD,EAAKvvB,kCAAkCmZ,GAAQnZ,gEAE9F,CACE,MAAM6F,QAAYsB,KAAKmF,QAAQ6iB,aAAaI,EAAKvvB,MACjD,GAAkB,UAAd6F,EAAI6P,MACJ,OAAOvO,KAAK0G,KAAK4c,OAAO5kB,GACH,SAAdA,EAAI6P,OACXvO,KAAK0G,KAAK4c,OAAO5kB,GAErB0pB,EAAK7iB,QAAS,OArBJ,CACd,MAAM7G,QAAYsB,KAAKmF,QAAQmjB,cAAc,CACzC,CACIzvB,KAAMuvB,EAAKvvB,KACXsM,QAASigB,aAAaC,QAAQ+C,EAAKvvB,SAG3C,GAAI6F,EAAK,OAAOsB,KAAK0G,KAAK4c,OAAO5kB,GACjC0pB,EAAK7iB,QAAS,GAkBtB,sBAAsBA,GAClB,MAAM87B,EAAO97B,EAAS,SAAW,aAC3B+7B,EAAO/7B,EAAS,SAAW,OACjC,MAAO,6BAA6B87B,UAAarvB,GAAQnZ,qBAAqByoC,KAGlF,UACIthC,KAAKynB,QAAUznB,KAAKmF,QAAQE,SAASyG,IAAI,IAAM,MAMnD,QAAQ9B,GACJ,IAAIrH,EAA0C,KAC9C,MAAM6oB,EAAO,GACb,GAAmB,kBAARxhB,EAAkB,CACzB,MAAMtW,EAAO0xB,aAAaC,QAAQrb,GAClC,GAAItW,EACA,IACIiP,EAAS2iB,KAAKC,MAAM7xB,GACtB,MAAO6D,GACLiD,QAAQjC,MAAMhB,SAItBoL,EAASqH,EAOb,OALIrH,IACIA,EAAO+G,UAAU8hB,EAAKh3B,KAAK,IAAIqI,KAAK8F,EAAO+G,UAAU+iB,kBACrD9pB,EAAO6pB,iBAAiBhB,EAAKh3B,KAAKmO,EAAO6pB,gBAAgB3zB,OAE5D2yB,EAAKt3B,QAAQs3B,EAAKh3B,KAAK,mBACrBg3B,EAGX,aAAar0B,GACT,MAAMmiC,EAAQniC,EAAME,QACd,MAAEkqC,GAAUjI,EAClB,IAAKiI,EAAO,OAEZ,MAAMC,EAAS,IAAIC,WACnBD,EAAOvqC,OAASoI,UACZ,GAAImiC,EAAOzsC,OAAQ,CACf,MAAM,SAAEsQ,GAAarF,KAAKmF,QACpBu8B,EAAUr8B,EAASnR,OACzB,UACU8L,KAAKmF,QAAQspB,WACfnJ,KAAKC,MAAMic,EAAOzsC,OAAO8G,YACzB0lC,EAAM,GAAG1oC,MAGT6oC,IAAYr8B,EAASnR,QAAQ8L,KAAKynB,QAAQjzB,KAAK,YAC7CwL,KAAK0uB,cACb,MAAOn3B,GACLyI,KAAK0G,KAAKnO,MAAMhB,EAAIqB,QAAU,yBAGlCoH,KAAK0G,KAAKrD,KAAK,kBAEnBi2B,EAAM1/B,MAAQ,IAGlB,IACI4nC,EAAOG,WAAWJ,EAAM,IAC1B,MAAOhpC,GACLiC,QAAQjC,MAAMA,GACdyH,KAAK0G,KAAKnO,MAAMA,EAAMK,UAG9B,aACI,IAAKoH,KAAKqE,SAAS5B,QAAS,OAC5B,MAAMm/B,EAAOxc,aAAaC,QAAQrlB,KAAKmF,QAAQ1C,SAC3Cm/B,GAAMjjC,EAAUijC,EAAM5hC,KAAKmF,QAAQ1C,QAAU,SAErD,aACI9D,EAAUwD,EAAOnC,KAAKoC,SAAS2D,iBAAkB/F,KAAKmF,QAAQ1C,QAAU,QAE5E,cACI,IAAKzC,KAAKqE,SAAS5B,QAAS,OAC5B,MAAMm/B,EAAOxc,aAAaC,QAAQrlB,KAAKmF,QAAQ1C,SAC/C,GAAIm/B,EAAM,CACN,MAAMr9B,EAAM,IAAIs9B,IAAInnC,OAAOmH,SAASzL,MAC9B0rC,EAAavd,GAAaqd,GAChCr9B,EAAIw9B,aAAaj4B,IACb,SACA,KAAGk4B,8BAA8B1c,KAAKS,UAAU+b,KAEpD9hC,KAAKmE,MAAM89B,aAAa19B,EAAInO,OAIpC,oBAAoByC,EAAckQ,GAC9B,GAAIsf,QAAQ,0BAA0BxvB,MAAU,CAC5C,MAAM6F,QAAYsB,KAAKmF,QAAQ2jB,cAAcjwB,EAAMkQ,GAEnD,GADA/I,KAAKynB,QAAQtL,MACK,YAAdzd,EAAI6P,MAAqB,OAAOvO,KAAK0G,KAAK4c,OAAO5kB,GAEjDA,EAAI4d,SAAStc,KAAK0uB,eAG9B,cAAc+L,GACV,GAAIA,IAAgBz6B,KAAKmF,QAAQ1C,QAAS,OAC1C,MAAMypB,EAAO9G,aAAaC,QAAQoV,GAClC,GAAKvO,EAAL,CACA,GAAIlsB,KAAKmF,QAAQC,UAAW,CAExBpF,KAAK0G,KAAKK,QACV,MAAMgC,EAAM/I,KAAKmF,QAAQE,SAAS6H,UAAUxX,GAAKA,EAAEmD,OAASmH,KAAKmF,QAAQ1C,SACpEzC,KAAKmF,QAAQkoB,SAAStkB,KACvB/I,KAAKmF,QAAQE,SAAS0D,GAAKmd,eAAiBlmB,KAAKmF,QAAQE,SACrD0D,GACFkd,SAAS,GAAG/hB,QACdkhB,aAAaU,QACT9lB,KAAKmF,QAAQ1C,QACb2iB,aAAaC,QAAQ,UAAYrlB,KAAKmF,QAAQ1C,UAElD2iB,aAAaS,WAAW,UAAY7lB,KAAKmF,QAAQ1C,UAGzDzC,KAAKmF,QAAQ1C,QAAUg4B,EACvBz6B,KAAK0uB,cACL1uB,KAAKk6B,gBAET,oBAAoBrhC,EAAckQ,EAAa7E,GAC3ClE,KAAKmF,QAAQE,SAAS0D,GAAKmd,eAAiBhiB,EAC5C,MAAMqB,QAAevF,KAAKmF,QAAQ+8B,iBAAiBrpC,EAAMqL,GACzD,GAAqB,UAAjBqB,EAAOgJ,MAAmB,OAAOvO,KAAK0G,KAAK4c,OAAO/d,GAGtD6f,aAAaU,QAAQ,UAAYjtB,EAAMusB,aAAaC,QAAQxsB,IAC5DusB,aAAaU,QAAQjtB,EAAM0M,EAAO+W,QAASnX,SAC3CnF,KAAK0uB,cACA1uB,KAAKmF,QAAQkoB,SAAStkB,IACvB/I,KAAK0G,KAAKrD,KACN,0HAA0H2O,GAAQnZ,gCAClI,MACA,GAERmH,KAAKk6B,eAET,kBAAkBrhC,GAEd,MAAMspC,EAA4B7c,KAAKC,MAAMH,aAAaC,QAAQxsB,IAClEspC,EAASz4B,UAAW,IAAI7M,MAAO2nB,SAC/B,MAAMrf,EAAUmgB,KAAKS,UAAUoc,GAC/B/c,aAAaU,QAAQjtB,EAAMsM,GAC3B,MAAMzG,QAAYsB,KAAKmF,QAAQmjB,cAAc,CACzC,CACIzvB,OACAsM,UACAojB,KAAK,KAGb,GAAI7pB,EAAK,OAAOsB,KAAK0G,KAAK4c,OAAO5kB,GACjC0mB,aAAaS,WAAW,UAAYhtB,GACpCmH,KAAK0G,KAAKK,QACV/G,KAAKk6B,eAET,oBAAoB1S,EAAiBze,GACjC,MAAMuO,EAAM8N,aAAaC,QAAQmC,GACjC,IAAKlQ,EAAK,OAEV,MAAMmQ,EAAUznB,KAAKynB,QAAQ1e,GAC7B,IAAK0e,EAAS,OAAOznB,KAAK0wB,KAAK1wB,KAAKynB,QAAS1e,EAAK,MAClD,GAAI0e,IAAYD,EAAS,CACrB,GAAIxnB,KAAKmF,QAAQE,SAASoF,KAAK/U,GAAKA,EAAEmD,OAAS4uB,GAC3C,OAAOznB,KAAK0G,KAAKnO,MAAM,oBAC3B,IACKyH,KAAKmF,QAAQE,SAAS0D,GAAKxD,QAC5B8iB,QACI,+EAEN,CACE,MAAM3pB,QAAYsB,KAAKmF,QAAQi7B,cAAcr3B,EAAKye,EAASC,EAASnQ,GACpE,GAAI5Y,EAAK,OAAOsB,KAAK0G,KAAK4c,OAAO5kB,IAGzCsB,KAAK0wB,KAAK1wB,KAAKynB,QAAS1e,EAAK,MAGjC,QACIrO,OAAOqlC,UA5OM,GAAU,gBAD9B,QACoB,cCrB8T,MCQ/U,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIv8B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAsBF,EAAII,MAAMD,GAAO,OAAOH,EAAIyD,GAAG,IACnG,GAAkB,CAAC,WAAa,IAAIzD,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,iBAAiB,CAACH,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACL,EAAI0C,GAAG,2CAA2CvC,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,EAAQ,QAAgC,IAAM,YCU3U,UAAIs+B,OAAO,ICX2X,MCQjZ,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI5+B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,aAAavC,EAAG,KAAK,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACE,YAAY,uBAAuBC,MAAM,CAAC,MAAQ,mDAAmD,CAACN,EAAI0C,GAAG,mBAAmBvC,EAAG,MAAM,CAACE,YAAY,kBAAkB2B,YAAY,CAAC,MAAQ,SAAS1B,MAAM,CAAC,MAAQ,gEAAgEC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI0I,OAAOm2B,iBAAiB,CAAC1+B,EAAG,IAAI,CAACE,YAAY,oBAAoBL,EAAIyrB,GAAIzrB,EAAI0I,OAAgB,WAAE,SAAStS,EAAM5F,GAAG,OAAO2P,EAAG,KAAK,CAACzJ,IAAIlG,EAAE6P,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0BC,MAAM,CAAC,KAAO,UAAUN,EAAIyrB,GAAIzrB,EAAQ,MAAE,SAASpC,EAAIlM,GAAG,OAAOyO,EAAG,SAAS,CAACzJ,IAAIhF,EAAEsP,MAAM,6BAA+B5K,EAAM1E,GAAK,UAAY,IAAI4O,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI8+B,gBAAgBtuC,GAAIkB,MAAM,CAACsO,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG1F,GAAK,UAAS,GAAGuC,EAAG,MAAM,CAACE,YAAY,iEAAiE,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAOA,EAAM,GAAI61B,WAAW,aAAa5rB,YAAY,+BAA+BC,MAAM,CAAC,KAAO,QAAQ+C,SAAS,CAAC,MAASjN,EAAM,IAAKmK,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAK92B,EAAO,EAAGoK,EAAO3M,OAAOuC,aAAa+J,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACL,EAAI0C,GAAG,OAAOvC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAOA,EAAM,GAAI61B,WAAW,aAAa5rB,YAAY,+BAA+BC,MAAM,CAAC,KAAO,QAAQ+C,SAAS,CAAC,MAASjN,EAAM,IAAKmK,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAK92B,EAAO,EAAGoK,EAAO3M,OAAOuC,aAAa+J,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACE,YAAY,0BAA0B2B,YAAY,CAAC,YAAY,WAAWzB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI0I,OAAOq2B,eAAevuC,gBAAe2P,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAI0I,OAAoB,cAAEujB,WAAW,yBAAyB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,MAAM,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAI0I,OAAO2X,eAAergB,EAAI4sB,GAAG5sB,EAAI0I,OAAO2X,cAAc,OAAO,EAAGrgB,EAAI0I,OAAoB,eAAGnI,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAI0I,OAAO2X,cAAcyM,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAI0I,OAAQ,gBAAiBmkB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAI0I,OAAQ,gBAAiBmkB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAI0I,OAAQ,gBAAiBqkB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,QAAQ,CAACN,EAAI0C,GAAG,uBAAuBvC,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAI0I,OAAkB,YAAEujB,WAAW,uBAAuB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,KAAK,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAI0I,OAAO4X,aAAatgB,EAAI4sB,GAAG5sB,EAAI0I,OAAO4X,YAAY,OAAO,EAAGtgB,EAAI0I,OAAkB,aAAGnI,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAI0I,OAAO4X,YAAYwM,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAKltB,EAAI0I,OAAQ,cAAemkB,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAKltB,EAAI0I,OAAQ,cAAemkB,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAKltB,EAAI0I,OAAQ,cAAeqkB,OAAU5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,OAAO,CAACN,EAAI0C,GAAG,sBAAsBvC,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACF,EAAG,SAAS,CAACE,YAAY,6BAA6BC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIqqB,uBAAuB,CAACrqB,EAAI0C,GAAG,eAAevC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,mBAAmBvC,EAAG,KAAK,CAACE,YAAY,uBAAuBC,MAAM,CAAC,MAAQ,kFAAkF,CAACN,EAAI0C,GAAG,yBAAyBvC,EAAG,YAAY,CAACI,GAAG,CAAC,IAAM,SAASC,GAAQ,OAAOR,EAAIg/B,YAAYlT,MAAM,CAAC11B,MAAO4J,EAAI0I,OAAOoU,YAAkB,OAAEiP,SAAS,SAAUC,GAAMhsB,EAAIktB,KAAKltB,EAAI0I,OAAOoU,YAAa,SAAUkP,IAAMC,WAAW,8BAA8BjsB,EAAIyrB,GAAIzrB,EAAI0I,OAAOoU,YAAkB,QAAE,SAASvL,EAAO0tB,GAAQ,OAAO9+B,EAAG,MAAM,CAACzJ,IAAI6a,EAAOlc,KAAKgL,YAAY,kCAAkC,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,4BAA4BC,MAAM,CAAC,MAAQiR,EAAOnT,cAAc,CAAC+B,EAAG,OAAO,CAAC6B,YAAY,CAAC,OAAS,YAAY,CAAChC,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGiO,EAAO5R,OAAO,OAAQ4R,EAAOiJ,UAAYxa,EAAIk/B,gBAAgB3tB,GAASpR,EAAG,OAAO,CAACE,YAAY,oBAAoBC,MAAM,CAAC,MAAS,iFAAoFiR,EAAO5R,MAAMiF,cAAiB,MAAO,CAACzE,EAAG,IAAI,CAACE,YAAY,kCAAkCL,EAAIiC,KAAOsP,EAAOpK,OAAoJnH,EAAIiC,KAAhJ9B,EAAG,OAAO,CAACE,YAAY,oBAAoBC,MAAM,CAAC,MAAQ,2BAA2B,CAACH,EAAG,IAAI,CAACE,YAAY,kCAA4E,IAAhCL,EAAI0I,OAAOoU,YAAYxmB,MAAcib,EAAOiJ,QAASra,EAAG,MAAM,CAACE,YAAY,6BAA6B2B,YAAY,CAAC,MAAQ,QAAQ,CAAC7B,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACL,EAAI0C,GAAG,cAAcvC,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAOmb,EAAa,OAAE0a,WAAW,kBAAkB5rB,YAAY,eAAeC,MAAM,CAAC,KAAO,SAAS,IAAM,MAAM,IAAM,KAAK,KAAO,OAAO+C,SAAS,CAAC,MAASkO,EAAa,QAAGhR,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIm/B,aAAa,MAAQ,SAAS3+B,GAAWA,EAAO3M,OAAOwjC,WAAqBr3B,EAAIktB,KAAK3b,EAAQ,SAAU/Q,EAAO3M,OAAOuC,aAAa4J,EAAIiC,OAAO9B,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,sBAAsBW,MAAMuQ,EAAOkJ,QAAU,gBAAkB,cAAcna,MAAM,CAAC,MAAQ,4BAA4BC,GAAG,CAAC,MAAQ,SAASC,GAAQ+Q,EAAOkJ,SAAWlJ,EAAOkJ,QAC9pMza,EAAIo/B,eAAeH,OAAa9+B,EAAG,MAAM,CAACE,YAAY,iCAAiC2B,YAAY,CAAC,QAAU,eAAe,OAAS,YAAY,CAAkB,eAAhBuP,EAAOlc,MAA0B2K,EAAI0I,OAAO8hB,kBAA0U,CAACrqB,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAOmb,EAAc,QAAE0a,WAAW,mBAAmB5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAKiR,EAAOlc,KAAK,KAAO,YAAYgO,SAAS,CAAC,MAAQkO,EAAOlc,KAAK,QAAUsG,MAAMC,QAAQ2V,EAAOiJ,SAASxa,EAAI4sB,GAAGrb,EAAOiJ,QAAQjJ,EAAOlc,OAAO,EAAGkc,EAAc,SAAGhR,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,IAAIqsB,EAAItb,EAAOiJ,QAAQsS,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAIza,EAAOlc,KAAK43B,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,GAAIjtB,EAAIktB,KAAK3b,EAAQ,UAAWsb,EAAI/iB,OAAO,CAACkiB,KAAaiB,GAAK,GAAIjtB,EAAIktB,KAAK3b,EAAQ,UAAWsb,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAYjtB,EAAIktB,KAAK3b,EAAQ,UAAWwb,IAAO,SAASvsB,GAAQ,OAAOR,EAAIo/B,eAAeH,QAAa9+B,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAMiR,EAAOlc,KAAK,MAAQ,iCAAzmC,CAAC8K,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,GAAKiR,EAAOlc,KAAK,KAAO,WAAW,SAAW,IAAIgO,SAAS,CAAC,MAAQkO,EAAOlc,QAAQ8K,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAMiR,EAAOlc,KAAK,MAAQ,8FAAi7B,YAAW,GAAG8K,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACL,EAAIyrB,GAAIzrB,EAAI0I,OAAgB,WAAE,SAASpS,GAAM,MAAO,CAAC6J,EAAG,MAAM,CAACzJ,IAAI,KAAOJ,EAAKA,KAAK+J,YAAY,+BAA+B,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAI0I,OAAOoU,YAAgB,KAAEmP,WAAW,0BAA0BwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,uBAAuBC,MAAM,CAAC,GAAK,KAAOhK,EAAKA,KAAK,KAAO,SAAS+M,SAAS,CAAC,MAAQ/M,EAAKA,KAAK,QAAU0J,EAAI26B,GAAG36B,EAAI0I,OAAOoU,YAAYxmB,KAAK0J,EAAI06B,GAAGpkC,EAAKA,QAAQiK,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQR,EAAIktB,KAAKltB,EAAI0I,OAAOoU,YAAa,OAAQ9c,EAAI06B,GAAGpkC,EAAKA,QAAQ,SAASkK,GAAQ,OAAOR,EAAIo/B,mBAAc9pC,QAAgB6K,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,KAAOhK,EAAKA,KAAK,MAAQA,EAAK8H,cAAc,CAAC4B,EAAI0C,GAAG1C,EAAIsD,GAAGhN,EAAKqJ,OAAO,cAAa,IAAI,MAC5qE,GAAkB,G,wBCqBtB,IAAqB,GAArB,cAAwC,GACpC,WACI,OAAOzC,EAGX,UACyC,IAAjCV,KAAKkM,OAAOoU,YAAYxmB,MAAYkG,KAAK4iC,gBAQjD,gBAAgB5uC,EAAWkB,GACvB8K,KAAK0wB,KAAK1wB,KAAKkM,OAAOuT,UAAUzrB,GAAIkB,GAAI8K,KAAKkM,OAAOuT,UAAUzrB,GAAGkB,IAGrE,gBAAgBmpB,GACZ,OAAO3jB,OAAOkpB,kBAAkBif,SAASxkB,GAU7C,cAAcokB,GACV,GAAKziC,KAAKmuB,sBAAV,CACA,QAAer1B,IAAX2pC,EAAsB,CACtB,MAAM1tB,EAAS/U,KAAKkM,OAAOoU,YAAYrD,OAAOwlB,GAE9C,GAAI1tB,EAAOiJ,QACP,IAAK,MAAM9jB,KAAO6a,EAAOyO,UACrB,IAAK,MAAMnF,KAAOre,KAAKkM,OAAOoU,YAAYrD,OACtC,GAAIoB,EAAIxlB,OAASqB,EAAK,CAClBmkB,EAAIL,SAAU,EACd,OAMpBhe,KAAK2iC,aAGT,YACSjoC,OAAOkpB,kBAAkB9L,UAC1Bpd,OAAOkpB,kBAAkB3X,KAAK,CAAE4R,WAAY7d,KAAKkM,OAAOoU,cACnDtgB,KAAKoC,SAASwnB,UAIf5pB,KAAKoC,SAAS2D,gBAAkBrL,OAAOkpB,kBAAkBsG,YACrDlqB,KAAKoC,SAASqnB,sBAJlBzpB,KAAKoC,SAASynB,gBAAe,MApDxB,GAAU,gBAL9B,eAAU,CACPyI,WAAY,CACRwQ,UAAA,SAGa,cCvB8T,MCO/U,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIt/B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAC,GAAK,gBAAgB,CAACH,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,qBAAqBvC,EAAG,KAAK,CAACE,YAAY,kEAAkEL,EAAIyrB,GAAIzrB,EAAgB,cAAE,SAASu/B,EAAOh6B,GAAK,OAAOpF,EAAG,KAAK,CAACzJ,IAAI6oC,EAAOlqC,KAAKgL,YAAY,8CAA8CW,MAAM,CAAE0sB,QAASnoB,IAAQvF,EAAImC,QAAQioB,aAAc9pB,MAAM,CAAC,IAAMiF,IAAQvF,EAAImC,QAAQioB,YAAc,gBAAkB,UAAY7kB,EAAI,MAAQg6B,EAAOnhC,aAAamC,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAImC,QAAQioB,aAAe7kB,KAAO,CAACpF,EAAG,SAAS,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGi8B,EAAOlqC,SAAS8K,EAAG,MAAM,CAACE,YAAY,8BAA8BL,EAAIyrB,GAAI8T,EAAa,QAAE,SAAShpB,GAAO,OAAOpW,EAAG,MAAM,CAACzJ,IAAI6f,EAAMlW,YAAY,MAAMwC,MAAM,CACj1B,mBAAoB0T,EACpBA,MAAOA,IACP,CAACvW,EAAI0C,GAAG,YAAW,QAAO,GAAGvC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,eAAevC,EAAG,KAAK,CAACE,YAAY,oCAAoC,CAAEL,EAAIw/B,YAAax/B,EAAIyrB,GAAIzrB,EAAIy/B,gBAAgB,SAASC,EAAKn6B,GAAK,OAAOpF,EAAG,KAAK,CAACzJ,IAAI6O,EAAIlF,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,qDAAqD,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB2B,YAAY,CAAC,YAAY,SAAS,CAAChC,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGtD,EAAI2/B,WAAWD,EAAK,KAAK,OAAOv/B,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,IAAI,CAACE,YAAY,+BAA+B2B,YAAY,CAAC,YAAY,UAAU1B,MAAM,CAAC,MAAQ,oBAAoBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI4/B,QAAQ5/B,EAAI8pB,QAAQhV,YAAa4qB,EAAK,QAAQv/B,EAAG,IAAI,CAACE,YAAY,kCAAkCC,MAAM,CAAC,MAAQ,sBAAsBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIs3B,UAAUoI,EAAK,QAAQv/B,EAAG,QAAQ,CAAC6B,YAAY,CAAC,MAAQ,QAAQ1B,MAAM,CAAC,KAAO,SAAS+C,SAAS,CAAC,MAAQq8B,EAAK,IAAIn/B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIsG,IAAIo5B,EAAK,GAAIl/B,EAAO3M,OAAOuC,oBAAmB+J,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACL,EAAI0C,GAAG,iLAAiL,MACnzC,GAAkB,GCetB,IAAqB,GAArB,cAAqC,GACjC,mBACI,OAAO,GAEX,UACI3P,SAAS07B,eAAe,iBAAkBoR,iBAC1C9sC,SAAS07B,eAAe,eAAgBqR,OAAO,EAAG,GAEtD,IAAIppC,EAAa6f,GACb/Z,KAAK0wB,KAAK1wB,KAAKstB,QAAQhV,YAAape,EAAK6f,GAE7C,UAAU7f,GACN8F,KAAK0wB,KAAK1wB,KAAKstB,QAAQhV,YAAape,EAAK,KAAY,CAAEwjC,WAAY,UAGvE,eACI,OAAOvpC,OAAOwpC,QAAQ39B,KAAKstB,QAAQhV,aAAapM,OAAOC,GACnDnM,KAAKoC,SAAS2D,gBAAgB0T,IAAItN,EAAM,IAAI,IAMpD,YACI,OACInM,KAAKujC,eAAervC,OACpB8L,KAAKoC,SAAS2D,gBAAgB0R,WAAW9I,OAAO,CAACC,EAAK1P,IAAMA,EAAE8M,KAAO4C,EAAK,GAMlF,eACI,MAAM6G,EAAS,GAASA,OACxB,OAAOzV,KAAKujC,eACPj2B,OACGtN,KAAKoC,SAAS2D,gBAAgB0R,WAAW9I,OACrC,CAACyI,EAAKosB,EAAQxvC,KACV,IAAK,MAAMkG,KAAOspC,IAERtpC,KAAO8F,KAAKstB,QAAQhV,cACtBtY,KAAKoC,SAAS2D,gBAAgB0T,IAAIvf,GAAK,IAEvCkd,EAAI5iB,KAAK,CAAC0F,EAAKub,EAAOzhB,KAG9B,OAAOojB,GAEX,KAGPnL,KAAK,CAAC7O,EAAGC,IAAOD,EAAE,KAAOC,EAAE,GAAK,EAAID,EAAE,GAAKC,EAAE,IAAM,EAAI,GAEhE,WAAWnD,GACP,OAAOQ,OAAO4H,QAAQ6gC,WAAWjpC,EAAK8F,KAAKoC,SAAS2D,mBAtDvC,GAAO,gBAD3B,QACoB,cCnB+T,MCQhV,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIvC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,0BAA0B,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAON,EAAI0rB,WAAW,iBAAmB,EAAE,KAAO,KAAK,YAAc,gCAAgCnrB,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,GAAGprB,EAAO9J,IAAI,CAAC,MAAM,WAAoB,KAAcsJ,EAAI6rB,kBAAkB,SAASrrB,GAAQ,OAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,QAAQ,GAAGprB,EAAO9J,IAAI,SAAkB,KAAcsJ,EAAIigC,cAAcnU,MAAM,CAAC11B,MAAO4J,EAAS,MAAE+rB,SAAS,SAAUC,GAAMhsB,EAAIkE,MAAM8nB,GAAKC,WAAW,UAAU,CAAC9rB,EAAG,WAAW,CAACghB,KAAK,UAAU,CAAEnhB,EAAW,QAAEG,EAAG,MAAM,CAACE,YAAY,2CAA2C2B,YAAY,CAAC,MAAQ,SAAS,OAAS,UAAU1B,MAAM,CAAC,KAAO,WAAW,CAACH,EAAG,OAAO,CAACE,YAAY,WAAW,CAACL,EAAI0C,GAAG,kBAAkBvC,EAAG,OAAO,CAACE,YAAY,mCAAmCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIigC,cAAc,CAAC9/B,EAAG,IAAI,CAACE,YAAY,uBAAuB,GAAIL,EAAImsB,aAAmB,OAAEhsB,EAAG,MAAM,CAAC+gB,IAAI,YAAY7gB,YAAY,sBAAsB,CAACF,EAAG,YAAY,CAAC+gB,IAAI,oBAAoB5gB,MAAM,CAAC,QAAUN,EAAImsB,aAAa,QAAUnsB,EAAIosB,aAAa,SAAWpsB,EAAIpB,SAAS2D,gBAAgB,eAAc,EAAK,uBAAuBvC,EAAImC,QAAQwb,mBAAmB,qBAAqB3d,EAAImC,QAAQ2b,kBAAkBvd,GAAG,CAAC,gBAAgBP,EAAIqsB,aAAa,eAAe,SAAS7rB,GAAQ,OAAOR,EAAIW,MAAM2rB,gBAAgB9rB,EAAOuV,IAAKvV,EAAO/F,QAAQ,MAAQ,SAAS+F,GAAQ,OAAOR,EAAI6rB,sBAAsB,GAAI7rB,EAAIkE,MAAY,OAAE/D,EAAG,MAAM,CAACE,YAAY,aAAa,CAACL,EAAI0C,GAAG,qCAAqCvC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAY,SAAEisB,WAAW,aAAa5rB,YAAY,uBAAuBC,MAAM,CAAC,GAAK,WAAW,KAAO,YAAY+C,SAAS,CAAC,QAAU1H,MAAMC,QAAQoE,EAAIkgC,UAAUlgC,EAAI4sB,GAAG5sB,EAAIkgC,SAAS,OAAO,EAAGlgC,EAAY,UAAGO,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIqsB,EAAI7sB,EAAIkgC,SAASpT,EAAKtsB,EAAO3M,OAAOk5B,IAAID,EAAKE,QAAuB,GAAGrxB,MAAMC,QAAQixB,GAAK,CAAC,IAAIb,EAAI,KAAKiB,EAAIjtB,EAAI4sB,GAAGC,EAAIb,GAAQc,EAAKE,QAASC,EAAI,IAAIjtB,EAAIkgC,SAASrT,EAAI/iB,OAAO,CAACkiB,KAAYiB,GAAK,IAAIjtB,EAAIkgC,SAASrT,EAAIz1B,MAAM,EAAE61B,GAAKnjB,OAAO+iB,EAAIz1B,MAAM61B,EAAI,UAAWjtB,EAAIkgC,SAASnT,MAAS5sB,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAM,oBAAoBN,EAAIyD,GAAG,MAAM,IAC9iF,GAAkB,CAAC,WAAa,IAAIzD,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,wBAAwB,CAACL,EAAI0C,GAAG,kBAAkBvC,EAAG,OAAO,CAACE,YAAY,yBAAyB,CAACL,EAAI0C,GAAG,aAAa,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,YAAY,MAAMC,MAAM,CAAC,IAAM,aAAa,CAACH,EAAG,QAAQ,CAACH,EAAI0C,GAAG,oBAAoB,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACL,EAAI0C,GAAG,6LAA6LvC,EAAG,KAAK,CAACE,YAAY,aAAa,CAACL,EAAI0C,GAAG,qPAAsPvC,EAAG,SAAS,CAACH,EAAI0C,GAAG,sBAAsB1C,EAAI0C,GAAG,iDAAkDvC,EAAG,KAAK,CAACE,YAAY,aAAa,CAACL,EAAI0C,GAAG,0EAA0EvC,EAAG,KAAK,CAACE,YAAY,aAAa,CAACL,EAAI0C,GAAG,iMCwBhzC,IAAqB,GAArB,cAAuC,GAAvC,c,oBACI,KAAAypB,aAAyB,GACzB,KAAAC,aAA8B,GAC9B,KAAAV,WAAa,CAAC,UAAW,UAAW,SAAU,SAAU,UACxD,KAAAxnB,MAAQ,GAMR,KAAAmlB,SAAU,EAIV,KAAA6W,UAAW,EAGX,UACQ1jC,KAAK0jC,UAAU1jC,KAAKyjC,WAY5B,iBACI,MAAM/7B,EAAQ1H,KAAK0H,MACdA,GAIL1H,KAAK6sB,SAAU,EACX7sB,KAAKoC,SAASwnB,WAAW5pB,KAAKoC,SAASynB,gBAAe,IAEzD7pB,KAAK2vB,aAAc3vB,KAAK4vB,cAAgBl1B,OAAO4H,QAAQqhC,YAAYj8B,GACpE1H,KAAK6sB,SAAU,GAPX7sB,KAAKqvB,iBAUb,iBACIrvB,KAAK0H,MAAQ,GACb1H,KAAK2vB,aAAe,GACpB3vB,KAAK4vB,aAAe,GAMxB,aAAa11B,EAAaoK,EAAiB2T,EAAQ,EAAG8D,GAAS,GAC3D/b,KAAKoC,SAAS2D,gBAAgBiW,OAAO9hB,EAAKoK,EAAS2T,EAAO8D,GAI1D,MAAMmB,EAAYld,KAAK+3B,MAAMoC,kBACzBjd,aAAqB,QAAMA,EAAkBgd,eACjDl6B,KAAKiE,eA1CT,gBADC,eAAM,U,uBAGN,MAnBgB,GAAS,gBAN7B,eAAU,CACPquB,WAAY,CACR8H,UAAA,GACAC,6BAGa,cCzB6T,MCO9U,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI72B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACL,EAAI0C,GAAG,mBAAmBvC,EAAG,KAAK,CAACE,YAAY,oCAAoCL,EAAIyrB,GAAIzrB,EAAIkD,KAAY,SAAE,SAASwlB,EAAKnjB,GAAK,OAAOpF,EAAG,KAAK,CAACzJ,IAAI6O,EAAIlF,YAAY,uCAAuC,CAACF,EAAG,OAAO,CAACa,MAAO,QAAW0nB,EAAQ,IAAGrlB,SAAS,CAAC,UAAYrD,EAAIsD,GAAGolB,EAAKxtB,QAAQ8E,EAAI0C,GAAG,KAAKvC,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACF,EAAG,OAAO,CAACE,YAAY,YAAYW,MAAO,MAAS0nB,EAAQ,IAAG1mB,YAAY,CAAC,MAAQ,UAAU,CAAChC,EAAI0C,GAAG1C,EAAIsD,GAAgB,WAAbolB,EAAKnJ,IAAmB,QAAUmJ,EAAKnJ,QAAQvf,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGolB,EAAK9I,OAAO,YAAW,MACntB,GAAkB,GCetB,IAAqB,GAArB,cAAqC,KAAhB,GAAO,gBAD3B,QACoB,cChB2T,MCO5U,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI5f,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,oCAAoC2B,YAAY,CAAC,gBAAgB,MAAM,CAAC7B,EAAG,KAAK,CAACE,YAAY,cAAc2B,YAAY,CAAC,MAAQ,SAAS,CAAC7B,EAAG,QAAQ,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,iBAAiBhN,MAAO4J,EAAQ,KAAEisB,WAAW,OAAOwO,UAAU,CAAC,QAAS,KAAQp6B,YAAY,eAAe2B,YAAY,CAAC,gBAAgB,8BAA8B1B,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,KAAO,IAAI,YAAc,SAAS+C,SAAS,CAAC,MAASrD,EAAQ,MAAGO,GAAG,CAAC,MAAQ,SAASC,GAAQ,IAAIA,EAAOhN,KAAK6V,QAAQ,QAAQrJ,EAAI2rB,GAAGnrB,EAAOorB,QAAQ,MAAM,GAAGprB,EAAO9J,IAAI,CAAC,MAAM,WAAa,OAAO,KAAOsJ,EAAIogC,KAAO,GAAG,MAAQ,SAAS5/B,GAAWA,EAAO3M,OAAOwjC,YAAqBr3B,EAAIogC,KAAKpgC,EAAI06B,GAAGl6B,EAAO3M,OAAOuC,SAAQ,KAAO,SAASoK,GAAQ,OAAOR,EAAI02B,qBAAqBv2B,EAAG,KAAK,CAACE,YAAY,YAAYW,MAAM,CAAEwuB,SAAUxvB,EAAIrH,OAAS,GAAKqH,EAAIuF,KAAOvF,EAAIrH,QAAS,CAACwH,EAAG,IAAI,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,uBAAuBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIymB,WAAWzmB,EAAIuF,IAAM,MAAM,CAACvF,EAAI0C,GAAG,SAAS1C,EAAIyrB,GAAIzrB,EAAU,QAAE,SAAS4F,GAAO,OAAOzF,EAAG,KAAK,CAACzJ,IAAIkP,EAAMvF,YAAY,YAAYW,MAAM,CAAE0sB,OAAQ1tB,EAAIuF,MAAQK,EAAQ5F,EAAIrH,MAAQ,IAAK,CAACwH,EAAG,IAAI,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,uBAAuBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIymB,WAAW7gB,EAAQ5F,EAAIrH,MAAQ,MAAM,CAACqH,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGsC,EAAQ5F,EAAIrH,OAAO,YAAWwH,EAAG,KAAK,CAACE,YAAY,YAAYW,MAAM,CAAEwuB,SAAUxvB,EAAIuF,KAAOvF,EAAIqgC,eAAiB,IAAK,CAAClgC,EAAG,IAAI,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,uBAAuBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIymB,WAAWzmB,EAAIuF,IAAM,MAAM,CAACvF,EAAI0C,GAAG,UAAU,MACvqD,GAAkB,GCetB,IAAqB,GAArB,cAAwC,GAAxC,c,oBAmBI,KAAA6C,IAAM,EAIN,KAAA5M,MAAQ,EACR,KAAAynC,KAAsB,KAvBtB,aACI,OAAO5jC,KAAKoC,SAASqnB,qBAEzB,qBACI,OAAOzpB,KAAKoC,SAAS4nB,aAGzB,aACI,OAAItvB,OAAOiyB,OAAOrmB,MAAQ,IACftG,KAAK6jC,eAAiB,EAAI7jC,KAAK6jC,eAAiB,EAEhD7jC,KAAK6jC,eAAiB,GAAK7jC,KAAK6jC,eAAiB,GAehE,YACI7jC,KAAKiqB,YAAYjqB,KAAK4jC,MAAQ,GAAK,GAGvC,cACQ5jC,KAAK+I,IAAM/I,KAAK7D,MAChB6D,KAAK7D,MAAQ6D,KAAK+I,IACX/I,KAAK+I,KAAO/I,KAAK7D,MAAQ6D,KAAK9L,SACrC8L,KAAK7D,MAAQ6D,KAAK+I,IAAM/I,KAAK9L,OAAS,GAEtC8L,KAAK7D,MAAQ,IAAG6D,KAAK7D,MAAQ,GAGrC,WAAW4M,GACPA,EAAMlG,MAAMkG,GAAO,GAAKA,EACpBA,GAAO/I,KAAK6jC,eACZ7jC,KAAK+I,IAAM/I,KAAK6jC,eAAiB,EAEjC7jC,KAAK+I,IADEA,EAAM,EACF,EAEAA,EAEf/I,KAAK8jC,cACL9jC,KAAKoC,SAAS6nB,WAAWjqB,KAAK+I,KAIlC,aACI/I,KAAKiqB,WAAWjqB,KAAK+jC,UA5BzB,gBADC,eAAM,S,yBAGN,MAyBD,gBADC,eAAM,SAAU,CAAErE,WAAW,K,0BAG7B,MAxDgB,GAAU,gBAD9B,QACoB,cChB+S,MCOhU,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIl8B,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,eAAe,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,wBAAwBC,MAAM,CAAC,KAAO,aAAa,CAAEN,EAAU,OAAEG,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAcgD,SAAS,CAAC,UAAYrD,EAAIsD,GAC5YtD,EAAI5F,eAAe4F,EAAIY,OAAOlB,YAAa,MAAOM,EAAIvF,MAAM,IAAM,IAAMuF,EAAIY,OAAOjB,UAClFK,EAAIyD,GAAG,KAAKtD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAI5F,eAAe4F,EAAIY,OAAOjB,MAAO,QAASK,EAAIvF,MAAM,QAAQ0F,EAAG,MAAM,CAAC6B,YAAY,CAAC,MAAQ,OAAO,aAAa,SAAS,CAAC7B,EAAG,QAAQ,CAACE,YAAY,gBAAgBC,MAAM,CAAC,GAAK,cAAc,CAACH,EAAG,QAAQH,EAAIyrB,GAAIzrB,EAAIY,OAAe,UAAE,SAASE,GAAS,OAAOX,EAAG,KAAK,CAACzJ,IAAIoK,EAAQA,SAAS,CAACX,EAAG,KAAK,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGxC,EAAQ9B,OAAOmB,EAAG,KAAK,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGxC,EAAQA,YAAYX,EAAG,KAAK,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GAC5dtD,EAAI5F,eACA0G,EAAQ6F,MACR,QACA3G,EAAIvF,MAAM,GAAGzE,IAAI8K,EAAQ9B,SAE5BmB,EAAG,KAAK,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GACpCtD,EAAI5F,eACA0G,EAAQ+F,YACR,cACA7G,EAAIvF,MAAM,GAAGzE,IAAI8K,EAAQ9B,SAE5BmB,EAAG,KAAK,CAACH,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGxC,EAAQwK,OAAO,OAAOnL,EAAG,KAAKH,EAAIyrB,GAAI3qB,EAAgB,UAAE,SAAStB,EAAQ+F,GAAK,OAAOpF,EAAG,MAAM,CAACzJ,IAAI6O,GAAK,CAACvF,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG9D,EAAQ9G,MAAM,UAAS,GAAGyH,EAAG,KAAKH,EAAIyrB,GAAI3qB,EAAgB,UAAE,SAAStB,EAAQ+F,GAAK,OAAOpF,EAAG,MAAM,CAACzJ,IAAI6O,GAAK,CAAEvF,EAAIwgC,kBAAkBhhC,EAAQI,MAAOO,EAAG,IAAI,CAACG,MAAM,CAAC,KAAON,EAAIwgC,kBAAkBhhC,EAAQI,MAAM,OAAS,WAAW,CAACI,EAAI0C,GAAG1C,EAAIsD,GAAG9D,EAAQI,MAAM,OAAO,CAACI,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG9D,EAAQI,MAAM,OAAO,MAAK,GAAGO,EAAG,KAAK,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGxC,EAAQK,WAAWhB,EAAG,KAAK,CAACH,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAKxC,EAAkB,WAAI,IAAOA,EAAwB,iBAAI,IAAOA,EAAiB,WAAI,YAAW,OAAOX,EAAG,IAAI,CAACE,YAAY,OAAOgD,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAI5F,eAAe4F,EAAIY,OAAOxC,YAAa,cAAe4B,EAAIvF,MAAM,QAAQ0F,EAAG,KAAK,CAACE,YAAY,SAASF,EAAG,KAAK,CAACH,EAAI0C,GAAG,qBAAsB1C,EAAY,SAAEG,EAAG,MAAMH,EAAIyrB,GAAIzrB,EAAS,OAAE,SAAS0oB,GAAM,OAAOvoB,EAAG,SAAS,CAACzJ,IAAIgyB,EAAKrzB,KAAKgL,YAAY,iCAAiCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOkoB,EAAK1Z,OAAOhP,EAAIa,SAAUb,EAAIY,WAAW,CAACZ,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGolB,EAAKrzB,MAAM,UAAS,GAAG2K,EAAIiC,SAASjC,EAAIiC,UACtnC,GAAkB,CAAC,WAAa,IAAIjC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAI0C,GAAG,WCElQ,IAAqB,GAArB,cAAyC,OACrC,YACI,OAAO,GAAW9B,SAER,gBAAb,eAAK,I,8BAC8B,gBAAnC,eAAK,CAAEpN,KAAMmI,MAAOkzB,QAAS,M,6BAChB,gBAAb,eAAKl+B,S,gCANW,GAAW,gBAD/B,QACoB,cCjB+T,MCQhV,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIqP,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,gBAAgB,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,wBAAwBC,MAAM,CAAC,KAAO,aAAa,CAAEN,EAAW,QAAEG,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIc,QAAQpB,aAAa,IAAIM,EAAIsD,GAAGtD,EAAIc,QAAQ9B,OAAOgB,EAAIyD,GAAG,KAAKtD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACkD,SAAS,CAAC,UAAYrD,EAAIsD,GAAGtD,EAAIc,QAAQnB,UAAWK,EAAIc,QAAa,MAAEX,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIc,QAAQ6F,UAAU3G,EAAIiC,KAAK9B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIc,QAAQtN,MAAM,MAAMwM,EAAIsD,GAAGtD,EAAIc,QAAQqJ,OAAO,YAAYhK,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIc,QAAQ+F,gBAAgB1G,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIc,QAAQwK,UAAUtL,EAAIyrB,GAAIzrB,EAAIc,QAAgB,UAAE,SAAStB,EAAQ+F,GAAK,OAAOpF,EAAG,MAAM,CAACzJ,IAAI6O,EAAIlF,YAAY,WAAW,CAACL,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG9D,EAAQ9G,MAAM,OAAQsH,EAAIwgC,kBAAkBhhC,EAAQI,MAAOO,EAAG,IAAI,CAACG,MAAM,CAAC,KAAON,EAAIwgC,kBAAkBhhC,EAAQI,MAAM,OAAS,WAAW,CAACI,EAAI0C,GAAG1C,EAAIsD,GAAG9D,EAAQI,MAAM,OAAO,CAACI,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAG9D,EAAQI,MAAM,OAAO,MAAKO,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAI0C,GAAG,YAAY1C,EAAIsD,GAAGtD,EAAIc,QAAQK,QAAQ,gBAAgBnB,EAAIsD,GAAGtD,EAAIc,QAAQkQ,YAAY,gBAAgBhR,EAAIsD,GAAGtD,EAAIc,QAAQmQ,kBAAkB,iBAAiBjR,EAAIsD,GAAGtD,EAAIc,QAAQoQ,WAAW,OAAO/Q,EAAG,MAAMA,EAAG,MAAM,CAACH,EAAI0C,GAAG1C,EAAIsD,GAAGtD,EAAIc,QAAQ1C,gBAAgB+B,EAAG,MAAMA,EAAG,KAAK,CAACH,EAAI0C,GAAG,qBAAsB1C,EAAY,SAAEG,EAAG,MAAM,CAACE,YAAY,QAAQL,EAAIyrB,GAAIzrB,EAAS,OAAE,SAAS0oB,GAAM,OAAOvoB,EAAG,SAAS,CAACzJ,IAAIgyB,EAAKrzB,KAAKgL,YAAY,iCAAiCE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOkoB,EAAK1Z,OAAOhP,EAAIa,SAAUb,EAAIc,YAAY,CAACd,EAAI0C,GAAG,IAAI1C,EAAIsD,GAAGolB,EAAKrzB,MAAM,UAAS,GAAG2K,EAAIiC,MAAM,KAAKjC,EAAIiC,UAC92D,GAAkB,CAAC,WAAa,IAAIjC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAI0C,GAAG,WCgBlQ,IAAqB,GAArB,cAA0C,OACtC,YACI,OAAO,GAAW5B,UAEP,gBAAd,eAAK,I,+BACQ,gBAAb,eAAKnQ,S,gCALW,GAAY,gBADhC,QACoB,cCjBgU,MCQjV,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIqP,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,YAAY,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,wBAAwBC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAIyD,GAAG,GAAGtD,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,WAAW,CAACgD,WAAW,CAAC,CAAC9N,KAAK,QAAQ+N,QAAQ,UAAUhN,MAAO4J,EAAO,IAAEisB,WAAW,QAAQ5rB,YAAY,eAAe2B,YAAY,CAAC,MAAQ,QAAQ1B,MAAM,CAAC,GAAK,WAAW,KAAO,MAAM+C,SAAS,CAAC,MAASrD,EAAO,KAAGO,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3M,OAAOwjC,YAAqBr3B,EAAIe,IAAIP,EAAO3M,OAAOuC,WAAU+J,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,GAAK,eAAe,cAAc,UAAU,eAAe,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAImZ,UAAU,CAACnZ,EAAI0C,GAAG,qBACj1B,GAAkB,CAAC,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAI0C,GAAG,iBAAiBvC,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAI0C,GAAG,aCetW,IAAqB,GAArB,cAAsC,OAAtC,c,oBAGI,KAAA+9B,SAAW,EAEX,OACI,MAAMC,EAAM3tC,SAAS07B,eAAe,YAC9B9V,EAAM,KAAE,iBACd+nB,EAAI3K,QACJ2K,EAAIjT,SACJ,MAAMkT,EAAO5tC,SAAS6tC,YAAY,QAE7BD,EACAhoB,EAAIkoB,QAAQ,QADN7pC,QAAQjC,MAAM,qBAGzBmC,OAAOlC,aAAawH,KAAKikC,SACzBjkC,KAAKikC,QAAUvpC,OAAO3B,WAAW,IAAMojB,EAAIkoB,QAAQ,WAAY,OAfrD,gBAAb,eAAK7O,S,2BADW,GAAQ,gBAD5B,QACoB,cChB4T,MCO7U,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIhyB,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,eAAe,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,wBAAwBC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAcC,MAAM,CAAC,GAAK,sBAAsB,CAACN,EAAI0C,GAAG,wBAAwB1C,EAAIsD,GAAGtD,EAAIU,SAAS,OAAOV,EAAIyD,GAAG,KAAKtD,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,IAAM,EAAQ,QAA0B,IAAM,eAAeH,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,GAAK,sBAAsB,CAACN,EAAI0C,GAAG,sCACppB,GAAkB,CAAC,WAAa,IAAI1C,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAI0C,GAAG,WCa7O,IAAqB,GAArB,cAA0C,SACxB,gBAAb,eAAKsvB,S,+BADW,GAAY,gBADhC,QACoB,cCdgU,MCOjV,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,kBCGT,SAAU8O,GAAgB9kB,GAC5B,MAAM+kB,EAAI7pC,OAAOsN,aACXV,EAAMi9B,EAAEh9B,QAAQiY,EAAWglB,YACjCD,EAAE17B,OAAOiB,IAAI0V,EAAYlY,EAAM,GAC/Bi9B,EAAEE,eAAen9B,EAAKkY,EAAWtrB,QAAU,IAUzC,SAAUwwC,GAAe7Z,GAAQ,GACnC,OAAO7G,GACHuG,GACI,aACA,GAAQpY,UACRjT,GAAKoU,WAAWzH,KAAK3M,EAAEsgB,YACvB,CACIiL,WAAY,MACZI,QACA,MAAM3rB,GAQF,OAPAkmB,aAAaU,QACT,aACAR,KAAKS,UAAU,CACXrc,SAAU,IAAI7M,KACd2iB,WAAYrgB,MAAM0M,KAAK3M,MAGxBA,KAInB,CACI+rB,QAAS,iCACTC,QAAShsB,GAAK,2CAA2CA,8BACzDisB,OAAQjsB,GAAK,2CAA2CA,MACxDksB,YAAa,MAYnB,SAAUuZ,GAAqB9Z,GAAQ,GACzC,OAAO7G,GACHuG,GACI,eACA,GAAQtY,UACR/S,GAAKA,EAAE0lC,aACP,CACIna,WAAY,MACZI,UAGR,CACII,QAAS,uBACTC,QAAShsB,GAAK,iCAAiCA,8BAC/CisB,OAAQjsB,GAAK,iCAAiCA,MAC9CksB,YAAa,MCzCzB,MAAM,GAAQhG,aAAaC,QAAQ,aAAe,GAElDD,aAAaU,QAAQ,UAAW,IA4BhC,IAAqB,GAArB,cAAiC,GAC7B,cACI,OAAO9lB,KAAK2E,OAAOF,QAGvB,cACI,OAAO,GAGX,sBACI,OAAQ,GAGZ,wBAAwBs1B,GACpB,MAAM8K,EAAU9K,EAAOvgC,IAAI,UAE3B,GAAIqrC,EACA,IAII,aAHM7kC,KAAKmF,QAAQspB,iBAAiBG,GAAaiW,GAAU,oBACrD7kC,KAAK0uB,aAAa,IACxB1uB,KAAK0G,KAAKgc,QAAQ,iCAAkC,GAAG,IAChD,EACT,MAAOnrB,GACLiD,QAAQjC,MAAMhB,GACdyI,KAAK0G,KAAKnO,MAAMhB,EAAIqB,QAAU,mBAGtC,OAAO,EAGX,gBAOI8B,OAAOsN,mBAAqBtN,OAAOoqC,YAEnC9kC,KAAK2E,OAAOkoB,SAAU,EACtB,MAAMkN,EAAS,IAAIgL,gBAAgBrqC,OAAOmH,SAASk4B,QAEnD,GAAIA,EAAOvgC,IAAI,UAAYwY,GAAQnZ,KAC/B,OAAOmH,KAAKmF,QAAQw7B,eAEpB5G,EAAOvgC,IAAI,UAEXwG,KAAK0G,KAAKnO,MAAM,oBAAoBwhC,EAAOvgC,IAAI,sBAE9C,IACDwG,KAAKmE,MAAM+C,uBAIf8b,QAAQgiB,aAAahiB,QAAQ+D,MAAO,UAAW,KAK/C,IAAKke,EAAMC,EAAMC,EAAMC,EAAMC,SAAoBpvC,QAAQ+C,IAAI,CACzD0rC,KACAC,KACA3kC,KAAKqE,SAASihC,gBACdtlC,KAAKmF,QAAQogC,eACbvlC,KAAKmF,QAAQqgC,gBAAgBzL,EAAOvgC,IAAI,WAkB5C,GAdI6rC,IACArlC,KAAKmF,QAAQsgB,YACb2f,QAAaplC,KAAKmF,QAAQogC,gBAGX,SAAfH,EAAK72B,OAAkBvO,KAAK0G,KAAK4c,OAAO8hB,GAE5CplC,KAAK0G,KAAK4c,OAAO2hB,GACbA,EAAK3oB,SAASgoB,GAAiB5pC,OAAO8kB,WAAaylB,EAAK3oB,SAE5Dtc,KAAK0G,KAAK4c,OAAO4hB,GACbA,EAAK5oB,UAAS5hB,OAAOuU,iBAAmB,IAAIrH,EAAas9B,EAAK5oB,UAElEtc,KAAK0G,KAAK4c,OAAO6hB,GACbA,EAAK7oB,QAAS,CACdtc,KAAKqE,SAASgO,UAAY8yB,EAAK7oB,QAC1B,UACKrmB,QAAQ+C,IAAIgH,KAAKqE,SAASgO,UAAUvG,IAAI6Z,GAAO,QAAM1J,OAAO,MAAM0J,EAAInjB,MAEhF,MAAMijC,QAAkBzlC,KAAK0lC,kBAAkB3L,GAC1C0L,IACDzlC,KAAKmF,QAAQwgC,aAAa3lC,KAAKqE,SAASgO,iBAElCrS,KAAK0uB,aAAa,KAGhC1uB,KAAK2E,OAAOkoB,SAAU,EAM1B,iBACI,OAAO7sB,KAAKutB,QAAQrgB,UAAUhU,GAAKA,EAAEkJ,SAASwjC,OAAO5lC,KAAKoC,SAAS2D,kBAMvE,eACI,MAAMgD,EAAM/I,KAAKmG,iBACjB,IAAa,IAAT4C,EACA/I,KAAKutB,QAAQn4B,OAAO2T,EAAK,OACtB,CACH,MAAMgR,EAAQ,KAAY,CAAE2jB,WAAY,SACxC19B,KAAKutB,QAAQ/4B,KAAK,CACd4N,SAAUpC,KAAKoC,SAAS2D,gBACxB00B,YAAaz6B,KAAKmF,QAAQ1C,QAC1B2G,MAAOpJ,KAAKoC,SAASqnB,qBACrB1P,QACAygB,KAAMx6B,KAAKoC,SAASunB,aAtHf,GAAG,gBA1BvB,eAAU,CACP2I,WAAY,CACRyL,YAAA,GACA8H,UAAA,GACAC,UAAA,GACAC,YAAA,GACAC,WAAA,GACAC,eACAC,WAAA,GACAC,YAAA,GACAC,YACAC,UAAA,GACAC,QAAA,GAEAC,YAAa,IAAM,gDAEnBC,WAAA,GACA1I,aAAA,GACAE,cAAA,GAEAyI,aAAA,GACAC,YAAA,GACAC,SAAA,GACAC,aAAA,OAGa,cC5EyR,MCQ1S,I,UAAY,gBACd,GACArjC,EACA6C,GACA,EACA,KACA,KACA,OAIa,M,QCFf,IAAqB,GAArB,cAA0C,GAEtC,eACQpG,KAAK2E,OAAOkoB,QACR7sB,KAAK0G,KAAKoR,SACV9X,KAAK0G,KAAK+b,KAAK,cAGG,eAAlBziB,KAAK0G,KAAKhI,KACVsB,KAAK0G,KAAKK,QAMd,KACJ,GAASqS,YAAcpZ,KAAK2F,QAAQyT,YACpCpZ,KAAKoC,SAAS0rB,cAAa,EAAO,KAI9B,IACJ,GAASzT,gBAAkBra,KAAK2F,QAAQ0U,gBACxCra,KAAKoC,SAAS0rB,cAAa,EAAO,KAI9B,IACJ,GAASrY,OAAS,GAAazV,KAAK2F,QAAQioB,aAAanY,OACzDzV,KAAKoC,SAAS0rB,cAAa,EAAO,KAI9B,IACJ,GAASxV,YAActY,KAAKstB,QAAQhV,YACpCtY,KAAKoC,SAAS0rB,cAAa,EAAO,KAI9B,IACJ1I,aAAaU,QAAQ,iBAAkB9lB,KAAKmF,QAAQ1C,SAIhD,IACJ2iB,aAAaU,QAAQ,WAAYR,KAAKS,UAAU/lB,KAAKmF,QAAQE,WAUzD,KACJrF,KAAKiE,aAID,KACJjE,KAAKiE,aAID,KACJjE,KAAKiE,eAhET,gBADC,eAAM,mB,4BAWN,MAGD,gBADC,eAAM,wB,kBAIN,MAGD,gBADC,eAAM,4B,iBAIN,MAGD,gBADC,eAAM,wB,iBAIN,MAGD,gBADC,eAAM,sBAAuB,CAAEs6B,MAAM,K,iBAIrC,MAGD,gBADC,eAAM,oB,iBAGN,MAGD,gBADC,eAAM,mBAAoB,CAAEA,MAAM,K,iBAGlC,MASD,gBADC,eAAM,UAAW,CAAEA,MAAM,K,kBAGzB,MAGD,gBADC,eAAM,SAAU,CAAEA,MAAM,K,kBAGxB,MAGD,gBADC,eAAM,UAAW,CAAEA,MAAM,K,kBAGzB,MAnEgB,GAAY,gBADhC,QACoB,cCGrB,EAAAnhC,EAAMypC,SAASC,eAAiB,cAChC,EAAA1pC,EAAMypC,SAASE,eAAiB,YA4EhC,OAAIC,UAAU,MAAO,CAEjB,WAEItsC,OAAOusC,SAAS,EAAG,MAI3B,OAAIpY,OAAOqY,eAAgB,EAC3B,OAAIrY,OAAOsY,UAAW,EACtB,OAAI/yC,UAAUwJ,eAAiBA,EAC/B,OAAIxJ,UAAU4vC,kBAAoB,GAElCtpC,OAAOuJ,WAAaA,GACpBvJ,OAAO0sC,SAAW,IAAI,GAEtB,IAAI,OAAI,CACJ,OAAOC,GAGH,OAAOA,EAAE,OAEdC,OAAO,S,yDCvHV,W","file":"js/app.49d99d7d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-51c446b3\":\"ff2652c3\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-51c446b3\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-51c446b3\":\"281424c0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=0&id=e47a4968&scoped=true&lang=css&\"","module.exports = vuedraggable;","module.exports = bootstrap;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSchedule.vue?vue&type=style&index=0&id=237a807f&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrap.vue?vue&type=style&index=0&id=66b9c158&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportView.vue?vue&type=style&index=0&id=a4e4c2e4&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassList.vue?vue&type=style&index=0&id=7ddd6ddf&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=style&index=0&id=823ab73c&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/placeholder.f3a872b4.jpg\";","module.exports = Papa;","module.exports = __webpack_public_path__ + \"img/cover.f46abc3a.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassView.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaletteView.vue?vue&type=style&index=0&id=73b95f5c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseModal.vue?vue&type=style&index=0&id=498d51b5&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrapListItem.vue?vue&type=style&index=0&id=0d97cddd&scoped=true&lang=css&\"","module.exports = jQuery;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionModal.vue?vue&type=style&index=0&lang=css&\"","/* eslint-disable @typescript-eslint/no-use-before-define */\n/**\n * Utilities for parsing and convert in-between different time representations\n * @module src/utils\n */\n\n/**\n *\n */\nimport { Day } from '@/models/constants';\n\n/**\n * convert 24 hour format time to 12 hour format.\n * @author Kaiying Shan\n * @param time the time in 24 hour format\n *\n * Example usage and return value:\n * ```js\n * to12hr('17:00') => '5:00PM'\n * ```\n */\nexport function to12hr(time: string) {\n    const sep = time.split(':');\n    const hr = +sep[0];\n    if (hr === 12) {\n        return time + 'PM';\n    } else if (hr === 0) {\n        return `12:${sep[1]}AM`;\n    } else if (hr < 12) {\n        return time + 'AM';\n    } else {\n        return `${hr - 12}:${sep[1]}PM`;\n    }\n}\n\n/**\n * convert 12 hr to 24 hr\n * @author Hanzhi Zhou\n * @param time\n * Example usage and return value:\n * ```js\n * to12hr('5:00PM') => '17:00'\n * ```\n */\nexport function to24hr(time: string) {\n    const pre = time.substring(0, time.length - 2);\n    const [hour, minute] = pre.split(':');\n\n    const numHour = +hour;\n    const suffix = time.substring(time.length - 2);\n    if (suffix === 'AM' || suffix == 'am') {\n        if (numHour === 12) {\n            return '00:' + minute;\n        } else {\n            return pre;\n        }\n    } else {\n        if (numHour === 12) {\n            return pre;\n        } else {\n            return `${(numHour + 12).toString().padStart(2, '0')}:${minute}`;\n        }\n    }\n}\n\n/**\n * convert `13:00` style time to minutes starting from `00:00`\n * @param time\n */\nexport function hr24toInt(time: string) {\n    const sep = time.split(':');\n    return +sep[0] * 60 + +sep[1];\n}\n\n/**\n * convert `1:00AM` style time to minutes starting from `00:00`\n * @param time\n */\nexport function hr12toInt(time: string) {\n    return hr24toInt(to24hr(time));\n}\n\n/**\n * @author Hanzhi Zhou\n * @param time\n * @returns null when fail to parse\n *\n * Example usage and return value:\n * ```js\n * parseTimeAll('MoWeFr 10:00AM - 11:00AM') => [['Mo', 'We', 'Fr'], [600, 660]]\n * ```\n */\nexport function parseTimeAll(time: string): [Day[], [number, number]] | null {\n    const [days, start, , end] = time.split(' ');\n    if (days && start && end) {\n        const dayList: Day[] = [];\n        for (let i = 0; i < days.length; i += 2) {\n            dayList.push(days.substr(i, 2) as Day);\n        }\n        return [dayList, [hr12toInt(start), hr12toInt(end)]];\n    }\n    return null;\n}\n\n/**\n * parse `08/27/2019 - 12/17/2019` style dates to a tuple of numbers\n * @param date\n */\nexport function parseDate(date: string): [number, number] | undefined {\n    if (typeof date !== 'string') return;\n    const [start, end] = date.split(' - ');\n    if (!start || !end) return;\n    // start month / start day / start year\n    const [sm, sd, sy] = start.split('/');\n    const startDate = Date.UTC(+sy, +sm - 1, +sd);\n    const [em, ed, ey] = end.split('/');\n    const endDate = Date.UTC(+ey, +em - 1, +ed);\n    return [startDate, endDate];\n}\n\n/**\n * calculate the overlap between time block [a, b] and [c, d].\n * @author Hanzhi Zhou\n * @returns\n *  - 0 if only end points touch\n *  - -1 if no overlap\n *  - the area of overlapping region if overlap\n */\nexport function calcOverlap(a: number, b: number, c: number, d: number) {\n    if (c > b || a > d) return -1;\n    return Math.min(b, d) - Math.max(a, c);\n}\n\n/**\n * return the union of the blocks [a, b] and [c, d]\n * @author Hanzhi Zhou\n */\nexport function blockUnion(\n    a: number,\n    b: number,\n    c: number,\n    d: number\n): [number, number] | undefined {\n    if (a <= c && d <= b) return [a, b];\n    else if (c <= a && b <= d) return [c, d];\n    else if (a <= c && c <= b) return [a, d];\n    else if (a <= d && d <= b) return [c, b];\n    return;\n}\n\nexport function intTo24hr(num: number) {\n    return `${Math.floor(num / 60)\n        .toString()\n        .padStart(2, '0')}:${(num % 60).toString().padStart(2, '0')}`;\n}\n","/**\n * miscellaneous utility functions\n * @module src/utils\n */\n\n/**\n *\n */\nimport axios, { AxiosError } from 'axios';\nimport { saveAs } from 'file-saver';\nimport { Match } from '../models/Course';\n\n/**\n * highlight a matched part of a short string given that `match` is not undefined and `match.match === expMatch`\n * @author Hanzhi Zhou\n * @param str the string to inject highlight\n * @param expMatch the expected matched field in match.match\n * @param matches an array of match objects, sorted in numeric order of their `start` property\n */\nexport function highlightMatch<T extends string>(\n    str: string,\n    expMatch: T,\n    matches?: readonly Match<T>[]\n) {\n    if (!matches || !matches.length) return str;\n    let result = '';\n    let lastEnd = 0;\n    for (const { match, start, end } of matches) {\n        if (match === expMatch) {\n            result += `${str.substring(lastEnd, start)}<span class=\"bg-warning\">${str.substring(\n                start,\n                end\n            )}</span>`;\n            lastEnd = end;\n        }\n    }\n    return result + str.substring(lastEnd);\n}\n\n/**\n * Calculate a 32 bit FNV-1a hash\n * @see https://gist.github.com/vaiorabbit/5657561\n * @see http://isthe.com/chongo/tech/comp/fnv/\n * @param str the input string to hash\n * @returns a 32-bit unsigned integer\n */\nexport function hashCode(str: string): number {\n    let hval = 0x811c9dc5;\n\n    for (let i = 0; i < str.length; i++) {\n        hval ^= str.charCodeAt(i);\n        hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\n    }\n    return hval >>> 0;\n}\n\n/**\n * wrap a promise and return a new promise with a `cancel` method\n * @author Hanzhi Zhou\n * @param promise\n */\nexport function cancelablePromise<T>(promise: Promise<T>) {\n    let cancel: Cancel;\n    const p = new Promise((resolve, reject) => {\n        promise.then(res => resolve(res)).catch(err => reject(err));\n        cancel = reason => reject(reason);\n    }) as CancelablePromise<T>;\n    p.cancel = cancel!;\n    return p;\n}\n\n/**\n * Apply timeout on a promise\n *\n * @author Hanzhi Zhou\n * @param promise the promise to apply the timeout on\n * @param time time in millisecond\n * @param msg the error message on time out\n */\nexport function timeout<T>(\n    promise: Promise<T>,\n    time: number,\n    msg = 'Time out fetching data. Please try again later'\n): Promise<T> {\n    if (time > 0) {\n        const p = cancelablePromise(promise);\n        setTimeout(() => p.cancel(msg), time);\n        return p;\n    } else return promise;\n}\n\ntype Cancel = (msg: any) => void;\nexport interface CancelablePromise<T> extends Promise<T> {\n    cancel: Cancel;\n}\n\n/**\n * save a string a as text file\n * @author Hanzhi Zhou\n * @param str the string to save as a file\n * @param filename\n */\nexport function savePlain(str: string, filename: string) {\n    saveAs(new Blob([str], { type: 'text/plain;charset=utf-8' }), filename);\n}\n\n/**\n * convert an (axios request) error to string message\n * @param err\n * @author Hanzhi Zhou\n */\nexport function errToStr(err: string | AxiosError) {\n    let errStr = '';\n    if (typeof err === 'string') errStr += err;\n    else if (err.response) errStr += `request rejected by the server`;\n    else if (err.request) errStr += `No internet`;\n    else errStr += err.message;\n    return errStr;\n}\n\nexport function isNumberArray(x: any): x is number[] {\n    return Array.isArray(x) && typeof x[0] === 'number';\n}\n\nexport function isStringArray(x: any): x is string[] {\n    return x instanceof Array && typeof x[0] === 'string';\n}\n\n/**\n * Get release note for current version && render.\n * Part of this function can be seen as an extremely-lightweight MarkDown renderer.\n * @author Kaiying Shan\n */\nexport async function getReleaseNote() {\n    try {\n        const res = await axios.get(\n            'https://api.github.com/repos/awesome-schedule/plannable/releases'\n        );\n\n        const promises = [];\n        const notes: string[] = [];\n\n        for (let i = 0; i < Math.min(3, res.data.length); i++) {\n            promises.push(\n                axios.post('https://api.github.com/markdown', {\n                    text: res.data[i].body,\n                    mode: 'gfm',\n                    context: 'github/gollum'\n                })\n            );\n        }\n\n        await Promise.all(promises).then(values => {\n            for (let i = 0; i < values.length; i++) {\n                notes.push(\n                    '<div class=\"card\"> <div class=\"card-body\"> <div class=\"card-title\"> <h6 style=\"list-style:none; padding-left: 0\">' +\n                        res.data[i].name +\n                        '</h6> <hr> </div>' +\n                        values[i].data +\n                        '</div> </div>'\n                );\n            }\n        });\n\n        return notes.join('<br>');\n    } catch (err) {\n        console.error(err);\n        return (\n            'Failed to obtain release note.' +\n            ' See https://github.com/awesome-schedule/plannable/releases instead.'\n        );\n    }\n}\n\nexport class GeneratedError extends Error {\n    constructor(message: string) {\n        super(message);\n        this.name = 'GeneratedError';\n    }\n}\n","export const dayToInt = Object.freeze({\n    Mo: 0,\n    Tu: 1,\n    We: 2,\n    Th: 3,\n    Fr: 4,\n    Sa: 5,\n    Su: 6\n});\n\nexport type Day = keyof typeof dayToInt;\n\nexport const DAYS = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'] as const;\n","/**\n * utilities for converting a schedule to a corresponding iCalendar file\n * @module src/utils\n * @todo need testing\n * @author Kaiying Shan\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport Meeting from '@/models/Meeting';\nimport Schedule from '@/models/Schedule';\nimport { Day, dayToInt } from '@/models/constants';\nimport { hr12toInt } from './time';\n\nfunction dateToICalString(date: Date) {\n    return (\n        date.getUTCFullYear() +\n        (date.getUTCMonth() + 1).toString().padStart(2, '0') +\n        date\n            .getUTCDate()\n            .toString()\n            .padStart(2, '0') +\n        'T' +\n        date\n            .getUTCHours()\n            .toString()\n            .padStart(2, '0') +\n        date\n            .getUTCMinutes()\n            .toString()\n            .padStart(2, '0') +\n        date\n            .getUTCSeconds()\n            .toString()\n            .padStart(2, '0')\n    );\n}\n\nfunction calcStartDate(prevStart: Date, day: Day) {\n    const dayOffset = (dayToInt[day] + 7 - prevStart.getDay()) % 7;\n    return new Date(prevStart.getTime() + dayOffset * 1000 * 60 * 60 * 24);\n}\n\nfunction toICalEventString(\n    event: Event | Meeting,\n    uid: string,\n    startDate: Date,\n    until: Date,\n    summary: string,\n    description: string,\n    location: string\n) {\n    const [day, s, , e] = event.days.split(' ');\n    const startMin = hr12toInt(s);\n    const endMin = hr12toInt(e);\n\n    const days: Day[] = [];\n    for (let i = 0; i < day.length; i += 2) {\n        days.push(day.substr(i, 2) as Day);\n    }\n    startDate = calcStartDate(startDate, days[0]);\n\n    console.log(startMin, endMin);\n\n    // const timeZone = ';TZID=America/New_York';\n    const timeZone = '';\n    let ical = 'BEGIN:VEVENT\\r\\n';\n    ical += `UID:${uid}\\r\\n`;\n    ical += `DTSTAMP${timeZone}:${dateToICalString(new Date())}\\r\\n`;\n    ical += `DTSTART${timeZone}:${dateToICalString(\n        new Date(startDate.getTime() + startMin * 60 * 1000)\n    )}\\r\\n`;\n    ical += `DTEND${timeZone}:${dateToICalString(\n        new Date(startDate.getTime() + endMin * 60 * 1000)\n    )}\\r\\n`;\n    ical += `SUMMARY:${summary}\\r\\n`;\n    ical += `RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY=${days\n        .join(',')\n        .toUpperCase()};UNTIL=${dateToICalString(until)}\\r\\n`;\n    ical += `DURATION=${endMin - startMin}\\r\\n`;\n    ical += `DESCRIPTION:${description}\\r\\n`;\n    ical += `LOCATION:${location}\\r\\n`;\n    ical += 'END:VEVENT\\r\\n';\n    return ical;\n}\n\n/**\n * Convert a schedule to iCalendar format.\n * @see https://icalendar.org/\n * @param schedule Schedule object to be parsed into iCalendar format.\n * @return a string of iCalendar format\n */\nexport function toICal(schedule: Schedule) {\n    let ical = 'BEGIN:VCALENDAR\\r\\nVERSION:2.0\\r\\nPRODID:plannable\\r\\n';\n    // ical += 'BEGIN:VTIMEZONE\\r\\nTZID:America/New_York\\r\\nBEGIN:STANDARD\\r\\n';\n    // ical += 'END:STANDARD\\r\\nEND:VTIMEZONE\\r\\n';\n    let startDate: Date, endDate: Date;\n    for (const { dateArray } of window.catalog.sections) {\n        if (dateArray) {\n            startDate = new Date(dateArray[0]);\n            endDate = new Date(dateArray[1] + 1000 * 60 * 60 * 24);\n            break;\n        }\n    }\n\n    for (const [id] of schedule.current.ids) {\n        const parsed = parseInt(id);\n        if (isNaN(parsed)) continue;\n\n        const sec = window.catalog.getSectionById(parsed);\n        if (!sec.dateArray) continue;\n        startDate = new Date(sec.dateArray[0]);\n        endDate = new Date(sec.dateArray[1] + 1000 * 60 * 60 * 24);\n\n        for (const meeting of sec.meetings) {\n            try {\n                ical += toICalEventString(\n                    meeting,\n                    `class-number-${id}`,\n                    startDate,\n                    endDate,\n                    sec.displayName,\n                    sec.title,\n                    meeting.room\n                );\n            } catch (e) {\n                // error parsing time. probably TBA/TBD/Web based\n                console.warn(e);\n            }\n        }\n    }\n\n    for (const event of schedule.events) {\n        ical += toICalEventString(\n            event,\n            `event-${event.key}`,\n            startDate!,\n            endDate!,\n            event.title ?? 'no title',\n            event.description ?? 'no description',\n            event.room ?? 'no room'\n        );\n    }\n    ical += 'END:VCALENDAR';\n    console.log(ical);\n    return ical;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-100\",attrs:{\"id\":\"app\"},on:{\"change\":function($event){return _vm.saveStatus()}}},[_c('version-modal',{attrs:{\"version\":_vm.version}}),_c('course-modal',{attrs:{\"course\":_vm.modal.course,\"match\":_vm.modal.match,\"semester\":_vm.semester.current}}),_c('section-modal',{attrs:{\"semester\":_vm.semester.current,\"section\":_vm.modal.section}}),_c('URL-modal',{attrs:{\"url\":_vm.modal.url}}),_c('nav',{staticClass:\"tab-bar bg-light\"},[_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showSelectClass },attrs:{\"title\":\"Select Classes\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSelectClass')}}},[_c('i',{staticClass:\"far fa-calendar-alt\"})]),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showFuzzy },attrs:{\"title\":\"Fuzzy Search\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showFuzzy')}}},[_c('i',{staticClass:\"fas fa-search\"})]),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showEvent },attrs:{\"title\":\"Edit Events\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showEvent')}}},[_c('i',{staticClass:\"fab fa-elementor\"})]),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showFilter },attrs:{\"title\":\"Filters\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showFilter')}}},[_c('i',{staticClass:\"fas fa-filter\"})]),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showSetting },attrs:{\"title\":\"Display Settings\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSetting')}}},[_c('i',{staticClass:\"fas fa-cog\"})]),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showSelectColor },attrs:{\"title\":\"Customize Colors\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSelectColor')}}},[_c('i',{staticClass:\"fas fa-palette\"})]),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showExport },attrs:{\"title\":\"Import/Export Schedule\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showExport')}}},[_c('i',{staticClass:\"fas fa-download\"}),(!_vm.profile.tokenType && _vm.profile.profiles.some(function (p) { return p.remote; }))?_c('div',{staticClass:\"badge text-warning\",staticStyle:{\"position\":\"absolute\",\"top\":\"0.75rem\",\"right\":\"0px\",\"font-size\":\"14px\"},attrs:{\"title\":\"Some profiles are marked as synced, but you've been logged out.\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e()]),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showCompare },attrs:{\"title\":\"Compare\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showCompare')}}},[_c('i',{staticClass:\"fas fa-balance-scale\"})]),(_vm.display.enableLog)?_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showLog },attrs:{\"title\":\"Show logs\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showLog')}}},[_c('i',{staticClass:\"fas fa-stream\"})]):_vm._e(),(_vm.showInformation)?_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showInfo },attrs:{\"title\":\"Website guide and miscellaneous information\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showInfo')}}},[_c('i',{staticClass:\"fas fa-info-circle\"})]):_vm._e(),_c('div',{staticClass:\"tab-icon pt-4\",class:{ 'tab-icon-active': _vm.sideBar.showExternal },attrs:{\"title\":\"Blank Page\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showExternal')}}},[_c('i',{staticClass:\"fas fa-bullhorn\"})])]),(_vm.sideBar.showSelectClass)?_c('class-view'):(_vm.sideBar.showFuzzy)?_c('fuzzy-view'):(_vm.sideBar.showEvent)?_c('event-view'):(_vm.sideBar.showFilter)?_c('filter-view'):(_vm.sideBar.showSetting)?_c('display-view'):(_vm.sideBar.showExport)?_c('export-view'):(_vm.sideBar.showSelectColor)?_c('palette-view'):(_vm.sideBar.showCompare)?_c('compare-view'):(_vm.sideBar.showInfo)?_c('information'):(_vm.sideBar.showExternal)?_c('external'):(_vm.sideBar.showLog)?_c('log-view'):_vm._e(),(!_vm.sideBar.showInfo && !_vm.sideBar.showExternal && !_vm.sideBar.showCompare)?_c('main-content',[_c('div',{staticClass:\"w-100 mb-2 row justify-content-center mt-1\",attrs:{\"id\":\"pg\"}},[(_vm.schedule.generated)?_c('div',{staticClass:\"col-sm-auto text-center\"},[_c('Pagination')],1):_vm._e(),_c('date-separator',{staticClass:\"col-sm-auto text-center\",attrs:{\"cur-schedule\":_vm.schedule.currentSchedule},on:{\"update-select\":function($event){return _vm.schedule.currentSchedule.computeSchedule()}}}),(_vm.schedule.generated)?_c('div',{staticClass:\"col-sm-auto text-center align-self-center\"},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.addToCompare()}}},[_c('i',{staticClass:\"fas fa-balance-scale\"}),_vm._v(\" Compare \"),(_vm.indexOfCompare() !== -1)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])]):_vm._e()],1),_c('grid-schedule',{attrs:{\"schedule-days\":_vm.schedule.currentSchedule.days}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"schedule mt-2\",style:({\n        width: _vm.scheduleWidth + 'vw',\n        'margin-left': (_vm.status.isMobile ? 11 : _vm.scheduleLeft) + 'vw'\n    })},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.noti.msg.length > 0)?_c('div',{directives:[{name:\"top\",rawName:\"v-top\"}],staticClass:\"alert my-1 mx-auto\",class:(\"alert-\" + (_vm.noti.cls)),staticStyle:{\"width\":\"85%\"},attrs:{\"id\":\"noti\"}},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-md-11\",domProps:{\"innerHTML\":_vm._s(_vm.noti.msg)}}),_c('div',{staticClass:\"col-md-1\"},[_c('button',{staticClass:\"close\",staticStyle:{\"align\":\"center\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.noti.clear()}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])])]):_vm._e()]),_vm._t(\"default\"),_vm._m(0),_c('div',{attrs:{\"id\":\"footer-org\"}},[_vm._v(\" ©2019-2021 — \"),_c('strong',[_vm._v(\"Plannable v\"+_vm._s(_vm.version))]),_c('a',{staticClass:\"ml-4\",attrs:{\"href\":\"javascript:void\"},on:{\"click\":function($event){return _vm.modal.showReleaseNoteModal()}}},[_vm._v(\" View release note \")])])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer-link\"}},[_c('div',{staticClass:\"row justify-content-between w-100\"},[_c('div',{staticClass:\"col-xs-auto pl-3 align-self-center\",staticStyle:{\"font-size\":\"1.1rem\"}},[_vm._v(\" Follow us on GitHub, submit a bug report by opening an issue or filling the google form. \")]),_c('div',{staticClass:\"col-xs-auto align-self-center\"},[_c('a',{staticClass:\"mr-5 link-btn\",attrs:{\"target\":\"_blank\",\"title\":\"Checkout our GitHub site to watch/star/fork\",\"href\":\"https://github.com/awesome-schedule/plannable/\"}},[_c('i',{staticClass:\"fab fa-github\"})]),_c('a',{staticClass:\"ml-4 mr-5 link-btn\",attrs:{\"target\":\"_blank\",\"title\":\"Submit a bug report\",\"href\":\"https://forms.gle/z8pNs8JtYbZ9dveC8\"}},[_c('i',{staticClass:\"fas fa-exclamation-circle\"})])])])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/algorithm\n * @author Hanzhi Zhou\n */\n\n/**\n * The structure of the object used to store search results\n */\nexport interface SearchResult<K = string> {\n    /** the score of this result */\n    score: number;\n    /** a flat array of pairs indicating the indices of match. [1,2,7,9] means that the indices [1, 2) and [7, 9) of the string are matched */\n    matches: Int32Array;\n    /** index of the item in the original list */\n    index: number;\n    /** some arbitrary data associated with this item */\n    data: K;\n}\n\nfunction allocateStr(Module: EMModule, str: string) {\n    // TODO: handle complete UTF-8\n    // stringToUT8 will write exactly strLen number of bytes only if str contains ASCII characters only\n    const strLen = str.length + 1;\n    const ptr = Module._malloc(strLen);\n    Module.stringToUTF8(str, ptr, strLen);\n    return ptr;\n}\n\n/**\n * sanitize a query string, copy it to the WebAssembly heap and returns a pointer to it\n * returns -1 if query is shorter than gramLen\n */\nfunction prepareQuery(Module: EMModule, query: string, gramLen: number) {\n    if (query.length < gramLen) return -1;\n    return allocateStr(Module, query);\n}\n\n/**\n * Fast searcher for fuzzy search among a list of strings\n */\nexport class FastSearcher<T, K = string> {\n    public readonly originals: string[] = [];\n    /** internal pointer to the FastSearcher instance on WASM heap */\n    private readonly ptr: number;\n    constructor(\n        items: readonly T[],\n        toStr: (a: T) => string = x => x as any,\n        public data: K = '' as any\n    ) {\n        const Module = window.NativeModule;\n        const strArrPtr = Module._malloc(items.length * 4);\n        for (let i = 0; i < items.length; i++) {\n            const str = toStr(items[i]);\n            this.originals.push(str);\n            //eslint-disable-next-line\n            Module.HEAPU32[strArrPtr / 4 + i] = allocateStr(Module, str.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \" \").toLowerCase());\n        }\n        this.ptr = Module._getSearcher(strArrPtr, items.length);\n    }\n\n    sWSearch(query: string, numResults: number, gramLen = 2, threshold = 0.1) {\n        const Module = window.NativeModule;\n        const ptr = prepareQuery(Module, query, gramLen);\n        const allMatches: SearchResult<K>[] = [];\n        if (ptr === -1) return allMatches;\n\n        const resultPtr = Module._sWSearch(this.ptr, ptr, numResults, gramLen, threshold) / 4;\n        const total = Math.min(numResults, this.originals.length);\n        const idxArr = Module.HEAP32.subarray(resultPtr, resultPtr + total);\n        for (let i = 0; i < total; i++) {\n            const idx = idxArr[i];\n            const matchPtr = Module._getMatches(this.ptr, idx) / 4;\n            allMatches.push({\n                score: Module._getScore(this.ptr, idx),\n                index: idx,\n                data: this.data,\n                matches: Module.HEAP32.subarray(\n                    matchPtr,\n                    matchPtr + Module._getMatchSize(this.ptr, idx) * 2\n                )\n            });\n        }\n        return allMatches;\n    }\n\n    /**\n     * @param query\n     * @returns [best match index, score of the best match]\n     */\n    public findBestMatch(query: string): readonly [number, number] {\n        const Module = window.NativeModule;\n        const ptr = prepareQuery(Module, query, 2);\n        if (ptr === -1) return [0, 0.0];\n\n        const idx = Module._findBestMatch(this.ptr, ptr);\n        return [idx, Module._getScore(this.ptr, idx)];\n    }\n\n    public toJSON() {\n        return this.originals;\n    }\n}\n\n(window as any).FastSearcher = FastSearcher;\n","// note: this is the description for the entire module.\n/**\n * models and data structures used across the website\n * @module src/models\n * @preferred\n */\n\n/**\n *\n */\nimport Course, { Match } from './Course';\nimport Schedule from './Schedule';\nimport Section, { SectionMatch } from './Section';\nimport { FastSearcher, SearchResult } from '@/algorithm/Searcher';\n/**\n * represents a semester\n */\nexport interface SemesterJSON {\n    /**\n     * semester id, e.g. `1198`\n     */\n    readonly id: string;\n    /**\n     * semester name, e.g. Fall 2019\n     */\n    readonly name: string;\n}\n\n/**\n * the match entry for a [[Course]]\n *\n * 0: the array of matches for the fields of this Course\n *\n * 1: the Map that maps [[Section.id]] to the array of matches for the fields of that section\n */\nexport type SearchMatch = [Match<'key' | 'title' | 'description'>[], Map<number, SectionMatch[]>];\n\ntype CourseSearchResult = SearchResult<'title' | 'description'>;\ntype SectionSearchResult = SearchResult<'topic' | 'instructors' | 'rooms'>;\n\ninterface ScoreEntry {\n    courseScore: number;\n    courseResults: CourseSearchResult[];\n    sectionScore: number;\n    sectionMap: Map<number, SectionSearchResult[]>;\n}\n\nconst scores = new Map<string, ScoreEntry>();\n\nfunction toMatches<T extends string>(matches: SearchResult<T>[]) {\n    const allMatches: Match<T>[] = [];\n    for (const { data, matches: m } of matches) {\n        for (let i = 0; i < m.length; i += 2) {\n            allMatches.push({\n                match: data,\n                start: m[i],\n                end: m[i + 1]\n            });\n        }\n    }\n    return allMatches;\n}\n\n/**\n * Catalog wraps the raw data of a semester, providing methods to access and search for courses/sections\n * @author Hanzhi Zhou\n */\nexport default class Catalog {\n    /**\n     * a mapping from course key to courses\n     */\n    public readonly courseDict: { readonly [courseKey: string]: Course };\n    /**\n     * array of all courses. equal to `Object.values(this.courseDict)`\n     */\n    public readonly courses: readonly Course[];\n    /**\n     * array of all sections. equal to\n     * ```js\n     * this.courses.flatMap(c => c.sections)\n     * ```\n     */\n    public readonly sections: readonly Section[];\n    /**\n     * a map from section id to section instance\n     */\n    private readonly sectionMap: Map<number, Section>;\n\n    private titleSearcher: FastSearcher<Course, 'title'>;\n    private descriptionSearcher: FastSearcher<Course, 'description'>;\n    private topicSearcher: FastSearcher<Section, 'topic'>;\n    private instrSearcher: FastSearcher<Section, 'instructors'>;\n    private roomSearcher: FastSearcher<Section, 'rooms'>;\n    /**\n     * @param semester the semester corresponding to the catalog stored in this object\n     * @param data\n     * @param modified\n     */\n    constructor(\n        public readonly semester: SemesterJSON,\n        data: ReturnType<Catalog['data']>,\n        public readonly modified: number\n    ) {\n        console.time('catalog prep');\n        [this.courseDict, this.courses, this.sections] = data;\n        this.sectionMap = new Map();\n        for (const sec of this.sections) {\n            this.sectionMap.set(sec.id, sec);\n        }\n        this.titleSearcher = new FastSearcher(this.courses, obj => obj.title, 'title');\n        this.descriptionSearcher = new FastSearcher(\n            this.courses,\n            obj => obj.description,\n            'description'\n        );\n        this.topicSearcher = new FastSearcher(this.sections, obj => obj.topic, 'topic');\n        this.instrSearcher = new FastSearcher(this.sections, obj => obj.instructors, 'instructors');\n        this.roomSearcher = new FastSearcher(this.sections, obj => obj.rooms, 'rooms');\n        console.timeEnd('catalog prep');\n    }\n\n    /**\n     * only for type reflection and testing\n     */\n    private data() {\n        return [this.courseDict, this.courses, this.sections] as const;\n    }\n\n    /**\n     * Get a Course associated with the given key\n     *\n     * you may specify a set of section indices so that you can\n     * only obtain a subset of the original course sections\n     */\n    public getCourse(key: string, sections?: number[] | Set<number> | -1) {\n        const course = this.courseDict[key];\n        if (!sections || sections === -1) return course;\n        if (sections instanceof Array) return course.getCourse(sections);\n        else return course.getCourse([...sections]);\n    }\n\n    /**\n     * Get a section given its section id\n     */\n    public getSectionById(id: number) {\n        const sec = this.sectionMap.get(id);\n        if (!sec) throw new Error('Non-existent id ' + id);\n        return sec;\n    }\n\n    /**\n     * convert `cs11105` style key to `CS 1110 Lecture`\n     *\n     * convert key of an event (e.g. `MoFr 1:00PM - 2:00PM`) to its title\n     */\n    convertKey(key: string, schedule?: Schedule) {\n        const course = this.courseDict[key];\n        if (course) return course.displayName;\n        else if (schedule) {\n            const event = schedule.events.find(e => e.key === key);\n            if (event) return event.title === '' ? key : event.title;\n            else return key;\n        }\n    }\n\n    private processCourseResults(results: CourseSearchResult[], weight: number) {\n        for (const result of results) {\n            const { key } = this.courses[result.index];\n            const score = result.score * weight;\n\n            const temp = scores.get(key);\n            if (temp) {\n                temp.courseScore += score;\n                temp.courseResults.push(result);\n            } else {\n                // if encounter this course for the first time\n                scores.set(key, {\n                    courseScore: score,\n                    courseResults: [result],\n                    sectionScore: 0.0,\n                    sectionMap: new Map()\n                });\n            }\n        }\n    }\n\n    private processSectionResults(results: SectionSearchResult[], weight: number) {\n        for (const result of results) {\n            const { key, id } = this.sections[result.index];\n            const score = result.score * weight;\n\n            const scoreEntry = scores.get(key);\n            if (!scoreEntry) {\n                scores.set(key, {\n                    courseScore: 0.0,\n                    courseResults: [],\n                    sectionScore: score,\n                    sectionMap: new Map().set(id, [result])\n                });\n            } else {\n                scoreEntry.sectionScore += score;\n                const secResults = scoreEntry.sectionMap.get(id);\n                if (secResults) {\n                    secResults.push(result);\n                } else {\n                    scoreEntry.sectionMap.set(id, [result]);\n                }\n            }\n        }\n    }\n\n    private prepQuery(query: string) {\n        query = query.trim().toLowerCase();\n        const temp = query.split(/\\s+/);\n        query = temp.join(' ');\n\n        /** query no space*/\n        let queryNoSp: string;\n        let field = '';\n        /** is special search*/\n        if (query.startsWith(':')) {\n            field = temp[0].substring(1);\n            const rest = temp.slice(1);\n            queryNoSp = rest.join('');\n            query = rest.join(' ');\n        } else {\n            queryNoSp = temp.join('');\n        }\n\n        return [query, field, queryNoSp] as const;\n    }\n\n    public fuzzySearch(_query: string) {\n        console.time('search');\n        const [query, field] = this.prepQuery(_query);\n        if (!field || field.startsWith('title'))\n            this.processCourseResults(this.titleSearcher.sWSearch(query, 100), 1.0);\n        if (!field || field.startsWith('desc'))\n            this.processCourseResults(this.descriptionSearcher.sWSearch(query, 100), 0.5);\n        if (!field || field.startsWith('topic'))\n            this.processSectionResults(this.topicSearcher.sWSearch(query, 100), 1.0);\n        if (!field || field.startsWith('prof'))\n            this.processSectionResults(this.instrSearcher.sWSearch(query, 100), 0.5);\n        if (field.startsWith('room'))\n            this.processSectionResults(this.roomSearcher.sWSearch(query, 100), 1.0);\n\n        // sort courses in descending order; section score is normalized before added to course score\n        const scoreEntries = Array.from(scores)\n            .map(\n                ([_, a]) =>\n                    [\n                        _,\n                        a.courseScore + (a.sectionMap.size && a.sectionScore / a.sectionMap.size)\n                    ] as const\n            )\n            .sort((a, b) => b[1] - a[1])\n            .slice(0, 12)\n            .filter(entry => entry[1] > 0.001);\n        const finalResults: Course[] = [];\n        const allMatches: SearchMatch[] = [];\n\n        // merge course and section matches\n        for (const [key] of scoreEntries) {\n            const temp = scores.get(key)!;\n            const secMatches = new Map<number, SectionMatch[]>();\n\n            // convert section matches\n            for (const [id, matches] of temp.sectionMap) secMatches.set(id, toMatches(matches));\n\n            if (temp.courseResults.length) {\n                finalResults.push(this.getCourse(key, -1));\n                allMatches.push([toMatches(temp.courseResults), secMatches]);\n            } else {\n                // only section match exists\n                finalResults.push(this.getCourse(key, [...secMatches.keys()]));\n                allMatches.push([[], secMatches]);\n            }\n        }\n        // console.log(finalResults, allMatches);\n\n        scores.clear();\n        console.timeEnd('search');\n        return [finalResults, allMatches] as const;\n    }\n\n    /**\n     * Perform a linear search in the catalog against\n     * course number, title, topic, professor name and description, in the order specified.\n     * @param _query\n     * @param maxResults\n     */\n    public search(_query: string, maxResults = 6): [Course[], SearchMatch[]] {\n        const [query, field, queryNoSp] = this.prepQuery(_query);\n\n        const results: Course[] = [];\n        const matches: SearchMatch[] = [];\n        const courses = this.courses;\n        const len = courses.length;\n\n        if (!field || field === 'num' || field === 'key')\n            for (let i = 0; i < len; i++) {\n                this.searchKey(queryNoSp, courses[i], results, matches);\n                if (results.length >= maxResults) return [results, matches];\n            }\n\n        if (!field || field.startsWith('title'))\n            for (let i = 0; i < len; i++) {\n                this.searchField(query, 'title', courses[i], results, matches);\n                if (results.length >= maxResults) return [results, matches];\n            }\n\n        if (!field || field.startsWith('topic'))\n            for (let i = 0; i < len; i++) {\n                this.searchSectionField(query, 'topic', courses[i], results, matches);\n                if (results.length >= maxResults) return [results, matches];\n            }\n\n        if (!field || field.startsWith('prof'))\n            for (let i = 0; i < len; i++) {\n                this.searchSectionField(query, 'instructors', courses[i], results, matches);\n                if (results.length >= maxResults) return [results, matches];\n            }\n\n        if (!field || field.startsWith('desc'))\n            for (let i = 0; i < len; i++) {\n                this.searchField(query, 'description', courses[i], results, matches);\n                if (results.length >= maxResults) return [results, matches];\n            }\n\n        if (!field || field.startsWith('room'))\n            for (let i = 0; i < len; i++) {\n                this.searchSectionField(query, 'rooms', courses[i], results, matches);\n                if (results.length >= maxResults) return [results, matches];\n            }\n        return [results, matches];\n    }\n\n    private searchKey(\n        queryNoSp: string,\n        course: Course,\n        results: Course[],\n        matches: SearchMatch[]\n    ) {\n        const key = course.key;\n        const keyIdx = key.indexOf(queryNoSp);\n        // match with the course number\n        if (keyIdx !== -1) {\n            const deptLen = course.department.length;\n            const end = keyIdx + queryNoSp.length;\n            results.push(course);\n            matches.push([\n                [\n                    {\n                        match: 'key',\n                        start: keyIdx + +(keyIdx >= deptLen),\n                        end: end + +(end > deptLen)\n                    }\n                ],\n                new Map()\n            ]);\n        }\n    }\n\n    private searchField(\n        query: string,\n        field: 'title' | 'description',\n        course: Course,\n        results: Course[],\n        matches: SearchMatch[]\n    ) {\n        const target = course[field].toLowerCase();\n        const key = course.key;\n        const targetIdx = target.indexOf(query);\n        if (targetIdx !== -1) {\n            const prev = results.findIndex(x => x.key === key);\n            const match = {\n                match: field,\n                start: targetIdx,\n                end: targetIdx + query.length\n            };\n            if (prev !== -1) {\n                matches[prev][0].push(match);\n            } else {\n                results.push(course);\n                matches.push([[match], new Map()]);\n            }\n        }\n    }\n\n    private searchSectionField(\n        query: string,\n        field: 'topic' | 'instructors' | 'rooms',\n        course: Course,\n        results: Course[],\n        matches: SearchMatch[]\n    ) {\n        // check any topic/professor match. Select the sections which only match the topic/professor\n        const secMatches = new Map<number, [SectionMatch]>();\n        for (const sec of course.sections) {\n            const mIdx = sec[field].toLowerCase().indexOf(query);\n            if (mIdx !== -1) {\n                secMatches.set(sec.id, [\n                    {\n                        match: field,\n                        start: mIdx,\n                        end: mIdx + query.length\n                    }\n                ]);\n            }\n        }\n        if (secMatches.size) this.appendToResult(course, secMatches, results, matches);\n    }\n\n    private appendToResult(\n        course: Course,\n        matches: Map<number, SectionMatch[]>,\n        results: Course[],\n        allMatches: SearchMatch[]\n    ) {\n        const prev = results.findIndex(x => x.key === course.key);\n        if (prev !== -1) {\n            results[prev] = course.getCourse([\n                ...new Set(course.ids.concat([...matches.keys()])) // merge sids and eliminate duplicates\n            ]);\n            // merge the section matches with the previously recorded section matches\n            const combSecMatches = allMatches[prev][1];\n            for (const [id, mats] of matches) {\n                const prevMats = combSecMatches.get(id);\n                if (prevMats) prevMats.push(...mats);\n                else combSecMatches.set(id, mats);\n            }\n        } else {\n            results.push(course.getCourse([...matches.keys()]));\n            allMatches.push([[], matches]);\n        }\n    }\n}\n","/**\n * @author Hanzhi Zhou\n * @module src/models\n */\n\n/**\n *\n */\nimport { CourseType } from '../config';\nimport { hashCode } from '../utils';\nimport Hashable from './Hashable';\nimport Section from './Section';\n\n/**\n * represents all public information of a Course\n */\nexport interface CourseFields {\n    /**\n     * the key of the course. must be globally unique for all courses, e.g. cs11105\n     * composed of three parts:\n     * 1. lowercase department letter, e.g. cs\n     * 2. course number, e.g. 1110\n     * 3. course type index, e.g. 5., corresponding to [[TYPES]]\n     */\n    readonly key: string;\n    /**\n     * department name, short form, all capitalized. e.g `CS`\n     */\n    readonly department: string;\n    /**\n     * Course number, e.g. `2150`\n     */\n    readonly number: number;\n    /**\n     * One of the keys of [[TYPES_PARSE]]\n     */\n    readonly type: string;\n    /**\n     * Units (credits), usually a number, but could be a range represented as a string like value\n     * @example\n     * \"1\", \"3\", \"2.5\", \"1 - 12\"\n     */\n    readonly units: string;\n    /**\n     * one line title for the course, e.g. \"Principle of Microeconomics\"\n     */\n    readonly title: string;\n    /**\n     * a full description of the course\n     */\n    readonly description: string;\n}\n\n/**\n * a match result (from searcher)\n * @typeparam T the field name of the course/section that matches the search query\n */\nexport interface Match<T extends string> {\n    readonly match: T;\n    /**\n     * start index of the match\n     */\n    readonly start: number;\n    /**\n     * end index + 1 of the match\n     */\n    readonly end: number;\n}\n\n/**\n * the model of a Course that has multiple sections. A Course object may have all or a subset of the sections,\n * depending on the array of section indices passed to its constructor.\n *\n * All course instances are immutable\n */\nexport default class Course implements CourseFields, Hashable {\n    public readonly key: string;\n    public readonly department: string;\n    public readonly number: number;\n    public readonly type: CourseType;\n    public readonly units: string;\n    public readonly title: string;\n    public readonly description: string;\n\n    /**\n     * Array of sections contained in this object.\n     * Can be all sections or a subset or the sections. This property is **non-enumerable**\n     */\n    public readonly sections: Section[];\n\n    /**\n     * this constructor is only used to create a copy of a course with all or a selected subset of sections.\n     * Original course instances are created through `Object.create` and are not constructed by this constructor.\n     * @param course the full-course that will be copied\n     * @param ids A list of section indices for specifying the subset of sections contained in this course\n     */\n    constructor(course: Course, public readonly ids: number[]) {\n        this.key = course.key;\n        this.department = course.department;\n        this.number = course.number;\n        this.type = course.type;\n        this.units = course.units;\n        this.title = course.title;\n        this.description = course.description;\n        this.sections = ids.map(id => {\n            const sec = course.sections.find(s => s.id === id);\n            if (!sec) throw new Error('Non-existent id ' + id);\n            return sec;\n        });\n    }\n    /**\n     * human readable name for this course, e.g. ECON 2010 Lecture\n     */\n    get displayName() {\n        return `${this.department} ${this.number} ${this.type}`;\n    }\n    get displayNameNoType() {\n        return `${this.department} ${this.number}`;\n    }\n\n    /**\n     * Get the Course containing only the given sections\n     */\n    public getCourse(ids: number[]) {\n        return new Course(this, ids);\n    }\n\n    public getSectionById(id: number) {\n        const sec = this.sections.find(s => s.id === id);\n        if (!sec) throw new Error('Non-existent id ' + id);\n        return sec;\n    }\n\n    /**\n     * whether all sections of this Course occur at the same time\n     */\n    public allSameTime() {\n        const sections = this.sections;\n        for (let i = 0; i < sections.length - 1; i++) {\n            if (!sections[i].sameTimeAs(sections[i + 1])) return false;\n        }\n        return true;\n    }\n\n    /**\n     * Get an object in which the key is the date string + days and\n     * value is the array of section contained in this Course occurring at that time.\n     * For example:\n     * ```js\n     * {\"08/27/2019 - 12/17/2019|MoTu 11:00AM-11:50AM|Fr 10:00AM - 10:50AM\" : [...Sections]}\n     * ```\n     */\n    public getCombined() {\n        const combined: { [x: string]: Section[] } = {};\n        for (const section of this.sections) {\n            const str = section.combinedTime();\n            if (combined[str]) combined[str].push(section);\n            else combined[str] = [section];\n        }\n        return combined;\n    }\n\n    /**\n     * Returns a 32-bit integer hash for this Course.\n     */\n    public hash() {\n        return hashCode(this.key);\n    }\n\n    public equals(object: object) {\n        if (object instanceof Course) {\n            return this.key === object.key && this.ids.toString() === object.ids.toString();\n        }\n        return false;\n    }\n\n    /**\n     * check whether the section is contained in this course\n     */\n    public has(element: Section): boolean {\n        return this.key === element.key && this.ids.includes(element.id);\n    }\n}\n","/**\n * @author Hanzhi Zhou\n * @module src/models\n */\n\n/**\n * extract the array of instructor names from the array of meetings\n * @param meetings\n */\nexport function getCombinedMeeting(meetings: readonly Meeting[], key: 'instructor' | 'room') {\n    const combined: string[] = [];\n    for (const meeting of meetings) {\n        for (const str of meeting[key].split(', ')) {\n            if (!combined.includes(str)) combined.push(str);\n        }\n    }\n    return combined;\n}\n\n/**\n * A meeting represents a specific meeting time \\w information about the instructor and location\n */\nexport default interface Meeting {\n    readonly instructor: string;\n    readonly days: string;\n    readonly room: string;\n}\n","/**\n * @author Hanzhi Zhou, Kaiying Shan\n * @module src/models\n */\n\n/**\n *\n */\nimport { MeetingDate, TimeArray } from '../algorithm/ScheduleGenerator';\nimport { hashCode, parseTimeAll } from '../utils';\nimport Course, { CourseFields, Match } from './Course';\nimport Hashable from './Hashable';\nimport Meeting from './Meeting';\nimport { dayToInt } from './constants';\nimport { CourseStatus } from '../config';\n\n/**\n * last several bits of this number correspond to different types of validity,\n * as specified by [[Section.Validity]]\n *\n * flag & 0b1 !== 0 => Section.Validity[1]\n * flag & 0b10 !== 0 => Section.Validity[2]\n * flag & 0b100 !== 0 => Section.Validity[3]\n */\nexport type ValidFlag = number;\n\ntype SectionMatchFields = 'topic' | 'instructors' | 'rooms';\nexport type SectionMatch<T extends SectionMatchFields = SectionMatchFields> = Match<T>;\n\n/**\n * fields of the section that must be created via `Object.create`\n */\nexport interface SectionFields {\n    /**\n     * reference to the course that this section belongs to. This property is **non-enumerable**\n     */\n    readonly course: Course;\n    /**\n     * Key of the course that this section belongs to; same for all sections.\n     */\n    readonly key: string;\n    /**\n     * the id of the section, must be globally unique\n     */\n    readonly id: number;\n    /**\n     * the section number recorded in sis\n     */\n    readonly section: string;\n    /**\n     * the topic of this section, may be empty\n     */\n    readonly topic: string;\n    /**\n     * one of \"Open\", \"Closed\" and \"Wait List\"\n     */\n    readonly status: CourseStatus;\n    readonly enrollment: number;\n    readonly enrollment_limit: number;\n    readonly wait_list: number;\n    /**\n     * instructor names (computed from meeting)\n     */\n    readonly instructors: string;\n    /**\n     * rooms (computed from meeting)\n     */\n    readonly rooms: string;\n    readonly dates: string;\n    readonly meetings: readonly Meeting[];\n\n    /**\n     * @see [[ValidFlag]]\n     */\n    readonly valid: ValidFlag;\n    /**\n     * @see [[MeetingDate]]\n     * undefined if the meeting date is TBA/TBD or cannot be parsed\n     */\n    readonly dateArray?: MeetingDate;\n}\n\n// use class-interface merging\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport default interface Section extends SectionFields {}\n/**\n * A section contains all the fields that a Course has,\n * and it holds additional information specific to that section.\n *\n * All section instances are immutable. Additionally, they will never be duplicated.\n * They will only be created once using `Object.create` on page load\n */\nexport default class Section implements CourseFields, Hashable {\n    private static readonly Validity = [\n        [0, 'Valid'],\n        [\n            1,\n            `Warning: Some meetings have incomplete instructor or room information (e.g. TBA/TBD). This won't affect schedule generation.`\n        ],\n        [\n            2,\n            'Fatal: This section has several different meeting dates. Plannable currently cannot handle these type of meetings correctly'\n        ],\n        [\n            1,\n            'Warning: Some meetings have invalid (TBA/TBD) start or end time. They will not be rendered on the schedule.'\n        ],\n        [2, 'Fatal: This section has unknown start and end date.']\n    ] as const;\n    // --------- getters for fields of the course ---------------------\n    get department() {\n        return this.course.department;\n    }\n    get number() {\n        return this.course.number;\n    }\n    get type() {\n        return this.course.type;\n    }\n    get units() {\n        return this.course.units;\n    }\n    get title() {\n        return this.course.title;\n    }\n    get description() {\n        return this.course.description;\n    }\n    /**\n     * human readable name for this section, e.g. ECON 2010-001 Lecture\n     */\n    get displayName() {\n        return `${this.department} ${this.number}-${this.section} ${this.type}`;\n    }\n    get displayNameNoType() {\n        return `${this.department} ${this.number}-${this.section}`;\n    }\n    // --------- end getters for fields of the course ---------------------\n\n    /**\n     * convert [[Section.valid]] to human readable message\n     */\n    public get validMsg() {\n        let mask = 1;\n        let msg = '';\n        let count = 1;\n        let maxLevel = 0;\n        for (let i = 1; i < Section.Validity.length; i++) {\n            if (this.valid & mask) {\n                const [level, msgStr] = Section.Validity[i];\n                maxLevel = Math.max(maxLevel, level);\n                msg += `${count++}. ${msgStr} \\n`;\n            }\n            mask <<= 1;\n        }\n        return [['', 'text-warning', 'text-danger'][maxLevel], msg] as const;\n    }\n\n    public sameTimeAs(other: Section) {\n        const len = this.meetings.length;\n        if (len !== other.meetings.length) return false;\n        return this.meetings.every((x, i) => x.days === other.meetings[i].days);\n    }\n\n    /**\n     * @returns all meeting times of this section concatenated together\n     * and concatenated by their dates\n     */\n    public combinedTime() {\n        return this.meetings.reduce((acc, v) => acc + '|' + v.days, this.dates);\n    }\n\n    /**\n     * @remarks The hashes of all sections of a Course by design are equal to each other.\n     * @returns the hash of the Course that this section belongs to.\n     */\n    public hash() {\n        return hashCode(this.key);\n    }\n\n    /**\n     * @returns whether some meeting times of this sections are TBD\n     */\n    public isTBD() {\n        for (const meeting of this.meetings) {\n            const t = meeting.days;\n            // skip empty string\n            if (!t) continue;\n\n            const [days, start, , end] = t.split(' ');\n            if (!days || !start || !end) return true;\n        }\n        return false;\n    }\n\n    /**\n     * get the time and room of this section's meetings as [[TimeArray]]\n     */\n    public getTimeRoom() {\n        // arrays of times and rooms in each day\n        const dayArray: TimeArray = [[], [], [], [], [], [], []];\n\n        // there may be multiple meeting times. parse each of them\n        const searcher = window.buildingSearcher;\n        for (const meeting of this.meetings) {\n            const t = meeting.days;\n            // skip empty string\n            if (!t) continue;\n\n            // parse the meeting time\n            const tmp1 = parseTimeAll(t);\n\n            // skip TBA or ill-formated time\n            if (tmp1 === null) return dayArray;\n            const [date, timeBlock] = tmp1;\n\n            // for each day\n            for (const day of date) {\n                const dayBlock = dayArray[dayToInt[day]];\n\n                // the timeBlock is flattened\n                dayBlock.push(...timeBlock);\n\n                const [idx, rating] = searcher.findBestMatch(meeting.room);\n                // we set the match threshold to 0.4\n                if (rating >= 0.4) {\n                    dayBlock.push(idx);\n                } else {\n                    // mismatch!\n                    console.warn(meeting.room, 'match not found!');\n                    dayBlock.push(-1);\n                }\n            }\n        }\n\n        return dayArray;\n    }\n\n    public has(element: Section) {\n        return this === element;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport Catalog, { SemesterJSON } from './models/Catalog';\nimport Course from './models/Course';\nimport Section from './models/Section';\n\n/** the version string from package.json */\nexport const version: string = require('../package.json').version;\n\n/** whether running on electron */\nexport const runningOnElectron = window.navigator.userAgent.toLowerCase().includes('electron');\n\nexport interface BackendConfig {\n    /** Name of the backend */\n    name: string;\n    /** API endpoint for uploading/overwriting profiles on remote*/\n    up: string;\n    /** API endpoint for downloading profiles from remote */\n    down: string;\n    /** API endpoint for editing the properties of the profile (e.g. name) */\n    edit: string;\n    /** API endpoint for getting the authorization code */\n    code: string;\n    /** API endpoint to exchange authorization code for an access token */\n    token: string;\n    /** Client ID for OAuth */\n    client_id: string;\n    /** Whether to allow OAuth on plannable desktop app (built with electron) */\n    oauth_on_electron: false;\n    /**\n     * Redirect URI for plannable desktop app. This URI will not be visited. Instead, it acts like a flag, indicating that the server\n     * has directed back to the client. This can set to anything, as long as the server and the client have an agreement.\n     * It is recommended to set this value to a (probably non-existent) localhost URI.\n     */\n    oauth_electron_redirect_uri: string;\n}\n\nexport interface DataEnd {\n    /**\n     * an async function that fetches the array of building names\n     */\n    readonly buildings: () => Promise<string[]>;\n    /**\n     * an async function that fetches the distance matrix (equivalently, the walking time) between the buildings.\n     * matrix[i * len + j] represents the distance between the ith building and jth building in the array of buildings fetched by dataend.buildings\n     * @returns the distance matrix, in Int32Array\n     */\n    readonly distances: () => Promise<Int32Array>;\n    /**\n     * an async function that fetches the list of the semesters\n     */\n    readonly semesters: (count?: number) => Promise<SemesterJSON[]>;\n    /**\n     * an async function that fetches all courses corresponding to the given semester\n     * @returns a catalog object built from the courses\n     */\n    readonly courses: (semester: SemesterJSON) => Promise<Catalog>;\n}\n\n/**\n * Functions for fetching data\n */\nexport const dataend: DataEnd = {\n    buildings: null,\n    distances: null,\n    semesters: null,\n    courses: null\n} as any; // remove to enable type checking\n\ninterface ModalLinkItem<T> {\n    /** the inner text of the button used to open your link */\n    name: string;\n    /**\n     * an action to perform when user clicks on this link\n     * @param semester the currently selected semester\n     * @param param course/section corresponding to the active modal\n     */\n    action(semester: SemesterJSON, param: T): void;\n}\n\nexport interface ModalLinks {\n    section: ModalLinkItem<Section>[];\n    course: ModalLinkItem<Course>[];\n}\n\n/**\n * Used to generate a list of action buttons in section/course modal.\n * We used it to open external pages relevant to the given course/section.\n */\nexport const modalLinks: ModalLinks = {\n    section: [],\n    course: []\n};\n\n/**\n * Given an address, convert it to an link to the map (e.g. Google map)\n * @returns an url or an empty string\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function formatLocationURL(addr: string) {\n    return '';\n}\n\n/**\n * some default UI configurations. Usually no need to change\n */\nexport const ui = {\n    sideBarWidth: 19,\n    sideMargin: 3,\n    tabBarWidthMobile: 10,\n    tabBarWidth: 3\n} as const;\n\n/**\n * expiration config, usually no need to change\n */\nexport const semesterListExpirationTime = 86400 * 1000; // one day\nexport const semesterDataExpirationTime = 2 * 3600 * 1000; // two hours\n\n// -------------------------- lecture type configuration ---------------------------------\nexport type CourseType = keyof typeof TYPES_PARSE;\n// CourseStatus is only used for typing purposes. can be just an alias of string\nexport type CourseStatus = 'TBA' | 'Open' | 'Closed' | 'Wait List';\n\n/**\n * lecture type number => meaning\n */\nexport const TYPES = Object.freeze({\n    '-1': '',\n    0: 'Clinical',\n    1: 'Discussion',\n    2: 'Drill',\n    3: 'Independent Study',\n    4: 'Laboratory',\n    5: 'Lecture',\n    6: 'Practicum',\n    7: 'Seminar',\n    8: 'Studio',\n    9: 'Workshop'\n});\n/**\n * parse lecture type string to id\n */\nexport const TYPES_PARSE = Object.freeze({\n    '': -1,\n    Clinical: 0,\n    CLN: 0,\n    Discussion: 1,\n    DIS: 1,\n    Drill: 2,\n    DRL: 2,\n    'Independent Study': 3,\n    IND: 3,\n    Laboratory: 4,\n    LAB: 4,\n    Lecture: 5,\n    LEC: 5,\n    Practicum: 6,\n    PRA: 6,\n    Seminar: 7,\n    SEM: 7,\n    Studio: 8,\n    STO: 8,\n    Workshop: 9,\n    WKS: 9\n});\n\n/**\n * whether to enable conversion from [[Course.key]] to human readable string.\n * It is only used to inform user about the removal of a course when its key does not exist in catalog.\n * The regex variable [[keyRegex]] will be used to match [[Course.key]]\n * @see [[Course.key]]\n */\nexport const enableKeyConversion = false;\n/**\n * the regex used to match the components of [[Course.key]]. It must have three capture groups,\n * one for the department string, one for the course number, and one for the course type, corresponding\n * to the keys of TYPES\n */\nexport const keyRegex: typeof enableKeyConversion extends true ? RegExp : null = null;\n","/* eslint-disable @typescript-eslint/camelcase */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/**\n * @module src/config\n */\n\n/**\n *\n */\nimport axios from 'axios';\nimport { parse } from 'papaparse';\nimport { stringify } from 'querystring';\nimport Catalog, { SemesterJSON } from './models/Catalog';\nimport Course, { CourseFields } from './models/Course';\nimport Meeting, { getCombinedMeeting } from './models/Meeting';\nimport Section, { SectionFields, ValidFlag } from './models/Section';\nimport { parseDate } from './utils';\nimport * as defaultConfig from './config.example';\n\n/** the version string from package.json */\nexport const version: string = defaultConfig.version;\n\n/** whether running on electron */\nexport const runningOnElectron = defaultConfig.runningOnElectron;\n\n/**\n * Configuration of the backend.\n */\nexport const backend: defaultConfig.BackendConfig = require('../package.json').backend;\n\n/**\n * Functions for fetching data\n */\nexport const dataend: defaultConfig.DataEnd = {\n    buildings: requestBuildingSearcher,\n    distances: requestTimeMatrix,\n    semesters: requestSemesterList,\n    courses: requestCourses\n};\n\n/**\n * Used to generate a list of action buttons in section/course modal.\n * We used it to open external pages relevant to the given course/section.\n */\nexport const modalLinks: defaultConfig.ModalLinks = {\n    section: [\n        {\n            name: 'Course Evaluations',\n            action: viewEvals\n        },\n        {\n            name: 'Grade Distribution',\n            action: viewGrades\n        },\n        {\n            name: \"More Details (Lou's List)\",\n            action: function(semester: SemesterJSON, section: Section) {\n                window.open(\n                    `https://louslist.org/sectiontip.php?Semester=${semester.id}&ClassNumber=${section.id}`,\n                    '_blank',\n                    'width=650,height=700,scrollbars=yes'\n                );\n            }\n        },\n        {\n            name: 'Reviews (theCourseForum)',\n            action: viewCourseforum\n        },\n        {\n            name: 'Reviews (Hoosmyprofessor, Chinese)',\n            action: viewHpEvals\n        }\n    ],\n    course: [\n        {\n            name: 'Course Evaluations',\n            action: viewEvals\n        },\n        {\n            name: 'Grade Distribution',\n            action: viewGrades\n        },\n        {\n            name: 'Reviews (theCourseForum)',\n            action: viewCourseforum\n        },\n        {\n            name: 'Reviews (Hoosmyprofessor, Chinese)',\n            action: viewHpEvals\n        }\n    ]\n};\n\n/**\n * Given an address, convert it to an link to the map (e.g. Google map)\n * @returns an url or an empty string\n */\nexport function formatLocationURL(addr: string) {\n    const lAddr = addr.toLowerCase();\n    if (lAddr.startsWith('tba') || lAddr.startsWith('tbd') || lAddr.startsWith('web')) return '';\n    return `https://www.google.com/maps/search/?api=1&query=${window.encodeURIComponent(\n        addr\n    )},Charlottesville,VA`;\n}\n\n/**\n * some default UI configurations. Usually no need to change\n */\nexport const ui = defaultConfig.ui;\n\n/**\n * expiration config, usually no need to change\n */\nexport const semesterListExpirationTime = defaultConfig.semesterListExpirationTime; // one day\nexport const semesterDataExpirationTime = defaultConfig.semesterDataExpirationTime; // two hours\n\n// -------------------------- lecture type configuration ---------------------------------\nexport type CourseType = defaultConfig.CourseType;\n// CourseStatus is only used for typing purposes. can be just an alias of string\nexport type CourseStatus = defaultConfig.CourseStatus;\n\n/**\n * lecture type number => meaning\n */\nexport const TYPES = defaultConfig.TYPES;\n\n/**\n * parse lecture type string to id\n */\nexport const TYPES_PARSE = defaultConfig.TYPES_PARSE;\n/**\n * whether to enable conversion from [[Course.key]] to human readable string.\n * It is only used to inform user about the removal of a course when its key does not exist in catalog.\n * The regex variable [[keyRegex]] will be used to match [[Course.key]]\n * @see [[Course.key]]\n */\nexport const enableKeyConversion = true;\n/**\n * the regex used to match the components of [[Course.key]]. It must have three capture groups,\n * one for the department string, one for the course number, and one for the course type, corresponding\n * to the keys of TYPES\n */\nexport const keyRegex: typeof enableKeyConversion extends true\n    ? RegExp\n    : null = /([a-z]{1,5})([0-9]{1,5})([0-9])$/i;\n\n// --------------------------------------------------------------------------------------------\n// | The following functions are specific to plannable for University of Virginia             |\n// --------------------------------------------------------------------------------------------\n\n/**\n * for the given course, open an external webpage showing the past grades of that course\n */\nfunction viewGrades(semester: SemesterJSON, course: CourseFields) {\n    window.open(\n        `https://vagrades.com/uva/${course.department.toUpperCase()}${course.number}`,\n        '_blank'\n    );\n}\n\n/**\n * view the evaluations for the given course\n */\nfunction viewEvals(semester: SemesterJSON, param: CourseFields) {\n    window.open(\n        `https://evals.itc.virginia.edu/course-selectionguide/pages/SGMain.jsp?cmp=${param.department},${param.number}`,\n        '_blank'\n    );\n}\n\nfunction viewHpEvals(semester: SemesterJSON, param: CourseFields) {\n    window.open(`https://match.msnatuva.org/courses/v2/${param.key}/`, '_blank');\n}\n\nfunction viewCourseforum(semester: SemesterJSON, param: CourseFields) {\n    window.open(\n        `https://thecourseforum.com/course/${param.department.toUpperCase()}/${param.number}`,\n        '_blank'\n    );\n}\n\n/**\n * get the origin\n */\nfunction getApi() {\n    if (\n        window.location.host.indexOf('localhost') !== -1 ||\n        window.location.host.indexOf('127.0.0.1') !== -1\n    ) {\n        return 'http://localhost:8000'; // local development\n    } else if (\n        window.location.protocol === 'file:' ||\n        window.location.host === 'dev.plannable.org' // dev environment\n    ) {\n        return `https://plannable.org/`; // electron?\n    } else {\n        return `${window.location.protocol}//${window.location.host}`; // other: plannable.org or plannable.gitee.io\n    }\n}\n\n/**\n * request from remote and store in localStorage\n */\nasync function requestTimeMatrix(): Promise<Int32Array> {\n    const { data } = await axios.get(`${getApi()}/data/Distance/Time_Matrix.json`);\n    const len = data.length;\n    const flattened = new Int32Array(len ** 2);\n    for (let i = 0; i < len; i++) flattened.set(data[i], i * len);\n    return flattened;\n}\n\n/**\n * request the building list from remote and store in localStorage\n *\n * @returns a building searcher\n */\nasync function requestBuildingSearcher() {\n    const res = await axios.get<string[]>(`${getApi()}/data/Distance/Building_Array.json`);\n    return res.data;\n}\n\nasync function requestCourses(semester: SemesterJSON) {\n    console.time(`request semester ${semester.name} data`);\n\n    const res = await (location.host === 'plannable.org' || location.protocol === 'file:' // Running on GitHub pages or Electron (primary address)?\n        ? axios.post<string>(\n              'https://louslist.org/deliverData.php', // yes\n              stringify({\n                  Semester: semester.id,\n                  Group: 'CS',\n                  Description: 'Yes',\n                  submit: 'Submit Data Request',\n                  Extended: 'Yes'\n              })\n          ) // use the mirror/local dev server\n        : axios.get<string>(\n              `${getApi()}/data/Semester%20Data/CS${semester.id}Data.csv?time=${Math.random()}`\n          ));\n    console.timeEnd(`request semester ${semester.name} data`);\n    return new Catalog(\n        semester,\n        parseSemesterData(\n            parse(res.data, {\n                skipEmptyLines: true,\n                header: false\n            }).data as string[][]\n        ),\n        Date.now()\n    );\n}\n\nfunction parseSemesterData(rawData: string[][]) {\n    console.time('parse semester data');\n\n    const courseDict: { [x: string]: Course } = Object.create(null);\n    const allSections: Section[] = [];\n    for (let j = 1; j < rawData.length; j++) {\n        const data = rawData[j];\n\n        // todo: robust data validation\n        const type = TYPES_PARSE[data[4] as CourseType];\n        const key = (data[1] + data[2] + type).toLowerCase();\n\n        const meetings: Meeting[] = [];\n        let date = data[6 + 3];\n        let valid: ValidFlag = 0;\n        for (let i = 0; i < 4; i++) {\n            const start = 6 + i * 4; // meeting information starts at index 6\n            const instructor = data[start],\n                days = data[start + 1],\n                room = data[start + 2];\n            if (instructor || days || room) {\n                const meetingDate = data[start + 3];\n                if (!date) date = meetingDate;\n                // inconsistent date\n                if (meetingDate && meetingDate !== date) valid |= 2;\n\n                // incomplete information\n                if (\n                    !instructor ||\n                    !room ||\n                    instructor === 'TBA' ||\n                    room === 'TBA' ||\n                    instructor === 'TBD' ||\n                    room === 'TBD'\n                )\n                    valid |= 1;\n\n                // unknown meeting time\n                if (!days || days === 'TBA' || days === 'TBD') {\n                    valid |= 4;\n                } else {\n                    const [, startT, , endT] = days.split(' ');\n                    // invalid meeting time\n                    if (startT === endT) valid |= 4;\n                }\n\n                // insertion sort\n                let k = 0;\n                for (; k < meetings.length; k++) {\n                    if (days < meetings[k].days) break;\n                }\n                meetings.splice(k, 0, {\n                    instructor,\n                    days,\n                    room\n                });\n            }\n        }\n        // unknown date\n        if (!date || date === 'TBD' || date === 'TBA') valid |= 8;\n        if (typeof date !== 'string') date = '';\n\n        let course = courseDict[key];\n        if (!course) {\n            course = courseDict[key] = Object.create(Course.prototype, {\n                department: {\n                    value: data[1],\n                    enumerable: true\n                },\n                number: {\n                    value: +data[2],\n                    enumerable: true\n                },\n                type: {\n                    value: data[4],\n                    enumerable: true\n                },\n                key: {\n                    value: key,\n                    enumerable: true\n                },\n                units: {\n                    value: data[5],\n                    enumerable: true\n                },\n                title: {\n                    value: data[22],\n                    enumerable: true\n                },\n                description: {\n                    value: data[28],\n                    enumerable: true\n                },\n                sections: {\n                    value: [] as Section[] // non-enumerable\n                },\n                ids: {\n                    value: [] as number[],\n                    enumerable: true\n                }\n            } as { [x in keyof Course]: TypedPropertyDescriptor<Course[x]> });\n        }\n\n        const section: Section = Object.create(Section.prototype, {\n            course: {\n                value: course // back ref to course, non-enumerable\n            },\n            key: {\n                value: key,\n                enumerable: true\n            },\n            id: {\n                value: +data[0],\n                enumerable: true\n            },\n            section: {\n                value: data[3],\n                enumerable: true\n            },\n            topic: {\n                value: data[23],\n                enumerable: true\n            },\n            status: {\n                value: data[24],\n                enumerable: true\n            },\n            enrollment: {\n                value: +data[25],\n                enumerable: true\n            },\n            enrollment_limit: {\n                value: +data[26],\n                enumerable: true\n            },\n            wait_list: {\n                value: +data[27],\n                enumerable: true\n            },\n            valid: {\n                value: valid,\n                enumerable: true\n            },\n            meetings: {\n                value: meetings,\n                enumerable: true\n            },\n            instructors: {\n                value: getCombinedMeeting(meetings, 'instructor').join(', '),\n                enumerable: true\n            },\n            rooms: {\n                value: getCombinedMeeting(meetings, 'room').join(', '),\n                enumerable: true\n            },\n            dateArray: {\n                value: parseDate(date),\n                enumerable: true\n            },\n            dates: {\n                value: date,\n                enumerable: true\n            }\n        } as {\n            [x in keyof Required<SectionFields>]: TypedPropertyDescriptor<Section[x]>;\n        });\n\n        course.ids.push(+data[0]);\n        course.sections.push(section);\n        allSections.push(section);\n    }\n    const allCourses = Object.values(courseDict);\n    console.timeEnd('parse semester data');\n\n    return [courseDict, allCourses, allSections] as const;\n}\n\n/**\n * Fetch the list of semesters from Lou's list\n */\nasync function requestSemesterList(count = 10): Promise<SemesterJSON[]> {\n    console.time('get semester list');\n    const response = await (location.host === 'plannable.org' || location.protocol === 'file:'\n        ? axios.get<string>(`https://louslist.org/index.php?time=${Math.random()}`)\n        : axios.get<string>(`${getApi()}/data/Semester Data/index.html?time=${Math.random()}`));\n    console.timeEnd('get semester list');\n\n    const element = document.createElement('html');\n    element.innerHTML = response.data;\n    const options = element.getElementsByTagName('option');\n    const records: SemesterJSON[] = [];\n    for (let i = 0; i < Math.min(count, options.length); i++) {\n        const option = options[i];\n        const key = option.getAttribute('value');\n        if (key) {\n            const semesterId = key.substr(-4);\n            const html = option.innerHTML;\n            records.push({\n                id: semesterId,\n                name: html\n                    .split(' ')\n                    .splice(0, 2)\n                    .join(' ')\n            });\n        }\n    }\n\n    return records;\n}\n","/**\n * @module src/models\n * @author Kaiying Shan\n */\n\n/**\n *\n */\nimport { TimeArray } from '../algorithm/ScheduleGenerator';\nimport { hashCode, hr12toInt } from '../utils';\nimport { Day, dayToInt } from './constants';\nimport Hashable from './Hashable';\nimport Section from './Section';\n\nexport type EventJSON = [string, number, string?, string?, string?];\n\n/**\n * An Event is a structure different than `Course` or `Section` that can be placed on a Schedule\n *\n * It is uniquely identified by its `days` property\n */\nexport default class Event implements Hashable {\n    public static fromJSONShort(obj: EventJSON) {\n        return new Event(...obj);\n    }\n    public readonly key: string;\n    public readonly display: boolean;\n    constructor(\n        public readonly days: string,\n        display: boolean | number,\n        public readonly title?: string,\n        public readonly description?: string,\n        public readonly room?: string\n    ) {\n        this.key = days;\n        this.display = Boolean(display);\n    }\n\n    public hash() {\n        return hashCode(this.days);\n    }\n\n    public copy() {\n        return new Event(this.days, this.display, this.title, this.description, this.room);\n    }\n\n    public toTimeArray(): TimeArray {\n        const dayArray: TimeArray = [[], [], [], [], [], [], []];\n        const [days, start, , end] = this.days.split(' ');\n        if (days && start && end) {\n            const tStart = hr12toInt(start),\n                tEnd = hr12toInt(end);\n            for (let i = 0; i < days.length; i += 2)\n                dayArray[dayToInt[days.substr(i, 2) as Day]].push(tStart, tEnd);\n        }\n        return dayArray;\n    }\n\n    public toJSONShort() {\n        const obj: EventJSON = [this.days, +this.display];\n        if (this.title) obj[2] = this.title;\n        if (this.description) obj[3] = this.description;\n        if (this.room) obj[4] = this.room;\n        return obj;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    public has(sec: Section) {\n        return false;\n    }\n}\n","/**\n * @author Hanzhi Zhou\n * @module src/models\n */\n\n/**\n *\n */\nimport { MeetingDate } from '@/algorithm/ScheduleGenerator';\nimport Course from './Course';\nimport Event from './Event';\nimport Meeting from './Meeting';\nimport Section from './Section';\n\n/**\n * A `ScheduleBlock` is a data structure that holds\n * all the necessary information to render a schedule on `GridSchedule`\n *\n * @see [[GridSchedule]]\n */\nexport default class ScheduleBlock {\n    /**\n     * the relative distance of the block to the column's left border, a decimal between 0 and 1\n     */\n    public left = -1.0;\n    /**\n     * the width of the block relative to the column width, a decimal between 0 and 1\n     */\n    public width = -1.0;\n    /**\n     * whether the block is highlighted\n     */\n    public strong = false;\n\n    /**\n     * @param background background color in hex, e.g. `#ffffff`\n     * @param section the stuff contained in this block\n     * @param startMin start time of this block, in minutes from 00:00\n     * @param endMin end time of this block, in minutes from 00:00\n     * @param meeting if `section` is a Course/Section, this is an instance of [[Meeting]], otherwise undefined\n     * @param dateArray if `section` is a Course/Section, this is an instance of [[MeetingDate]], otherwise is undefined\n     * @note dateArray currently is only used in compareView as it needs the date information to properly use date separators\n     */\n    constructor(\n        public readonly background: string,\n        public readonly startMin: number,\n        public readonly endMin: number,\n        public readonly section: Section | Course | Event,\n        public readonly meeting?: Meeting,\n        public readonly dateArray?: MeetingDate\n    ) {}\n}\n","/**\n * @module src/data\n */\n\n/**\n *\n */\nexport default [\n    {\n        name: 'dark-11',\n        description: '',\n        colors: [\n            '#f7867e',\n            '#ffa000',\n            '#82677E',\n            '#2C577C',\n            '#6D838A',\n            '#00a0a0',\n            '#355dff',\n            '#7790ff',\n            '#9B5656',\n            '#CC9393',\n            '#993D5F'\n        ]\n    },\n    {\n        name: 'Sky',\n        description: '',\n        colors: [\n            '#68443c',\n            '#b67b66',\n            '#d8b29a',\n            '#dbbeaa',\n            '#cd9886',\n            '#8b4d3e',\n            '#4c423d',\n            '#5a5550',\n            '#943a4d',\n            '#d6afa6',\n            '#d9e1dd',\n            '#8fabc9',\n            '#4d6aa8'\n        ]\n    },\n    {\n        name: 'Velvet I',\n        description: '',\n        colors: [\n            '#8ab5ba',\n            '#a8c4c1',\n            '#eadbc0',\n            '#4c423d',\n            '#b7ac9d',\n            '#928a7e',\n            '#3e6f42',\n            '#7fa25a',\n            '#becbb7',\n            '#91afa1',\n            '#406e58',\n            '#8f3a43',\n            '#b67b66'\n        ]\n    },\n    {\n        name: 'Velvet II',\n        description: '',\n        colors: [\n            '#9b3738',\n            '#b6c6ce',\n            '#8fabc9',\n            '#4d6aa8',\n            '#c4d39b',\n            '#7fa25a',\n            '#3e6f42',\n            '#becbb7',\n            '#91afa1',\n            '#406e58',\n            '#eacfb9',\n            '#dc8d67',\n            '#d46c40'\n        ]\n    },\n    {\n        name: 'Masonry I',\n        description: '',\n        colors: [\n            '#8ab5ba',\n            '#a8c4c1',\n            '#eadbc0',\n            '#4c423d',\n            '#b7ac9d',\n            '#928a7e',\n            '#3e6f42',\n            '#7fa25a',\n            '#becbb7',\n            '#91afa1',\n            '#406e58',\n            '#8f3a43',\n            '#b67b66'\n        ]\n    },\n    {\n        name: 'Masonry II',\n        description: '',\n        colors: [\n            '#9b3738',\n            '#4d6aa8',\n            '#d9e1dd',\n            '#8fabc9',\n            '#929494',\n            '#5e6061',\n            '#e2cbb5',\n            '#c4d39b',\n            '#abc17a',\n            '#a8c4c1',\n            '#679dae',\n            '#3e6e90',\n            '#68443c'\n        ]\n    },\n    {\n        name: 'Sand I',\n        description: '',\n        colors: [\n            '#5e6061',\n            '#929494',\n            '#d9e1dd',\n            '#abbdc8',\n            '#4d6aa8',\n            '#4c423d',\n            '#b7a392',\n            '#406e58',\n            '#91afa1',\n            '#becbb7',\n            '#c4d39b',\n            '#7fa25a',\n            '#3e6f42'\n        ]\n    },\n    {\n        name: 'Sand II',\n        description: '',\n        colors: [\n            '#5a5550',\n            '#b7ac9d',\n            '#eadbc0',\n            '#c6d5cc',\n            '#a8c4c1',\n            '#8ab5ba',\n            '#9b3738',\n            '#8fabc9',\n            '#3e6e90',\n            '#943a4d',\n            '#d46c40',\n            '#cd9886',\n            '#d6afa6'\n        ]\n    },\n    {\n        name: 'Scenery',\n        description: '',\n        colors: [\n            '#68443c',\n            '#b67b66',\n            '#d8b29a',\n            '#8b4d3e',\n            '#cd9886',\n            '#dbbeaa',\n            '#e6cdbf',\n            '#eadbc0',\n            '#9b3738',\n            '#d6afa6',\n            '#943a4d',\n            '#8f3a43',\n            '#929494'\n        ]\n    },\n    {\n        name: 'Checkered III',\n        description: '',\n        colors: [\n            '#68443c',\n            '#b67b66',\n            '#d8b29a',\n            '#406e58',\n            '#cd9886',\n            '#dbbeaa',\n            '#e6cdbf',\n            '#eadbc0',\n            '#9b3738',\n            '#d6afa6',\n            '#7fa25a',\n            '#8f3a43',\n            '#929494'\n        ]\n    },\n    {\n        name: 'light-13',\n        description: '',\n        colors: [\n            '#7ef7f3',\n            '#bdfc8f',\n            '#749afc',\n            '#f49ffc',\n            '#acd7f9',\n            '#b5fcff',\n            '#f4af9c',\n            '#ff8ca7',\n            '#aef495',\n            '#74c9e0',\n            '#ffe396'\n        ]\n    }\n] as const;\n","/**\n * the graph models and algorithms used primarily for schedule rendering\n * @author Hanzhi Zhou, Kaiying Shan\n * @module src/algorithm\n */\n\n/**\n *\n */\nimport { ScheduleDays } from '@/models/Schedule';\n\nexport const options = {\n    isTolerance: 0,\n    ISMethod: 1,\n    applyDFS: false,\n    tolerance: 0,\n    LPIters: 50,\n    LPModel: 1,\n    showFixed: false,\n    MILP: false,\n    tFactor: 0.1\n};\n\n/**\n * compute the width and left of the blocks contained in each day\n */\nexport async function computeBlockPositions(days: ScheduleDays) {\n    const Module = window.NativeModule;\n\n    console.time('native compute');\n    Module._setOptions(\n        options.isTolerance,\n        options.ISMethod,\n        +options.applyDFS,\n        options.tolerance,\n        options.LPIters,\n        options.LPModel,\n        +options.MILP,\n        options.tFactor\n    );\n    let N = 0;\n    let sum = 0;\n    let sumSq = 0;\n    for (const blocks of days) {\n        const len = blocks.length;\n        if (len === 0) continue;\n\n        const bufPtr = Module._malloc(len * 4);\n        const u16 = new Int16Array(Module.HEAPU8.buffer, bufPtr, len * 2);\n        for (let i = 0; i < len; i++) {\n            u16[2 * i] = blocks[i].startMin;\n            u16[2 * i + 1] = blocks[i].endMin;\n        }\n        /**\n         * the rPtr returned by _compute is an pointer pointing to an array of ScheduleBlock. The offsets of some important fields are listed below.\n         * ```cpp\n         * ScheduleBlock* rPtr = compute(bufPtr, len);\n         * assert(offsetof(ScheduleBlock, isFixed) == 0);\n         * assert(offsetof(ScheduleBlock, left) == 24);\n         * assert(offsetof(ScheduleBlock, width) == 32);\n         * assert(sizeof(ScheduleBlock) == 64);\n         * ```\n         */\n        const rPtr = Module._compute(bufPtr, len);\n        if (rPtr === 0) {\n            alert('Out of memory!');\n            console.error('Out of memory!');\n        }\n        const result = new Float64Array(Module.HEAPU8.buffer, rPtr, len * 8);\n        for (let i = 0; i < len; i++) {\n            blocks[i].left = result[8 * i + 3];\n            blocks[i].width = result[8 * i + 4];\n        }\n        if (len > N) {\n            N = len;\n            sum = Module._getSum();\n            sumSq = Module._getSumSq();\n        }\n        // N += len;\n        // sum += Module._getSum();\n        // sumSq += Module._getSumSq();\n        if (options.showFixed) {\n            const arr = new Uint8Array(Module.HEAPU8.buffer, rPtr, len * 64);\n            for (let i = 0; i < len; i++) {\n                if (arr[64 * i]) (blocks[i] as any).background = '#000';\n            }\n        }\n    }\n    if (N > 0) console.log('mean', sum / N, 'variance', sumSq / N - (sum / N) ** 2);\n    console.timeEnd('native compute');\n}\n","/**\n * @author Hanzhi Zhou, Kaiying Shan\n * @module src/models\n */\n\n/**\n *\n */\nimport * as Utils from '../utils';\nimport Course from './Course';\nimport Event from './Event';\nimport Hashable from './Hashable';\nimport ScheduleBlock from './ScheduleBlock';\nimport Section from './Section';\nimport colorSchemes from '@/data/ColorSchemes';\nimport ProposedSchedule from './ProposedSchedule';\nimport { computeBlockPositions } from '@/algorithm/Renderer';\nimport { dayToInt, Day } from './constants';\nimport Meeting from './Meeting';\nimport { calcOverlap } from '../utils';\nimport { MeetingDate } from '@/algorithm/ScheduleGenerator';\n\n/**\n * the structure of a [[Section]] in local storage\n */\nexport interface SectionJSON {\n    /** @see [[Section.id]] */\n    id: number;\n    /**\n     * This property is\n     * - not present if parsed from URL,\n     * - present if parsed from JSON\n     */\n    section?: string;\n}\n\n/**\n * represents all courses in a schedule, usually stored as `(key, array of set of sections)` pair\n *\n * If **section** is -1, it means that all sections are allowed.\n * Otherwise, **section** should be an array of groups, and each group should be an array/set of sections\n *\n * @typeparam T the type of the container used for the set of sections.\n * By default, this is a array of set of numbers, corresponding to the `id` field of each section\n * @remarks This field is called `All` (yes, with the first letter capitalized) due to historical reasons\n */\nexport interface ScheduleAll<T = Set<number>[] | -1> {\n    [courseKey: string]: T;\n}\n\n/**\n * the representation of a [[Schedule]] in local storage\n */\nexport interface ScheduleJSON {\n    All: ScheduleAll<SectionJSON[][] | -1>;\n    events: Event[];\n}\n\nexport type ScheduleDays = [\n    ScheduleBlock[], // Monday\n    ScheduleBlock[],\n    ScheduleBlock[],\n    ScheduleBlock[],\n    ScheduleBlock[],\n    ScheduleBlock[],\n    ScheduleBlock[] // Sunday\n];\n\n/**\n * Schedule handles the storage, access, mutation and render of courses and events.\n * @requires window.catalog\n */\nexport default abstract class Schedule {\n    // ----------------- global schedule options ------------------\n    public static combineSections = true;\n    public static multiSelect = true;\n    public static savedColors: { [key: string]: string } = {};\n    public static colors: readonly string[] = colorSchemes[0].colors;\n    // ------------------- end schedule options -------------------\n\n    public static compressJSON(obj: ScheduleJSON) {\n        const { All, events } = obj;\n        const shortAll: ScheduleAll<number[][] | -1> = {};\n        for (const key in All) {\n            const sections = All[key];\n            shortAll[key] =\n                sections === -1 ? sections : sections.map(group => group.map(({ id }) => id));\n        }\n        return [shortAll, ...events.map(e => Event.prototype.toJSONShort.call(e))] as const;\n    }\n\n    public static decompressJSON(obj: ReturnType<typeof Schedule.compressJSON>): ScheduleJSON {\n        const All: ScheduleJSON['All'] = {};\n        const [shortAll, ...events] = obj;\n        for (const key in shortAll) {\n            const entry = shortAll[key];\n            All[key] =\n                entry instanceof Array ? entry.map(group => group.map(id => ({ id }))) : entry;\n        }\n        return {\n            All,\n            events: events.map(e => Event.fromJSONShort(e))\n        };\n    }\n\n    /**\n     * @see [[ScheduleAll]]\n     */\n    public All: ScheduleAll = {};\n    /**\n     * computed based on `this.All` by `computeSchedule`\n     */\n    public days: ScheduleDays = [[], [], [], [], [], [], []];\n    /**\n     * total credits stored in this schedule, computed based on `this.All`\n     */\n    public totalCredit = 0;\n    /**\n     * a computed object that's updated by the `computeSchedule` method,\n     * used by [[ClassList]] for rendering purposes\n     *\n     * - courses contain **all** sections (not just those selected by user)\n     * - ids are the list of ids selected for a given course\n     */\n    public current: { courses: Course[]; ids: string[][] } = { courses: [], ids: [] };\n    /**\n     * keep track of used colors to avoid color collision\n     */\n    public colorSlots = Array.from({ length: Schedule.colors.length }, () => new Set<string>());\n    /**\n     * the index of the currently selected separator (in `dateSeparators`)\n     */\n    public dateSelector = -1;\n\n    /**\n     * the currently previewed (hovered) section\n     */\n    private _preview: Section | null = null;\n\n    /**\n     * the `computeSchedule` handle returned by `setTimeout`\n     */\n    private pendingCompute = 0;\n    /**\n     * The separator of sections in different time periods,\n     * representing different end times of sections. Elements are dates in milliseconds\n     * Example:\n     * ```js\n     * [1567457860885, 1567458860885]\n     * ```\n     */\n    public dateSeparators: number[] = [];\n\n    /**\n     * Construct a `Schedule` object from its raw representation\n     */\n    constructor(raw: ScheduleAll = {}, public events: Event[] = []) {\n        this.All = raw;\n        if (!this.empty()) {\n            this.constructDateSeparator();\n            this.computeSchedule();\n        }\n    }\n\n    public abstract update(key: string, section: number, group?: number, remove?: boolean): void;\n    public abstract remove(key: string): void;\n\n    // abstracting the copy() method is to prevent circular dependency\n    public abstract copy(deepCopyEvent?: boolean): ProposedSchedule;\n\n    protected _copy() {\n        const AllCopy: ScheduleAll = {};\n        for (const key in this.All) {\n            const sections = this.All[key];\n            if (sections instanceof Array) {\n                AllCopy[key] = sections.map(s => new Set(s));\n            } else {\n                AllCopy[key] = sections;\n            }\n        }\n        return AllCopy;\n    }\n\n    /**\n     * Get the background color of a hashable object\n     * Usually the object is either a `Course`, a `Section`, or an `Event`\n     *\n     * @remarks color collision is handled by separate chaining\n     */\n    private getColor(obj: Hashable): string {\n        const userColor = Schedule.savedColors[obj.key];\n        if (userColor) return userColor;\n\n        const colors = Schedule.colors;\n        const idx = obj.hash() % colors.length;\n        this.colorSlots[idx].add(obj.key);\n        return colors[idx];\n    }\n\n    /**\n     * temporarily add a new section to the schedule\n     * need to re-render the schedule\n     */\n    public preview(section: Section) {\n        this._preview = section;\n        this.computeSchedule(false);\n    }\n\n    public removePreview() {\n        this._preview = null;\n        this.computeSchedule(false);\n    }\n\n    /**\n     * highlight a course, if it exists on the schedule\n     * no re-render is needed.\n     */\n    public hover(key: string, strong = true) {\n        for (const blocks of this.days) {\n            for (const block of blocks) {\n                if (block.section.key === key) block.strong = strong;\n            }\n        }\n    }\n\n    public unhover(key: string) {\n        this.hover(key, false);\n    }\n\n    /**\n     * Compute the schedule view based on `this.All` and `this.preview`.\n     * If there is a pending compute task, remove that pending task.\n     * @param sync if true, synchronously execute this function, otherwise use setTimeout\n     * @param time the delay of setTimeout, in milliseconds\n     * @remarks this method has a very high time complexity.\n     * However, because we're running on small input sets (usually contain no more than 20 sections), it usually completes within 50ms.\n     * @note it is the caller's responsibility to call constructDateSeparators, which is necessary if new classes are added\n     */\n    public async computeSchedule(sync = true, time = 100) {\n        window.clearTimeout(this.pendingCompute);\n        if (sync) {\n            await this._computeSchedule();\n        } else {\n            this.pendingCompute = window.setTimeout(() => {\n                this._computeSchedule();\n            }, time);\n        }\n    }\n\n    private async _computeSchedule() {\n        const catalog = window.catalog;\n        if (!catalog) return;\n\n        this.cleanSchedule(false);\n        // we will not clean schedule blocks in this.days and place on it directly.\n        // Instead, we created a fresh object, and assign to this.days after blocks have been computed\n        // so there will not be a period in which no blocks are in this.days\n        const days: Schedule['days'] = [[], [], [], [], [], [], []];\n\n        const current: [Course, string[]][] = [];\n        for (const key in this.All) {\n            const temp = this.All[key];\n\n            // we need a full course record of key `key`\n            const fullCourse = catalog.getCourse(key);\n            const _creditStr = parseFloat(fullCourse.units);\n            const credit = isNaN(_creditStr) ? 0 : _creditStr;\n            // combine all groups because groups don't affect display\n            const sections =\n                temp === -1\n                    ? -1\n                    : temp.reduce((acc, group) => {\n                          if (group.size) {\n                              group.forEach(x => acc.add(x));\n                              // since we select one section from each group, we need to accumulate credit for each group\n                              this.totalCredit += credit;\n                          }\n                          return acc;\n                      }, new Set<number>());\n\n            // a \"partial\" course with only selected sections\n            const course = catalog.getCourse(key, sections);\n            // skip placing empty courses (any section or no sections are selected)\n            if (!course.sections.length) {\n                current.push([fullCourse, [' - ']]);\n                continue;\n            }\n            // if any section\n            if (sections === -1) {\n                current.push([fullCourse, [' - ']]);\n                this.place(course, days);\n            } else {\n                // only one section: place that section\n                if (sections.size === 1) {\n                    const sec = course.sections[0];\n                    current.push([fullCourse, [sec.id.toString()]]);\n                    this.place(sec, days);\n                } else if (sections.size > 0) {\n                    if (Schedule.multiSelect) {\n                        // try to combine sections even if we're in multi-select mode\n                        const combined = Object.values(course.getCombined()).map(secs =>\n                            catalog.getCourse(\n                                course.key,\n                                secs.map(sec => sec.id)\n                            )\n                        );\n                        for (const crs of combined) this.place(crs, days);\n                    } else {\n                        // a subset of the sections\n                        this.place(course, days);\n                    }\n                    current.push([fullCourse, course.sections.map(sec => sec.id.toString())]);\n                }\n            }\n        }\n\n        if (this._preview) {\n            const section = this._preview;\n\n            // do not place into the schedule if the section is already rendered\n            // instead, we highlight the schedule\n            let found = false;\n            for (const blocks of days) {\n                for (const block of blocks) {\n                    if (block.section.has(section)) found = block.strong = true;\n                }\n            }\n            if (!found) this.place(section, days);\n        }\n\n        // sort currentCourses in alphabetical order\n        current.sort((a, b) => -(a[0].key < b[0].key));\n        this.current.courses = current.map(x => x[0]);\n        this.current.ids = current.map(x => x[1]);\n\n        for (const event of this.events) if (event.display) this.place(event, days);\n\n        // const tStart = performance.now();\n        await computeBlockPositions(days);\n        // console.log('compute blocks', performance.now() - tStart);\n\n        const totalBlocks = days.reduce((sum, blocks) => sum + blocks.length, 0);\n        if (totalBlocks < 200) this.days = days;\n        // disable reactivity for large schedules\n        else if (totalBlocks < 2500 * 7) this.days = Object.seal(days);\n        else {\n            this.days = [[], [], [], [], [], [], []];\n            console.warn('not rendered!');\n        }\n    }\n\n    /**\n     * need to be called before `computeSchedule` if the `All` property is updated.\n     */\n    public constructDateSeparator() {\n        const dates: MeetingDate[] = [];\n\n        for (const key in this.All) {\n            const temp = this.All[key];\n\n            // combine sections from different group\n            const all =\n                temp instanceof Array\n                    ? temp.reduce((acc, x) => {\n                          for (const v of x) acc.add(v);\n                          return acc;\n                      }, new Set<number>())\n                    : -1;\n\n            const course = window.catalog.getCourse(key, all);\n            for (const section of course.sections) {\n                // also make sure that all meetings of this section are not TBA\n                if (section.dateArray && (section.valid & 0b100) === 0)\n                    dates.push(section.dateArray);\n            }\n        }\n\n        this.constructDateSeparatorFromDateList(dates);\n    }\n\n    public constructDateSeparatorFromDateList(dates: MeetingDate[]) {\n        const _temp = new Set<number>();\n        for (const date of dates) _temp.add(date![0]).add(date![1] + 24 * 60 * 60 * 1000);\n\n        this.dateSeparators = [..._temp].sort((a, b) => a - b);\n        if (this.dateSelector >= this.dateSeparators.length) this.dateSelector = -1;\n    }\n\n    /**\n     * check if the section should be rendered given the current dataSelector\n     * @param section\n     */\n    public checkDate(dateArray?: MeetingDate) {\n        if (!dateArray) return true;\n\n        const [start, end] = dateArray;\n        if (\n            this.dateSelector !== -1 &&\n            calcOverlap(\n                this.dateSeparators[this.dateSelector],\n                this.dateSeparators[this.dateSelector + 1],\n                start,\n                end\n            ) <= 0\n        )\n            return false;\n        return true;\n    }\n\n    /**\n     * place a `Section`/`Course`/`Event`/ into one of the days array according to its `days` property\n     * @remarks we can place a Course instance if all of its sections occur at the same time\n     */\n    private place(course: Section | Course | Event, days: ScheduleDays) {\n        if (course instanceof Section) {\n            if (!this.checkDate(course.dateArray)) return;\n            const color = this.getColor(course);\n            for (const meeting of course.meetings) {\n                this.placeHelper(color, days, course, meeting, course.dateArray);\n            }\n        } else if (course instanceof Event) {\n            if (course.display) {\n                this.placeHelper(this.getColor(course), days, course, undefined);\n            }\n        } else {\n            if (!course.allSameTime()) return;\n            const courseSec = course.sections;\n            const firstSec = courseSec[0];\n            if (!this.checkDate(firstSec.dateArray)) return;\n\n            // if only one section, just use the section rather than the section array\n            if (courseSec.length === 1) {\n                const color = this.getColor(firstSec);\n                for (const meeting of firstSec.meetings)\n                    this.placeHelper(color, days, firstSec, meeting, firstSec.dateArray);\n            } else {\n                if (Schedule.combineSections) {\n                    const color = this.getColor(course);\n                    for (const meeting of firstSec.meetings)\n                        this.placeHelper(color, days, course, meeting, firstSec.dateArray);\n                } else {\n                    // if we don't combined the sections, we call place for each section\n                    for (const section of courseSec) {\n                        // note: sections belonging to the same course will have the same color\n                        const color = this.getColor(section);\n                        for (const meeting of section.meetings)\n                            this.placeHelper(color, days, section, meeting, section.dateArray);\n                    }\n                }\n            }\n        }\n    }\n\n    private placeHelper<T extends Section | Course | Event>(\n        color: string,\n        days: ScheduleDays,\n        events: T,\n        meeting: T extends Event ? undefined : Meeting,\n        dateArray?: MeetingDate\n    ) {\n        const dayTimes = events instanceof Event ? events.days : meeting!.days;\n        // const dayTimes = events instanceof\n        const [daysStr, start, , end] = dayTimes.split(' ');\n        if (daysStr && start && end) {\n            const startMin = Utils.hr12toInt(start);\n            const endMin = Utils.hr12toInt(end);\n            // wait... start time equals end time?\n            if (startMin === endMin) {\n                console.warn('start time equals end time:', events, start, end);\n                return;\n            }\n            for (let i = 0; i < daysStr.length; i += 2) {\n                days[dayToInt[daysStr.substr(i, 2) as Day]].push(\n                    new ScheduleBlock(color, startMin, endMin, events, meeting, dateArray)\n                );\n            }\n        }\n    }\n\n    /**\n     * clean the computed properties of the schedule. They can be recovered by calling the\n     * `computeSchedule method`\n     */\n    public cleanSchedule(cleanDays = true) {\n        if (cleanDays) this.days = [[], [], [], [], [], [], []];\n\n        this.colorSlots = Array.from({ length: Schedule.colors.length }, () => new Set());\n        this.totalCredit = 0;\n        this.current.ids = [];\n        this.current.courses = [];\n    }\n\n    /**\n     * Serialize `this` to JSON\n     */\n    public toJSON(): ScheduleJSON {\n        const All: ScheduleJSON['All'] = {};\n        const catalog = window.catalog;\n        // convert set to array\n        for (const key in this.All) {\n            const sections = this.All[key];\n            if (sections instanceof Array) {\n                All[key] = sections.map(group => {\n                    const ids = [];\n                    for (const _id of group) {\n                        const { id, section } = catalog.getSectionById(_id);\n                        ids.push({ id, section });\n                    }\n                    return ids;\n                });\n            } else All[key] = sections;\n        }\n        return {\n            All,\n            events: this.events\n        };\n    }\n\n    /**\n     * Check whether the given key exists in the Schedule.\n     * @param key\n     * @param rendered (default to true)\n     * if true, only returns true if the course/event with the given key is rendered\n     */\n    public has(key: string, rendered = true) {\n        if (rendered)\n            return (\n                this.events.some(x => x.days === key) ||\n                this.days.some(blocks => blocks.some(block => block.section.key === key))\n            );\n        else return key in this.All || this.events.some(x => x.days === key);\n    }\n\n    /**\n     * returns whether a given section exists in this schedule (All)\n     */\n    public hasSection(key: string, section: number) {\n        const s = this.All[key];\n        return s instanceof Array && s.findIndex(g => g.has(section)) !== -1;\n    }\n\n    /**\n     * @returns true if none of the sections of this course is selected\n     */\n    public isCourseEmpty(key: string) {\n        const s = this.All[key];\n        return s instanceof Array && s.every(g => g.size === 0);\n    }\n\n    /**\n     * @returns whether some of the sections selected corresponding to the given course key have invalid meeting time\n     */\n    public isSomeTBD(key: string) {\n        const s = this.All[key];\n        if (!(s instanceof Array)) return false;\n        if (s.length === 0) return false;\n\n        const merged = new Set(s[0]);\n        for (let i = 1; i < s.length; i++) {\n            for (const v of s[i]) {\n                merged.add(v);\n            }\n        }\n        return window.catalog.getCourse(key, merged).sections.some(s => s.isTBD());\n    }\n\n    /**\n     * @returns whether the given course has `Any Section` selected\n     */\n    public isAnySection(key: string) {\n        return this.All[key] === -1;\n    }\n\n    /**\n     * @returns the group index corresponding to the given section\n     */\n    public getSectionGroup(key: string, section: number) {\n        const sections = this.All[key];\n        if (sections === -1 || !(sections instanceof Array)) return -1;\n        return sections.findIndex(s => s.has(section));\n    }\n\n    /**\n     * whether multiple groups exist for a given course\n     * @param key\n     */\n    public isGroup(key: string) {\n        const s = this.All[key];\n        return s instanceof Array && s.length > 1;\n    }\n\n    /**\n     * combine all groups\n     */\n    public ungroup(key: string) {\n        const s = this.All[key];\n        if (s instanceof Array && s.length > 1) {\n            const first = s[0];\n            // merge all groups into the first group\n            for (let i = 1; i < s.length; i++) {\n                for (const v of s[i]) {\n                    first.add(v);\n                }\n            }\n            s.splice(1);\n            this.constructDateSeparator();\n            this.computeSchedule();\n        }\n    }\n\n    public clean() {\n        this.cleanSchedule();\n        this.All = {};\n        this._preview = null;\n        this.events = [];\n        this.constructDateSeparator();\n    }\n\n    public empty() {\n        return Object.keys(this.All).length === 0 && this.events.length === 0;\n    }\n\n    public equals(s: Schedule) {\n        const days1 = this.events.map(x => x.days).sort();\n        const days2 = s.events.map(x => x.days).sort();\n        if (days1.length !== days2.length) return false;\n        for (let i = 0; i < days1.length; i++) if (days1[i] !== days2[i]) return false;\n\n        return this.allEquals(s.All);\n    }\n\n    /**\n     * returns if an \"All\" equals to another\n     * @param b another \"All\"\n     */\n    public allEquals(b: ScheduleAll) {\n        const a = this.All;\n        const keys = Object.keys(a);\n        // unequal length\n        if (keys.length !== Object.keys(b).length) return false;\n        for (const key of keys) {\n            const val1 = a[key],\n                val2 = b[key];\n            if (!val2) return false;\n            // unequal value\n            if (val1 === -1 || val2 === -1) {\n                if (val1 !== val2) return false;\n            } else {\n                if (val1.length !== val2.length) return false;\n                for (let i = 0; i < val1.length; i++) {\n                    let bigFlag = false;\n                    for (let j = 0; j < val2.length; j++) {\n                        const v1 = val1[i];\n                        const v2 = val2[j];\n                        let flag = true;\n                        for (const v of v1)\n                            if (!v2.has(v)) {\n                                flag = false;\n                                break;\n                            }\n                        if (flag) {\n                            bigFlag = true;\n                            break;\n                        }\n                    }\n                    if (!bigFlag) return false;\n                }\n            }\n        }\n\n        return true;\n    }\n}\n","/**\n * @module src/models\n * @author Kaiying Shan, Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { NotiMsg } from '@/store/notification';\nimport { TYPES, enableKeyConversion, keyRegex } from '../config';\nimport * as Utils from '../utils';\nimport Event from './Event';\nimport Schedule, { ScheduleAll, ScheduleJSON, SectionJSON } from './Schedule';\nimport Section from './Section';\nimport { DAYS } from './constants';\n\n/**\n * check whether the array is the correct JSON format for plannable v5.x to v7.x\n * @param arr\n */\n// eslint-disable-next-line\nfunction is_v5_v7(arr: any[]): arr is SectionJSON[] {\n    return typeof arr[0] === 'object' && typeof arr[0].id === 'number';\n}\n/**\n * check whether the array is the correct JSON format for plannable v8.x\n * @param arr\n */\n// eslint-disable-next-line\nfunction is_v8(arr: any[]): arr is SectionJSON[][] {\n    return arr[0] instanceof Array && is_v5_v7(arr[0]);\n}\n\nfunction filterSections(\n    group: SectionJSON[],\n    allSections: Section[],\n    warnings: string[],\n    convKey: string\n) {\n    const set = new Set<number>();\n    for (const record of group) {\n        // check whether the identifier of stored sections match with the existing sections\n        const target =\n            typeof record.section === 'undefined' // \"section\" property may not be recorded\n                ? allSections.find(sec => sec.id === record.id) // in that case we only compare id\n                : allSections.find(sec => sec.id === record.id && sec.section === record.section);\n        if (target) set.add(target.id);\n        // if not exist, it possibly means that section is removed from SIS\n        else\n            warnings.push(\n                `Section ${record.section} of ${convKey} does not exist anymore! It probably has been removed!`\n            );\n    }\n    return set;\n}\n\nexport default class ProposedSchedule extends Schedule {\n    constructor(raw: ScheduleAll = {}, events: Event[] = []) {\n        super(raw, events);\n    }\n\n    /**\n     * Update a section in the schedule\n     * - If the section is **already in** the schedule, delete it from the schedule\n     * - If the section is **not** in the schedule, add it to the schedule\n     * @param remove whether to remove the key if the set of sections is empty\n     * @param update whether to recompute the schedule after update\n     */\n    public update(key: string, section: number, groupIdx = 0, remove = true, update = true) {\n        if (section === -1) {\n            if (this.All[key] === -1) {\n                if (remove) delete this.All[key];\n                // empty set if remove is false\n                else this.All[key] = [];\n            } else {\n                this.All[key] = -1;\n            }\n        } else {\n            let sections = this.All[key];\n            if (sections instanceof Array) {\n                const prev = sections.find(g => g.has(section));\n                if (groupIdx < 0) groupIdx = 0;\n                const group = sections[groupIdx] || new Set();\n                if (prev === group) {\n                    // this section exists and is in the same group, remove\n                    if (group.delete(section)) {\n                        if (remove && this.isCourseEmpty(key)) delete this.All[key];\n                    } else {\n                        group.add(section);\n                    }\n                } else if (prev === undefined) {\n                    // does not exists previously, so just add\n                    group.add(section);\n                } else {\n                    // remove previous and add current\n                    prev.delete(section);\n                    group.add(section);\n                }\n                sections[groupIdx] = group;\n            } else {\n                // this is a new key\n                this.All[key] = sections = [new Set<number>().add(section)];\n            }\n            // remove trailing empty groups\n            for (let i = sections.length - 1; i >= 0 && sections[i].size === 0; i--) sections.pop();\n\n            // fill in empty values\n            for (let i = 0; i < sections.length; i++) {\n                if (!(sections[i] instanceof Set)) {\n                    sections[i] = new Set();\n                }\n            }\n        }\n        if (update) {\n            this.constructDateSeparator();\n            this.computeSchedule();\n        }\n    }\n\n    /**\n     * add an event to this schedule\n     * @throws error if an existing event conflicts with this event\n     */\n    public addEvent(\n        days: string,\n        display: boolean,\n        title?: string,\n        room?: string,\n        description?: string\n    ) {\n        for (const e of this.events) {\n            if (e.days === days) {\n                throw new Error(\n                    `Your new event's time is identical to ${e.title}. Please consider merging these two events.`\n                );\n            }\n        }\n        const ev = new Event(days, display, title, description, room);\n        this.events.push(ev);\n        this.computeSchedule();\n        return ev;\n    }\n\n    public deleteEvent(days: string) {\n        for (let i = 0; i < this.events.length; i++) {\n            if (this.events[i].days === days) {\n                this.events.splice(i, 1);\n                break;\n            }\n        }\n        this.computeSchedule();\n    }\n\n    /**\n     * instantiate a `Schedule` object from its JSON representation.\n     * the `computeSchedule` method will **not** be invoked after instantiation\n     *\n     * @returns NotiMsg, whose level might be one of the following\n     * 1. success: a schedule is successfully parsed from the JSON object\n     * 2. warn: a schedule is successfully parsed, but some of the courses/sections recorded no longer exist\n     * in the catalog\n     * 3. error: the object passed in is falsy\n     */\n    public static fromJSON(obj?: ScheduleJSON): NotiMsg<ProposedSchedule> {\n        if (!obj)\n            return {\n                level: 'error',\n                msg: 'Invalid object'\n            };\n        const schedule = new ProposedSchedule();\n        if (obj.events)\n            schedule.events = obj.events.map(x =>\n                Object.freeze(x instanceof Event ? x : Object.setPrototypeOf(x, Event.prototype))\n            );\n\n        const keys = Object.keys(obj.All).map(x => x.toLowerCase());\n        if (keys.length === 0)\n            return {\n                level: 'success',\n                msg: 'Empty schedule',\n                payload: schedule\n            };\n\n        const warnings: string[] = [];\n        const catalog = window.catalog;\n        // convert array to set\n        for (const key of keys) {\n            const sections = obj.All[key] as any;\n\n            // try to find the course corresponding to the recorded key\n            const course = catalog.getCourse(key);\n\n            let convKey = key;\n            // converted key to human readable form, if enabled\n            if (enableKeyConversion) {\n                const parts = key.match(keyRegex);\n                if (parts && parts.length === 4) {\n                    parts[3] = TYPES[+parts[3] as 1];\n                    parts[1] = parts[1].toUpperCase();\n                    convKey = parts.slice(1).join(' ');\n                }\n            }\n            // non existent course\n            if (!course) {\n                warnings.push(`${convKey} does not exist anymore! It probably has been removed!`);\n                continue;\n            }\n            // all of the existing sections\n            const allSections = course.sections;\n            if (sections instanceof Array) {\n                if (!sections.length) {\n                    schedule.All[key] = [];\n                } else {\n                    // backward compatibility for version prior to v5.0 (inclusive)\n                    if (Utils.isNumberArray(sections)) {\n                        schedule.All[key] = [\n                            new Set(\n                                sections\n                                    .filter(sid => {\n                                        // sid >= length possibly implies that section is removed from SIS\n                                        if (sid >= allSections.length) {\n                                            warnings.push(\n                                                `Invalid section id ${sid} for ${convKey}. It probably has been removed!`\n                                            );\n                                        }\n                                        return sid < allSections.length;\n                                    })\n                                    .map(idx => allSections[idx].id)\n                            )\n                        ];\n                        // console.log('< v5 json detected');\n                    } else if (is_v5_v7(sections)) {\n                        schedule.All[key] = [\n                            filterSections(sections, allSections, warnings, convKey)\n                        ];\n                        // console.log('v5-v7 json detected');\n                    } else if (is_v8(sections)) {\n                        schedule.All[key] = sections.map(group =>\n                            filterSections(group, allSections, warnings, convKey)\n                        );\n                        // console.log('v8 json detected');\n                    } else {\n                        schedule.All[key] = [new Set()];\n                    }\n                }\n            } else {\n                schedule.All[key] = sections;\n            }\n        }\n        if (warnings.length) {\n            return {\n                level: 'warn',\n                payload: schedule,\n                msg: warnings.join('<br>')\n            };\n        } else {\n            return {\n                level: 'success',\n                payload: schedule,\n                msg: 'Success'\n            };\n        }\n    }\n\n    /**\n     * get a copy of this schedule\n     */\n    public copy(deepCopyEvent = true) {\n        const AllCopy = this._copy();\n        // note: is it desirable to deep-copy all the events?\n        return new ProposedSchedule(\n            AllCopy,\n            deepCopyEvent ? this.events.map(e => e.copy()) : this.events\n        );\n    }\n\n    /**\n     * add some random event to the schedule. For testing purposes only\n     */\n    private randEvents(num = 20, maxDuration = 240, minDuration = 20) {\n        for (let i = 0; i < num; i++) {\n            let days = '';\n            for (let j = 0; j < 7; j++) {\n                if (Math.random() < 0.5) {\n                    days += DAYS[j];\n                }\n            }\n            if (!days) {\n                i--;\n                continue;\n            }\n            const start = Math.floor(Math.random() * (1440 - maxDuration));\n            const end =\n                start + minDuration + Math.floor(Math.random() * (maxDuration - minDuration));\n            if (end >= 1440) continue;\n\n            days +=\n                ' ' +\n                Utils.to12hr(Utils.intTo24hr(start)) +\n                ' - ' +\n                Utils.to12hr(Utils.intTo24hr(end));\n            // no dup check\n            this.events.push(new Event(days, true, 'rand ' + i));\n        }\n        this.computeSchedule();\n        window.saveStatus();\n    }\n\n    private addAllClasses() {\n        const catalog = window.catalog;\n        for (const course of catalog.courses) {\n            if (course.type != 'IND') {\n                const secs = [\n                    new Set(\n                        course.sections\n                            .filter(s => s.meetings.every(m => m.room.indexOf('Web-Based') === -1))\n                            .map(s => s.id)\n                    )\n                ];\n                if (secs[0].size) this.All[course.key] = secs;\n            }\n        }\n        this.constructDateSeparator();\n        this.computeSchedule();\n    }\n\n    /**\n     * Remove a course (and all its sections) from the schedule\n     */\n    public remove(key: string) {\n        delete this.All[key];\n        this.constructDateSeparator();\n        this.computeSchedule();\n    }\n}\n","/**\n * @module src/models\n * @author Kaiying Shan, Hanzhi Zhou\n */\n\n/**\n *\n */\nimport Schedule, { ScheduleAll } from './Schedule';\nimport Event from './Event';\nimport ProposedSchedule from './ProposedSchedule';\nimport { RawAlgoCourse } from '../algorithm/ScheduleGenerator';\nimport { GeneratedError } from '../utils/other';\n\nconst generatedMsg =\n    'You are editing a generated schedule, please edit the proposed schedule instead. If you want to keep this particular generated schedule, click \"copy\" to do so.';\n\nexport default class GeneratedSchedule extends Schedule {\n    /**\n     * A generated schedule's All can never contain -1 (Any Section)\n     */\n    public All: ScheduleAll<Set<number>[]>;\n\n    constructor(raw: RawAlgoCourse[] = [], events: Event[] = []) {\n        const tempAll: GeneratedSchedule['All'] = {};\n        for (const [key, sections] of raw) {\n            const secs = tempAll[key];\n            if (secs) {\n                secs.push(new Set(sections));\n            } else {\n                tempAll[key] = [new Set(sections)];\n            }\n        }\n        super(tempAll, events);\n        this.All = tempAll;\n    }\n\n    public update() {\n        throw new GeneratedError(generatedMsg);\n    }\n\n    public remove() {\n        throw new GeneratedError(generatedMsg);\n    }\n\n    public copy(deepCopyEvent = true): ProposedSchedule {\n        const AllCopy = this._copy();\n        // note: is it desirable to deep-copy all the events?\n        return new ProposedSchedule(\n            AllCopy,\n            deepCopyEvent ? this.events.map(e => e.copy()) : this.events\n        );\n    }\n}\n","/**\n * @module src/algorithm\n * @author Hanzhi Zhou, Kaiying Shan\n */\n\n/**\n *\n */\nimport GeneratedSchedule from '../models/GeneratedSchedule';\nimport Event from '../models/Event';\nimport { RawAlgoCourse } from './ScheduleGenerator';\n\n// eslint-disable-next-line @typescript-eslint/no-use-before-define\nexport type SortFunctionNames =\n    | 'variance'\n    | 'compactness'\n    | 'lunchTime'\n    | 'noEarly'\n    | 'distance'\n    | 'similarity'\n    | 'IamFeelingLucky';\n\n/**\n * representation of a single sort option\n * corresponds to the SortOption struct in ScheduleGenerator.cpp\n */\nexport interface SortOption {\n    /** name of this sort option*/\n    readonly name: SortFunctionNames;\n    /** whether or not this option is enabled */\n    enabled: boolean;\n    /** whether to sort in reverse */\n    reverse: boolean;\n    /**\n     * the index into the sortFunctions array.\n     * Used to get the sort function corresponding to this option\n     */\n    readonly idx: number;\n    /** the weight of this sort option, used by the combined sort mode only */\n    weight: number;\n}\n\n/** enum for the two sort modes */\nexport enum SortMode {\n    fallback = 0,\n    combined = 1\n}\n\n/** options for the schedule evaluator */\nexport interface EvaluatorOptions {\n    readonly sortBy: readonly SortOption[];\n    mode: SortMode;\n}\n/**\n * The goal of the schedule evaluator is to efficiently sort the generated schedules\n * according to the set of the rules defined by the user\n */\nclass ScheduleEvaluator {\n    private _refSchedule!: GeneratedSchedule['All'];\n    /**\n     * @param options\n     * @param events the array of events kept, use to construct generated schedules\n     * @param classList the array of (combined) sections\n     */\n    constructor(\n        public options: Readonly<EvaluatorOptions> = { sortBy: [], mode: 0 },\n        private readonly events: Event[] = [],\n        private readonly classList: RawAlgoCourse[] = [],\n        private readonly secLens: number[] = [],\n        refSchedule: GeneratedSchedule['All'] = {},\n        private readonly Module?: typeof window.NativeModule\n    ) {\n        this.refSchedule = refSchedule;\n    }\n\n    get size() {\n        if (!this.Module) return 0;\n        return this.Module._size();\n    }\n\n    get refSchedule() {\n        return this._refSchedule;\n    }\n\n    set refSchedule(refSchedule: GeneratedSchedule['All']) {\n        this._refSchedule = refSchedule;\n\n        // don't do anything if this is an empty evaluator or the ref schedule is set to empty\n        if (!this.Module || Object.keys(refSchedule).length === 0) return;\n\n        const numCourses = this.secLens.length - 1;\n        const ptr = this.Module!._malloc(numCourses * 2);\n        const refScheduleEncoded = this.Module.HEAPU16.subarray(ptr / 2, ptr / 2 + numCourses).fill(\n            65535\n        );\n        for (const key in refSchedule) {\n            // all section ids of the course with key=key in the reference schedule\n            const refSecs = refSchedule[key].reduce<number[]>((acc, x) => {\n                for (const id of x) acc.push(id);\n                return acc;\n            }, []);\n            for (let i = 0; i < numCourses; i++) {\n                for (let j = this.secLens[i]; j < this.secLens[i + 1]; j++) {\n                    const secs = this.classList[j];\n                    if (secs[0] === key && refSecs.some(id => secs[1].includes(id))) {\n                        refScheduleEncoded[i] = j;\n                        break;\n                    }\n                }\n            }\n        }\n        this.Module._setRefSchedule(ptr);\n    }\n\n    public sort({ newOptions }: { newOptions?: EvaluatorOptions } = {}) {\n        if (!this.Module) return;\n\n        console.time('sort');\n        if (newOptions) this.options = newOptions;\n        this.Module!._setSortMode(this.options.mode);\n\n        // keep the order (!important!)\n        for (let i = 0; i < this.options.sortBy.length; i++) {\n            const option = this.options.sortBy[i];\n            this.Module!._setSortOption(\n                i,\n                +option.enabled,\n                +option.reverse,\n                option.idx,\n                option.weight || 0.0\n            );\n        }\n        this.Module!._sort();\n        console.timeEnd('sort');\n    }\n\n    /**\n     * Get a `Schedule` object at idx\n     */\n    public getSchedule(idx: number) {\n        const Module = this.Module!;\n\n        const ptr = Module._getSchedule(idx) / 2;\n        return new GeneratedSchedule(\n            Array.from(Module.HEAPU16.subarray(ptr, ptr + this.secLens.length - 1)).map(\n                choice => this.classList[choice]\n            ),\n            this.events\n        );\n    }\n    /**\n     * whether this evaluator contains an empty array of schedules\n     */\n    public empty() {\n        return this.size === 0;\n    }\n\n    public getRange(opt: SortOption) {\n        if (!this.Module) return 1.0;\n        if (opt.name == 'IamFeelingLucky') return 1.0;\n        return this.Module!._getRange(opt.idx);\n    }\n}\nexport default ScheduleEvaluator;\n","/**\n * @module src/algorithm\n * @author Hanzhi Zhou, Zichao Hu, Kaiying Shan\n */\n\n/**\n *\n */\nimport { CourseStatus } from '../config';\nimport Course from '../models/Course';\nimport Event from '../models/Event';\nimport GeneratedSchedule from '../models/GeneratedSchedule';\nimport ProposedSchedule from '../models/ProposedSchedule';\nimport { NotiMsg } from '../store/notification';\nimport { calcOverlap, parseDate } from '../utils';\nimport ScheduleEvaluator, { EvaluatorOptions } from './ScheduleEvaluator';\n\n/**\n * TODO: add description\n */\nexport type TimeArray = [number[], number[], number[], number[], number[], number[], number[]];\n/**\n * Start and end date in millisecond (obtained via `Date.getTime`)\n */\nexport type MeetingDate = [number, number];\n\n/**\n * The data structure used in the algorithm to represent a Course that\n * possibly has multiple sections combined (occurring at the same time)\n *\n * 0: key of this course\n * 1: an array of section indices\n *\n * Example:\n * ```js\n * [\"span20205\", [0, 1, 2]]\n * ```\n */\nexport type RawAlgoCourse = [string, number[]];\n\n/**\n * return true if two [[TimeArray]] objects have overlapping time blocks, false otherwise\n * @param timeArray1\n * @param timeArray2\n * @param step1 the increment step for array 1\n * @param step2 the increment step for array 2\n * @note use step=2 for time only array, use step=3 for time-room combined array\n */\nexport function checkTimeConflict(\n    timeArray1: TimeArray,\n    timeArray2: TimeArray,\n    step1 = 2,\n    step2 = 2\n) {\n    for (let i = 0; i < 7; i++) {\n        // skip the entire inner loop if needed\n        const day1 = timeArray1[i],\n            day2 = timeArray2[i];\n        if (!day2.length) continue;\n\n        for (let j = 0; j < day1.length; j += step1) {\n            const begin1 = day1[j];\n            const end1 = day1[j + 1];\n            for (let k = 0; k < day2.length; k += step2)\n                if (calcOverlap(begin1, end1, day2[k], day2[k + 1]) > 0) return true;\n        }\n    }\n    return false;\n}\n\n/**\n * returns an array with all time arrays in `timeArrayList` concatenated together. The offsets\n * of time array of section `i` at day k is at `i * 8 + k` position of the resulting array.\n */\nfunction timeArrayToCompact(Module: EMModule, timeArrays: TimeArray[]) {\n    const numSections = timeArrays.length;\n    const prefixLen = numSections * 8;\n    let len = prefixLen;\n    for (const sec of timeArrays) {\n        for (const day of sec) {\n            len += day.length;\n        }\n    }\n    const ptr = Module._malloc(len * 2);\n    const arr = Module.HEAPU16.subarray(ptr / 2);\n    len = 0;\n    for (let i = 0; i < numSections; i++) {\n        for (let k = 0; k < 7; k++) {\n            arr[i * 8 + k] = len;\n            const day = timeArrays[i][k];\n            arr.set(day, len + prefixLen);\n            len += day.length;\n        }\n        arr[i * 8 + 7] = len;\n    }\n    return ptr;\n}\n\n/**\n * pre-compute `conflictCache` using `timeArrayList` and `dateList`\n */\nfunction computeConflict(\n    timeArrayList: TimeArray[],\n    dateList: MeetingDate[],\n    conflictCache: Uint8Array\n) {\n    const numSections = timeArrayList.length;\n    // pre-compute the conflict between each pair of sections\n    for (let i = 0; i < numSections; i++) {\n        for (let j = i + 1; j < numSections; j++) {\n            // conflict is symmetric\n            conflictCache[i * numSections + j] = conflictCache[j * numSections + i] = +(\n                checkTimeConflict(timeArrayList[i], timeArrayList[j], 3, 3) &&\n                calcOverlap(dateList[i][0], dateList[i][1], dateList[j][0], dateList[j][1]) !== -1\n            );\n        }\n    }\n}\n\nexport interface GeneratorOptions {\n    timeSlots: Event[];\n    status: CourseStatus[];\n    sortOptions: EvaluatorOptions;\n    combineSections: boolean;\n    maxNumSchedules: number;\n}\n\n/**\n * The schedule generator generates all possible schedules satisfying the given constraints (filters)\n * out of the courses/sections that the user has selected\n */\nclass ScheduleGenerator {\n    constructor(\n        public readonly catalog: Window['catalog'],\n        public readonly timeMatrix: Window['timeMatrix'],\n        public readonly options: GeneratorOptions\n    ) {}\n\n    /**\n     * The entrance of the schedule generator\n     * @returns a [[ScheduleEvaluator]] Object\n     */\n    public getSchedules(\n        schedule: ProposedSchedule,\n        refSchedule: GeneratedSchedule['All'] = {}\n    ): NotiMsg<ScheduleEvaluator> {\n        console.time('algorithm bootstrapping');\n\n        // convert events to TimeArrays so that we can easily check for time conflict\n        const timeSlots: TimeArray[] = schedule.events.map(e => e.toTimeArray());\n        for (const event of this.options.timeSlots) timeSlots.push(event.toTimeArray());\n\n        const classList: RawAlgoCourse[] = [];\n        const timeArrayList: TimeArray[] = [];\n        const dateList: MeetingDate[] = [];\n\n        const secLens = [0];\n        const courses = schedule.All;\n\n        const msgs: NotiMsg<ScheduleEvaluator>[] = [];\n        // for each course selected, form an array of sections\n        for (const key in courses) {\n            const temp = courses[key];\n            const allSections = temp === -1 ? ([-1] as const) : temp;\n\n            let noSelected = true;\n            for (let i = 0; i < allSections.length; i++) {\n                const subgroup = allSections[i];\n\n                // ignore empty group\n                if (subgroup instanceof Set && subgroup.size === 0) continue;\n\n                const courseRec = this.catalog.getCourse(key, subgroup);\n\n                const [classes, timeArrays, dates, allInvalid] = this.filterSections(\n                    courseRec,\n                    timeSlots\n                );\n\n                noSelected = false;\n                // give an warning if none of the sections pass the filter\n                if (classes.length === 0) {\n                    msgs.push({\n                        level: 'warn',\n                        msg: `Not scheduled: ${courseRec.displayName}${\n                            i === 0 || subgroup === -1 ? '' : ' belonging to group ' + i // don't show group idx for default group or Any Section\n                        }. Reason: No sections satisfy your filters and do not conflict with your events`\n                    });\n                } else {\n                    secLens.push(classes.length);\n                    classList.push(...classes);\n                    timeArrayList.push(...timeArrays);\n                    dateList.push(...dates);\n                }\n                if (allInvalid) {\n                    msgs.push({\n                        level: 'warn',\n                        msg: `Warning: No sections of ${courseRec.displayName}${\n                            i === 0 || subgroup === -1 ? '' : ' belonging to group ' + i // don't show group idx for default group or Any Section\n                        } have valid meeting times (e.g. All TBA/TBD/Online Asynchronous). It will not be shown on the schedule grid.`\n                    });\n                }\n            }\n            if (noSelected) {\n                return {\n                    level: 'error',\n                    msg: `No sections of ${\n                        this.catalog.getCourse(key, -1).displayName\n                    } are selected!`\n                };\n            }\n        }\n\n        if (classList.length === 0) {\n            return {\n                level: 'error',\n                msg: 'Given your filter, we cannot generate schedules without overlapping classes'\n            };\n        }\n        // change to prefix array\n        for (let i = 1; i < secLens.length; i++) {\n            secLens[i] += secLens[i - 1];\n        }\n        const Module = window.NativeModule;\n\n        // pointer to the cache for the number of sections in each course\n        const secLenPtr = Module._malloc(secLens.length * 4);\n        Module.HEAP32.set(secLens, secLenPtr / 4);\n\n        // the side length of the conflict cache matrix\n        const _size = classList.length ** 2;\n        const conflictCachePtr = Module._malloc(_size);\n\n        // prepare the conflictCache\n        computeConflict(\n            timeArrayList,\n            dateList,\n            Module.HEAPU8.subarray(conflictCachePtr, conflictCachePtr + _size)\n        );\n        console.timeEnd('algorithm bootstrapping');\n\n        console.time('running algorithm:');\n        const size = Module._generate(\n            secLens.length - 1,\n            this.options.maxNumSchedules,\n            secLenPtr,\n            conflictCachePtr,\n            timeArrayToCompact(Module, timeArrayList)\n        );\n        console.timeEnd('running algorithm:');\n\n        if (size < 0)\n            return {\n                level: 'error',\n                msg: 'Out of memory! Please try to reduce the max number of schedules'\n            };\n        if (size === 0)\n            return {\n                level: 'error',\n                msg: 'Given your filter, we cannot generate schedules without overlapping classes'\n            };\n\n        const evaluator = new ScheduleEvaluator(\n            this.options.sortOptions,\n            schedule.events,\n            classList,\n            secLens,\n            refSchedule,\n            window.NativeModule\n        );\n\n        evaluator.sort();\n\n        let msgString = '';\n        for (const msg of msgs) msgString += msg.msg + '<br>';\n        return {\n            level: msgs.length > 0 ? 'warn' : 'success',\n            msg: `${msgString}${size} Schedules Generated!`,\n            payload: evaluator\n        };\n    }\n\n    private filterSections(courseRec: Course, timeSlots: TimeArray[]) {\n        const classes: RawAlgoCourse[] = [],\n            timeArrays: TimeArray[] = [],\n            dates: MeetingDate[] = [];\n\n        // combine all sections of this course occurring at the same time, if enabled\n        const combined = this.options.combineSections\n            ? Object.values(courseRec.getCombined())\n            : courseRec.sections.map(s => [s]);\n\n        let allInvalid = true;\n        // for each combined section, form a RawAlgoCourse\n        outer: for (const sections of combined) {\n            // only take the time and room info of the first section\n            // time will be the same for sections in this array\n            // but rooms..., well this is a compromise\n            const date = parseDate(sections[0].dates);\n            if (!date) continue;\n\n            const timeArray = sections[0].getTimeRoom();\n            if (timeArray.some(arr => arr.length > 0)) {\n                allInvalid = false;\n\n                // don't include this combined section if it conflicts with any time filter or event.\n                for (const td of timeSlots) {\n                    if (checkTimeConflict(td, timeArray, 2, 3)) continue outer;\n                }\n            }\n            const secIndices: number[] = [];\n            for (const section of sections) {\n                // filter out sections with unwanted status\n                if (this.options.status.includes(section.status)) continue;\n\n                secIndices.push(section.id);\n            }\n\n            if (secIndices.length) {\n                classes.push([courseRec.key, secIndices]);\n                timeArrays.push(timeArray);\n                dates.push(date);\n            }\n        }\n\n        return [classes, timeArrays, dates, allInvalid] as const;\n    }\n}\n\nexport default ScheduleGenerator;\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { hr24toInt, intTo24hr } from '@/utils';\nimport { StoreModule } from '.';\n\nexport interface DisplayState {\n    [x: string]: any;\n    // course block options\n    showTime: boolean;\n    showRoom: boolean;\n    showInstructor: boolean;\n    showClasslistTitle: boolean;\n    showSuffix: boolean;\n\n    // grid schedule options\n    fullHeight: number;\n    partialHeight: number;\n    earliest: string;\n    latest: string;\n    standard: boolean;\n\n    // schedule compute options\n    multiSelect: boolean;\n    combineSections: boolean;\n    maxNumSchedules: number;\n    colorScheme: number;\n\n    // search options\n    expandOnEntering: boolean;\n    numSearchResults: number;\n\n    // weekdays\n    showWeekend: boolean;\n}\n\nfunction bound(num: number, low: number, high: number) {\n    return Math.min(Math.max(low, num), high);\n}\n\nexport type DisplayJSONShort = [number, ...any[]];\n\n/**\n * the display module handles global display options\n * @author Hanzhi Zhou\n */\nexport class Display implements StoreModule<DisplayState, DisplayState> {\n    public static compressJSON(obj: DisplayState) {\n        // get all keys in the display object and sort them\n        const keys = Object.keys(obj).sort();\n        const result: DisplayJSONShort = [0];\n\n        // convert to binary, the first key => the first/rightmost bit\n        let bits = 0;\n        let counter = 1;\n        for (const key of keys) {\n            if (obj[key] === true) {\n                bits |= counter;\n                counter <<= 1;\n            } else if (obj[key] === false) {\n                counter <<= 1;\n            } else {\n                result.push(obj[key]);\n            }\n        }\n        result[0] = bits;\n        return result;\n    }\n    public static decompressJSON(obj: DisplayJSONShort) {\n        const displaySettings = new Display();\n\n        // get and sort keys in displaySettings\n        const keys = Object.keys(displaySettings).sort();\n\n        // if the key name contains '_' then it corresponds to a certain index in data\n        // else it is in the binary\n        let counter = 1,\n            mask = 1;\n        const bits = obj[0];\n        for (const key of keys) {\n            if (key.startsWith('_')) {\n                displaySettings[key] = obj[counter++];\n            } else {\n                displaySettings[key] = Boolean(bits & mask);\n                mask <<= 1;\n            }\n        }\n        return displaySettings;\n    }\n\n    [x: string]: any;\n    showTime = false;\n    showRoom = true;\n    showInstructor = true;\n    showClasslistTitle = true;\n    showSuffix = true;\n    standard = false;\n    multiSelect = true;\n    combineSections = true;\n    expandOnEntering = false;\n    enableLog = true;\n    showWeekend = false;\n\n    private _fullHeight = 40;\n    private _partialHeight = 30;\n    private _maxNumSchedules = 200000;\n    private _numSearchResults = 6;\n    private _earliest = '08:00';\n    private _latest = '19:00';\n    private _width = 100;\n    private _colorScheme = 0;\n\n    // validators\n    get fullHeight() {\n        return this._fullHeight;\n    }\n    set fullHeight(x) {\n        this._fullHeight = bound(x, 1, 100);\n    }\n    get partialHeight() {\n        return this._partialHeight;\n    }\n    set partialHeight(x) {\n        this._partialHeight = bound(x, 1, 100);\n    }\n    get numSearchResults() {\n        return this._numSearchResults;\n    }\n    set numSearchResults(x) {\n        this._numSearchResults = bound(x, 1, 20);\n    }\n    get maxNumSchedules() {\n        return this._maxNumSchedules;\n    }\n    set maxNumSchedules(x) {\n        this._maxNumSchedules = bound(x, 1000, 5000000);\n    }\n    get earliest() {\n        return this._earliest;\n    }\n    set earliest(e) {\n        this._earliest = intTo24hr(bound(hr24toInt(e || '8:00'), 0, 12 * 60 - 1));\n    }\n    get latest() {\n        return this._latest;\n    }\n    set latest(e) {\n        this._latest = intTo24hr(bound(hr24toInt(e || '22:00'), 12 * 60, 24 * 60 - 1));\n    }\n    get width() {\n        return this._width;\n    }\n    set width(e) {\n        this._width = bound(e, 10, 10000);\n    }\n    get colorScheme() {\n        return this._colorScheme;\n    }\n    set colorScheme(e) {\n        this._colorScheme = e;\n    }\n\n    // when doing serialization, we only record the enumerable properties, excluding the getters\n    fromJSON(obj: Partial<DisplayState>) {\n        const defaultVal = this.getDefault();\n        for (const key in defaultVal) {\n            const val = obj[key];\n            const defVal = defaultVal[key];\n            if (typeof val === typeof defVal) {\n                this[key] = val;\n            } else {\n                this[key] = defVal;\n            }\n        }\n    }\n\n    toJSON() {\n        return this;\n    }\n\n    getDefault() {\n        return new Display();\n    }\n}\n\nexport default new Display();\n","/**\n * @module src/store\n * @author Hanzhi Zhou\n */\n\n/**\n * the noti level type corresponds to the three different log levels available in Console\n * @see console.info\n * @see console.warn\n * @see console.error\n */\ntype ConsoleLevel = 'info' | 'error' | 'warn';\n/**\n * the noti class type corresponds to the bootstrap color classes\n */\ntype NotiClass = 'info' | 'danger' | 'success' | 'warning';\n\n/**\n * @typeparam T the type of the payload\n */\nexport interface NotiMsg<T> {\n    level: ConsoleLevel | 'success';\n    msg: string;\n    payload?: T;\n}\n\n/**\n * the current state of the notification\n */\ninterface NotiState {\n    /**\n     * the notification message\n     */\n    msg: string;\n    /**\n     * @see [[NotiClass]]\n     */\n    cls: NotiClass | '';\n}\n\n/**\n * A notification item represents a notification state in the past\n */\ninterface NotiItem extends NotiState {\n    /**\n     * time stamp created by\n     * ```js\n     * new Date().toLocaleTimeString()\n     * ```\n     */\n    stamp: string;\n}\n\n/**\n * map console types to bootstrap css classes\n */\nconst CLAS = Object.freeze({\n    info: 'info',\n    error: 'danger',\n    warn: 'warning',\n    success: 'success'\n}) as { [x in ConsoleLevel | 'success']: NotiClass };\n\n/**\n * map bootstrap css classes to notification type\n */\nconst CONS = Object.freeze({\n    info: 'info',\n    danger: 'error',\n    success: 'info',\n    warning: 'warn'\n}) as { [x in NotiClass]: ConsoleLevel };\n\nconst LEVELS: { [x in NotiClass]: number } = Object.freeze({\n    info: 0,\n    success: 1,\n    warning: 2,\n    danger: 3\n});\n\n/**\n * the notification module encapsulates common functions used to\n * inform user about the results of certain actions\n */\nclass Notification implements NotiState {\n    public msg = '';\n    public cls: NotiClass | '' = '';\n    /**\n     * history of the notification states. index 0 corresponds to the most recent one\n     */\n    public history: Readonly<NotiItem>[] = [];\n    private job: number | null = null;\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param type the type of notification\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public notify<T>(\n        msg: string | NotiMsg<T>,\n        cls: NotiClass = 'info',\n        timeout = 5,\n        override = false\n    ) {\n        if (typeof msg !== 'string') {\n            cls = CLAS[msg.level];\n            msg = msg.msg;\n        }\n        // new notification comes first\n        this.history.unshift({\n            msg,\n            cls,\n            stamp: new Date().toLocaleTimeString()\n        });\n        console[CONS[cls]](msg);\n\n        if (!this.cls || LEVELS[cls] >= LEVELS[this.cls] || override) {\n            if (this.job) window.clearTimeout(this.job);\n            this.msg = msg;\n            this.cls = cls;\n            this.clear(timeout);\n        }\n    }\n\n    public empty() {\n        return !this.msg && !this.cls;\n    }\n\n    /**\n     * clear the current notification\n     * @param timeout clear the current notification after `timeout` seconds. Default to 0, which clears the current notification immediately.\n     */\n    public clear(timeout = 0) {\n        if (timeout <= 0) {\n            this.msg = '';\n            this.cls = '';\n            this.job = null;\n        } else {\n            this.job = window.setTimeout(() => this.clear(0), timeout * 1000);\n        }\n    }\n\n    public clearHistory() {\n        this.history = [];\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public warn(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'warning', timeout, override);\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public error(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'danger', timeout, override);\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public success(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'success', timeout, override);\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public info(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'info', timeout, override);\n    }\n}\n\nexport default new Notification();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport { DAYS } from '@/models/constants';\nimport Schedule, { ScheduleAll, SectionJSON } from '@/models/Schedule';\nimport ProposedSchedule from '@/models/ProposedSchedule';\nimport { to12hr } from '@/utils';\nimport { StoreModule } from '.';\nimport ScheduleEvaluator, {\n    EvaluatorOptions,\n    SortFunctionNames,\n    SortMode,\n    SortOption\n} from '../algorithm/ScheduleEvaluator';\nimport noti, { NotiMsg } from './notification';\nimport GeneratedSchedule from '@/models/GeneratedSchedule';\n\ninterface FilterStateBase {\n    readonly timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n}\n\nexport interface FilterState extends FilterStateBase {\n    sortOptions: DetailedEvaluatorOptions;\n    refSchedule: GeneratedSchedule['All'];\n}\n\nexport interface FilterStateJSON extends FilterStateBase {\n    sortOptions: EvaluatorOptions;\n    refSchedule: ScheduleAll<SectionJSON[][]>;\n}\n\n/**\n * A sort option with detailed description\n * @see [[SortOption]]\n */\ninterface DetailedSortOption extends SortOption {\n    /**\n     * the names of the sorting options that cannot be applied when this option is enabled\n     */\n    readonly exclusive: readonly SortFunctionNames[];\n    /**\n     * text displayed next to the checkbox\n     */\n    readonly title: string;\n    /**\n     * text displayed in tooltip\n     */\n    readonly description: string;\n}\n\n/**\n * A JSON-serializable version of the [[EvaluatorOptions]] with more details\n */\ninterface DetailedEvaluatorOptions extends EvaluatorOptions {\n    sortBy: readonly DetailedSortOption[];\n    toJSON: () => EvaluatorOptions;\n    fromJSON: (x?: EvaluatorOptions) => DetailedEvaluatorOptions;\n}\n\n/**\n * index 0 - 6: whether Mo - Su are selected\n *\n * 7: start time, of 24 hour format\n *\n * 8: end time, of 24 hour format\n */\nexport type TimeSlot = [\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    string,\n    string\n];\nexport type TimeSlotShort = [number, string, string];\n\n/**\n * a list of sort options with default values assigned\n */\nconst defaultOptions: DetailedEvaluatorOptions = {\n    sortBy: [\n        {\n            name: 'distance',\n            enabled: true,\n            reverse: false,\n            idx: 0,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Walking Distance',\n            description: 'Avoid long distance walking between classes'\n        },\n        {\n            name: 'variance',\n            enabled: true,\n            reverse: false,\n            idx: 1,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Variance',\n            description: 'Balance the class time each day'\n        },\n        {\n            name: 'compactness',\n            enabled: false,\n            reverse: false,\n            idx: 2,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Vertical compactness',\n            description: 'Make classes back-to-back'\n        },\n        {\n            name: 'lunchTime',\n            enabled: false,\n            reverse: false,\n            idx: 3,\n            weight: 1,\n\n            exclusive: ['IamFeelingLucky'],\n            title: 'Lunch Time',\n            description: 'Leave spaces for lunch'\n        },\n        {\n            name: 'noEarly',\n            enabled: false,\n            reverse: false,\n            idx: 4,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'No Early',\n            description: 'Start my day as late as possible'\n        },\n        {\n            name: 'similarity',\n            enabled: false,\n            reverse: false,\n            idx: 5,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Similarity',\n            description: 'Similar to a selected schedule'\n        },\n        {\n            name: 'IamFeelingLucky',\n            enabled: false,\n            reverse: false,\n            idx: 6,\n            weight: 1,\n            exclusive: ['variance', 'compactness', 'lunchTime', 'noEarly', 'distance'],\n            title: `I'm Feeling Lucky`,\n            description: 'Sort randomly'\n        }\n    ],\n    mode: SortMode.combined,\n    toJSON() {\n        return {\n            sortBy: this.sortBy.map(x => ({\n                name: x.name,\n                enabled: x.enabled,\n                reverse: x.reverse,\n                idx: x.idx,\n                weight: x.weight\n            })),\n            mode: this.mode\n        };\n    },\n    fromJSON(raw?: EvaluatorOptions) {\n        if (raw && raw.mode !== undefined && raw.sortBy) {\n            this.mode = raw.mode;\n            for (const rawSort of raw.sortBy) {\n                for (const sort of this.sortBy) {\n                    if (sort.name === rawSort.name) {\n                        sort.enabled = rawSort.enabled;\n                        sort.reverse = rawSort.reverse;\n                        sort.weight = rawSort.weight || 1;\n                        break;\n                    }\n                }\n            }\n        }\n        return this;\n    }\n};\n\n/**\n * get a copy of the default options\n */\nfunction getDefaultOptions() {\n    const options = Object.assign({}, defaultOptions);\n    options.sortBy = options.sortBy.map(x => Object.assign({}, x));\n    return options;\n}\n\n// this property must be non-reactive,\n// otherwise the reactive observer will slow down execution significantly\nwindow.scheduleEvaluator = new ScheduleEvaluator();\n\n/**\n * the filter module handles the storage and manipulation of filters\n * @author Hanzhi Zhou\n */\nexport class FilterStore implements StoreModule<FilterState, FilterStateJSON> {\n    public static compressJSON(obj: FilterStateJSON) {\n        // convert allowClosed, allowWaitlist, mode to binary\n        let filterBits = 0;\n        if (obj.allowClosed) filterBits += 2 ** 0;\n        if (obj.allowWaitlist) filterBits += 2 ** 1;\n        if (obj.sortOptions.mode === 1) filterBits += 2 ** 2;\n\n        // sorting\n        // add all initial ascii to the array in order\n        // add the binary of their respective state: enabled or reverse\n        let mask = 1;\n        let sortBits = 0;\n\n        // name_initial ascii code :[c,d,l,n,s,v,I] --> could change in order\n        const initials: number[] = [];\n        const weights: number[] = [];\n        for (const sortBy of obj.sortOptions.sortBy) {\n            initials.push(sortBy.name.charCodeAt(0));\n            if (sortBy.enabled) sortBits |= mask;\n            mask <<= 1;\n            if (sortBy.reverse) sortBits |= mask;\n            mask <<= 1;\n            weights.push(sortBy.weight);\n        }\n        const { payload: schedule, level, msg } = ProposedSchedule.fromJSON({\n            All: obj.refSchedule,\n            events: []\n        });\n        if (level === 'warn')\n            noti.warn(\n                'Warning: Reference schedule used in sort by similarity is removed because <br>' +\n                    msg\n            );\n\n        return [\n            filterBits,\n            sortBits,\n            initials,\n            weights,\n            // use 7 bits to represent the 7 days\n            obj.timeSlots.map(timeSlot => {\n                let m = 1,\n                    flag = 0;\n                for (let i = 0; i < 7; i++) {\n                    if (timeSlot[i]) flag |= m;\n                    m <<= 1;\n                }\n                return [flag, timeSlot[7], timeSlot[8]] as const;\n            }),\n            // we ignore the events\n            schedule && level !== 'warn' ? Schedule.compressJSON(schedule.toJSON())[0] : {}\n        ] as const;\n    }\n\n    public static decompressJSON(obj: ReturnType<typeof FilterStore.compressJSON>) {\n        const filter = new FilterStore();\n        const [filterBits, sortBits, initials, weights, slots, ref] = obj;\n\n        // get allowClosed, allowWaitlist, mode from binary\n        filter.allowClosed = Boolean(filterBits & 1);\n        filter.allowWaitlist = Boolean(filterBits & 2);\n        filter.sortOptions.mode = +Boolean(filterBits & 4); // convert to 0 or 1\n\n        // decode time slots\n        filter.timeSlots = slots.map(slot => {\n            const timeSlot: TimeSlot = [\n                false,\n                false,\n                false,\n                false,\n                false,\n                false,\n                false,\n                slot[1],\n                slot[2]\n            ];\n            const bits = slot[0];\n            let m = 1;\n            for (let i = 0; i < 7; i++) {\n                timeSlot[i] = Boolean(m & bits);\n                m <<= 1;\n            }\n            return timeSlot;\n        });\n\n        // decode the enable and reverse info of sort\n        const sortBy = filter.sortOptions.sortBy;\n        const sortCopy = [];\n        // loop through the ascii initials and match to the object name\n        let mask = 1;\n        for (let i = 0; i < initials.length; i++) {\n            const initial = initials[i];\n            const sortOpt = sortBy.find(s => s.name.charCodeAt(0) === initial)!;\n\n            // if matched, decode the enabled and reverse info from the binary\n            sortOpt.enabled = Boolean(sortBits & mask);\n            mask <<= 1;\n\n            sortOpt.reverse = Boolean(sortBits & mask);\n            mask <<= 1;\n\n            sortOpt.weight = weights[i];\n\n            sortCopy.push(sortOpt);\n        }\n        filter.sortOptions.sortBy = sortCopy;\n        const { payload: schedule, level } = ProposedSchedule.fromJSON(\n            Schedule.decompressJSON([ref])\n        );\n        if (schedule && level !== 'warn') filter.refSchedule = schedule.All as any; // this guarantees to be a generated schedule\n        return filter.toJSON();\n    }\n\n    timeSlots: TimeSlot[] = [];\n    allowWaitlist = true;\n    allowClosed = true;\n    sortOptions = getDefaultOptions();\n    refSchedule: GeneratedSchedule['All'] = {};\n    readonly sortModes = [\n        {\n            mode: SortMode.combined,\n            title: 'Combined',\n            description: 'Combine all sorting options enabled and given them equal weight'\n        },\n        {\n            mode: SortMode.fallback,\n            title: 'Fallback',\n            description:\n                'Sort using the options on top first. If compare equal, sort using the next option.' +\n                ' You can drag the sorting options to change their order.'\n        }\n    ] as const;\n\n    get similarityEnabled() {\n        return Object.keys(this.refSchedule).length !== 0;\n    }\n\n    addTimeSlot() {\n        this.timeSlots.push([false, false, false, false, false, false, false, '', '']);\n    }\n    removeTimeSlot(n: number) {\n        this.timeSlots.splice(n, 1);\n    }\n\n    /**\n     * Preprocess the time filters and convert them to an array of event.\n     * returns null on parsing error\n     */\n    computeFilter(): NotiMsg<Event[]> {\n        const events: Event[] = [];\n\n        // no time slots => no time filter\n        if (!this.timeSlots.length)\n            return {\n                msg: 'no filters',\n                level: 'success',\n                payload: events\n            };\n\n        for (const time of this.timeSlots) {\n            let days = '';\n            for (let j = 0; j < 7; j++) {\n                if (time[j]) days += DAYS[j];\n            }\n\n            if (!days) continue;\n\n            const startTime = time[7].split(':');\n            const endTime = time[8].split(':');\n            if (\n                isNaN(+startTime[0]) ||\n                isNaN(+startTime[1]) ||\n                isNaN(+endTime[0]) ||\n                isNaN(+endTime[1])\n            ) {\n                return {\n                    msg: 'Invalid time input! Please check your filters.',\n                    level: 'error'\n                };\n            }\n            days += ' ' + to12hr(time[7]) + ' - ' + to12hr(time[8]);\n            events.push(new Event(days, false));\n        }\n\n        if (!events.length)\n            return {\n                msg: 'You need to select at least one day! Please check your filters.',\n                level: 'error'\n            };\n\n        return {\n            msg: 'success',\n            level: 'success',\n            payload: events\n        };\n    }\n\n    fromJSON(obj: Partial<FilterStateJSON>) {\n        const defaultVal = this.getDefault();\n        this.timeSlots = obj.timeSlots instanceof Array ? obj.timeSlots : defaultVal.timeSlots;\n        this.allowClosed =\n            typeof obj.allowClosed === 'boolean' ? obj.allowClosed : defaultVal.allowClosed;\n        this.allowWaitlist =\n            typeof obj.allowWaitlist === 'boolean' ? obj.allowWaitlist : defaultVal.allowWaitlist;\n        this.sortOptions = defaultVal.sortOptions.fromJSON(obj.sortOptions);\n\n        const { payload: schedule, level, msg } = ProposedSchedule.fromJSON({\n            All: obj.refSchedule || {},\n            events: []\n        });\n        if (level === 'warn')\n            noti.warn(\n                'Warning: Reference schedule used in sort by similarity is removed because <br>' +\n                    msg\n            );\n        // this guarantees to be a generated schedule\n        this.refSchedule =\n            schedule && level !== 'warn' ? (schedule.All as any) : defaultVal.refSchedule;\n    }\n\n    toJSON(): FilterStateJSON {\n        // exclude sort modes\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { sortModes, refSchedule: ref, ...others } = this;\n        const refSchedule = new ProposedSchedule(ref).toJSON().All as any; // this guarantees to be a generated schedule\n        return { refSchedule, ...others };\n    }\n\n    getDefault() {\n        return new FilterStore();\n    }\n}\n\nexport default new FilterStore();\n","/**\n * @module src/store\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport { getReleaseNote } from '@/utils';\nimport 'bootstrap';\nimport $ from 'jquery';\nimport Course from '../models/Course';\nimport Section from '../models/Section';\n\n/**\n * the modal module handles modal triggering\n */\nclass Modal {\n    section: Section | null = null;\n    course: Course | null = null;\n    url = '';\n    match: SearchMatch = [[], new Map()];\n\n    showSectionModal(section: Section) {\n        this.section = section;\n        $('#section-modal').modal();\n    }\n\n    showCourseModal(course: Course, match?: SearchMatch) {\n        this.course = course;\n        this.match = match || [[], new Map()];\n        $('#course-modal').modal();\n    }\n\n    showURLModal(url: string) {\n        this.url = url;\n        $('#url-modal').modal();\n    }\n\n    async showReleaseNoteModal() {\n        const note = await getReleaseNote();\n        $('#release-note-body').html(note);\n        $('#versionModal').modal();\n    }\n}\n\nexport default new Modal();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { StoreModule } from '.';\n\nexport interface PaletteState {\n    savedColors: { [x: string]: string };\n}\n\n/**\n * the palette module handles the customization of colors of courses and events\n * @author Hanzhi Zhou\n */\nexport class Palette implements StoreModule<PaletteState, PaletteState> {\n    public static compressJSON(obj: PaletteState) {\n        return obj.savedColors;\n    }\n    public static decompressJSON(obj: ReturnType<typeof Palette.compressJSON>) {\n        return { savedColors: obj };\n    }\n    public savedColors: { [x: string]: string } = {};\n\n    fromJSON(obj: PaletteState) {\n        this.savedColors = obj.savedColors || {};\n    }\n\n    getDefault() {\n        return new Palette();\n    }\n\n    toJSON() {\n        return this;\n    }\n}\n\nexport default new Palette();\n","/* eslint-disable @typescript-eslint/camelcase */\n/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { SemesterJSON } from '@/models/Catalog';\nimport { SemesterStorage } from '.';\nimport axios from 'axios';\nimport { backend, runningOnElectron } from '@/config';\nimport { NotiMsg } from './notification';\nimport { stringify } from 'querystring';\nimport { timeout } from '@/utils';\n\ninterface BackendBaseResponse {\n    /** true if success, false otherwise */\n    success: boolean;\n    /** reason for failure. If success, can put anything here */\n    message: string;\n}\n\ninterface BackendFailedResponse extends BackendBaseResponse {\n    success: false;\n}\n\ninterface BackendListRequest {\n    /** the profile name. If omitted, return all the profiles (each profile should be the latest version) */\n    name?: string;\n    /** only present if \"name\" is present. If this field is missing, then the latest profile should be returned */\n    version?: number;\n}\n\ninterface ProfileVersion {\n    /** number of milliseconds since Unix epoch */\n    modified: number;\n    /** User Agent from the Http Header */\n    userAgent: string;\n    /** the version number */\n    version: number;\n}\n\ninterface BackendListItem {\n    /** keys of all historical versions for this profile. They can be used as the \"version\" field to query historical profiles */\n    versions: ProfileVersion[];\n    /** the body of the profile corresponding to the queried version. It should be the latest profile if the version number is missing */\n    profile: string;\n}\n\ninterface BackendListResponse extends BackendBaseResponse {\n    success: true;\n    /** if the name field of the request is missing, this should be a list of all profiles. Otherwise, this should be a list of 1 profile corresponding to the name and version given. */\n    profiles: BackendListItem[];\n}\n\n/** the format of a profile entry to upload to the remote */\ninterface BackendProfile {\n    /** name of the profile */\n    name: string;\n    /** content of the profile */\n    profile: string;\n    /** whether to force create a new version for this file. If this field is false or is not present, then it is up to the server to decide whether to create a new version */\n    new?: true;\n}\n\ninterface BackendUploadRequest {\n    /** list of profiles to be uploaded */\n    profiles: BackendProfile[];\n}\n\ninterface BackendUploadResponse extends BackendBaseResponse {\n    success: true;\n    /** version information of each newly uploaded profile. If failed, this field is not present */\n    versions: ProfileVersion[][];\n}\n\ninterface BackendRenameRequest {\n    action: 'rename';\n    oldName: string;\n    newName: string;\n    profile: string;\n}\n\ninterface BackendRenameResponse extends BackendBaseResponse {\n    success: true;\n    versions: ProfileVersion[];\n}\n\ninterface BackendDeleteRequest {\n    action: 'delete';\n    /** the name of the profile to be deleted */\n    name: string;\n}\n\ninterface BackendDeleteResponse extends BackendBaseResponse {\n    success: true;\n}\n\nexport interface LocalProfileEntry {\n    /** name of the profile */\n    name: string;\n    /** whether the profile is synced with the remote */\n    remote: boolean;\n    /** historical versions of this profile stored on the remote. Invalid if remote=false */\n    versions: ProfileVersion[];\n    /** current version of this profile selected (locally). Invalid if remote=false */\n    currentVersion: number;\n}\n\n/**\n * the profile class handles profiles adding, renaming and deleting\n * @note profile selection is handled in the [[Store]] class\n * because it also needs to manipulate other store modules\n * @author Hanzhi Zhou\n */\nclass Profile {\n    /**\n     * the name of the current profile.\n     * This is a reactive property. Whenever changed, the `currentProfile` in the `localStorage` will be updated\n     */\n    current: string;\n    /**\n     * an array of local profile names and their associated information\n     */\n    profiles: LocalProfileEntry[];\n    /**\n     * the access token type. If this field is non-empty, that means we have a valid access token and can communicate with the backend.\n     */\n    tokenType!: string;\n    private accessToken!: string;\n\n    constructor() {\n        this.current = localStorage.getItem('currentProfile') || '';\n        const profiles: any[] = JSON.parse(localStorage.getItem('profiles') || '[]') || [];\n        if (profiles.length === 0) this.profiles = profiles;\n        else {\n            if (typeof profiles[0] === 'string')\n                this.profiles = profiles.map(p => this.createProfile(p));\n            else if (typeof profiles[0] === 'object') {\n                this.profiles = profiles;\n            } else {\n                console.error('unknown profile format');\n                this.profiles = [];\n            }\n        }\n\n        this.loadToken();\n    }\n\n    loadToken() {\n        this.tokenType = localStorage.getItem('token_type') || '';\n        this.accessToken = localStorage.getItem('access_token') || '';\n    }\n\n    /**\n     * initialize profile storage if it does not exist already.\n     * set [[Profile.current]] to the name of the latest semester\n     */\n    initProfiles(semesters: SemesterJSON[]) {\n        if (!semesters.length) return;\n\n        const name = localStorage.getItem('currentProfile');\n        const profiles = [];\n        if (!name) {\n            // backward compatibility\n            for (const sem of semesters.concat().reverse()) {\n                const oldData = localStorage.getItem(sem.id);\n                if (oldData) {\n                    let parsed: Partial<SemesterStorage> | null = null;\n                    try {\n                        parsed = JSON.parse(oldData);\n                    } catch (e) {\n                        console.error(e);\n                    }\n                    if (parsed) {\n                        parsed.name = sem.name;\n                        localStorage.removeItem(sem.id);\n                        localStorage.setItem(sem.name, JSON.stringify(parsed));\n                        profiles.push(sem.name);\n                    }\n                }\n            }\n\n            // latest semester\n            const latest = semesters[0].name;\n            if (!profiles.includes(latest)) profiles.push(latest);\n\n            this.current = latest;\n            this.profiles = profiles.map(p => this.createProfile(p));\n        }\n    }\n\n    createProfile(name: string): LocalProfileEntry {\n        return {\n            name,\n            remote: false,\n            versions: [],\n            currentVersion: -1\n        };\n    }\n\n    /**\n     * from https://stackoverflow.com/questions/18338890/are-there-any-sha-256-javascript-implementations-that-are-generally-considered-t\n     * @param message\n     */\n    async sha256(message: string) {\n        // encode as UTF-8\n        const msgBuffer = new TextEncoder().encode(message);\n\n        // hash the message\n        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);\n\n        // convert ArrayBuffer to Array\n        const hashArray = Array.from(new Uint8Array(hashBuffer));\n\n        // convert bytes to hex string\n        const hashHex = hashArray.map(b => ('00' + b.toString(16)).slice(-2)).join('');\n        return hashHex;\n    }\n\n    /**\n     * get the redirect url for the authorization code flow. For the desktop app (electron), a configured uri will be used.\n     */\n    private getRedirectURL() {\n        return runningOnElectron ? backend.oauth_electron_redirect_uri : window.location.origin;\n    }\n\n    /**\n     * redirect to the url for requesting an authorization code. It should redirect back with the code attached to the url.\n     */\n    async loginBackend() {\n        const code_verifier = Math.random().toString();\n        const state = Math.random().toString();\n        localStorage.setItem('auth_state', state);\n        localStorage.setItem('auth_code_verifier', code_verifier);\n        window.location.href = `${backend.code}?${stringify({\n            client_id: backend.client_id,\n            state,\n            redirect_uri: this.getRedirectURL(),\n            code_challenge: await this.sha256(code_verifier),\n            code_challenge_method: 'S256'\n        })}`;\n    }\n\n    /**\n     * using the code, request an access token.\n     * @param code\n     */\n    async getBackendToken(code: string | null) {\n        if (code) {\n            const response = await axios.post(backend.token, {\n                client_id: backend.client_id,\n                code,\n                grant_type: 'authorization_code',\n                code_verifier: localStorage.getItem('auth_code_verifier'),\n                redirect_uri: this.getRedirectURL()\n            });\n            localStorage.removeItem('auth_state');\n            localStorage.removeItem('auth_code_verifier');\n            const data = response.data;\n            if (data['access_token']) {\n                localStorage.setItem('access_token', data['access_token']);\n                localStorage.setItem('token_type', data['token_type']);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * rename a profile. If remote=true, also rename the remote profile.\n     * note that name duplication is not checked! This check should be done by the caller.\n     * @see [[ExportView.renameProfile]]\n     * @param raw the content fetched from localStorage.getItem(oldName)\n     */\n    async renameProfile(idx: number, oldName: string, newName: string, raw: string) {\n        if (oldName === this.current) this.current = newName;\n\n        const parsed = JSON.parse(raw);\n        parsed.name = newName;\n        localStorage.removeItem(oldName);\n\n        const newProf = JSON.stringify(parsed);\n        localStorage.setItem(newName, newProf);\n\n        this.profiles[idx].name = newName;\n\n        if (this.tokenType && this.profiles[idx].remote) {\n            const resp = await this.requestBackend<BackendRenameRequest, BackendRenameResponse>(\n                backend.edit,\n                {\n                    action: 'rename',\n                    oldName,\n                    newName,\n                    profile: newProf\n                }\n            );\n            if (!resp.success) {\n                this.logout();\n                return {\n                    msg: `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`,\n                    level: 'error'\n                } as const;\n            }\n\n            this.profiles[idx].versions = resp.versions.sort((a, b) => b.version - a.version);\n            this.profiles[idx].currentVersion = resp.versions[0].version;\n        }\n    }\n\n    /**\n     * delete a profile from the remote\n     * @param name\n     */\n    async deleteRemote(name: string) {\n        const msg: NotiMsg<string> = {\n            msg: '',\n            level: 'success'\n        };\n        const resp = await this.requestBackend<BackendDeleteRequest, BackendDeleteResponse>(\n            backend.edit,\n            {\n                action: 'delete',\n                name\n            }\n        );\n        if (!resp.success) {\n            if (resp.message === \"Profile doesn't exist\") {\n                msg.level = 'warn';\n                msg.msg = `Profile ${name} is already deleted from ${backend.name}! The deletion was probably requested by another device.`;\n            } else {\n                this.logout();\n                msg.level = 'error';\n                msg.msg = `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`;\n            }\n        }\n        return msg;\n    }\n\n    /**\n     * delete a profile. If remote and requestRemote=true, also delete it from the remote.\n     * @returns A noti message containing the name of the previous profile if the deleted profile is selected, undefined otherwise\n     */\n    async deleteProfile(name: string, idx: number, requestRemote = true) {\n        let msg: NotiMsg<string> = {\n            msg: '',\n            level: 'success'\n        };\n        if (this.tokenType && this.profiles[idx].remote && requestRemote)\n            msg = await this.deleteRemote(name);\n\n        this.profiles.splice(idx, 1);\n        localStorage.removeItem(name);\n\n        if (name === this.current) {\n            if (idx === this.profiles.length) {\n                msg.payload = this.current = this.profiles[idx - 1].name;\n            } else {\n                msg.payload = this.current = this.profiles[idx].name;\n            }\n        }\n        return msg;\n    }\n\n    /**\n     * parse a profile from string, add it to the list of profiles, store it in localStorage, and set [[Profile.current]] to be the newly added profile.\n     * If the newly added profile overwrites an existing profile that is marked as remote, also upload it to the remote\n     * @note it is the caller's responsibility to call loadProfile() to load the newly added profile\n     * @param newProfile the profile to add\n     * @param fallbackName the fallback name if `newProfile` does not contain the name of the profile\n     * @param overwriteMsg the message shown to the user if there already exists a profile of the same name\n     */\n    async addProfile(\n        newProfile: Partial<SemesterStorage>,\n        fallbackName = 'Untitled',\n        overwriteMsg = ''\n    ) {\n        // change modified time to new to it can overwrite remote profiles\n        newProfile.modified = new Date().toJSON();\n        newProfile.name = newProfile.name || fallbackName;\n        let prof = this.profiles.find(p => p.name === newProfile.name);\n        if (prof) {\n            if (\n                !confirm(\n                    overwriteMsg ||\n                        `A profile named ${newProfile.name} already exists! Click confirm to overwrite, click cancel to keep both.`\n                )\n            ) {\n                let idx = 2;\n                while (this.profiles.find(p => p.name === `${newProfile.name} (${idx})`)) idx++;\n                newProfile.name = `${newProfile.name} (${idx})`;\n\n                localStorage.setItem(newProfile.name, JSON.stringify(newProfile));\n                this.profiles.push((prof = this.createProfile(newProfile.name)));\n            }\n        } else {\n            this.profiles.push((prof = this.createProfile(newProfile.name)));\n        }\n\n        const data = JSON.stringify(newProfile);\n        localStorage.setItem(newProfile.name, data);\n        this.current = newProfile.name;\n\n        if (this.tokenType && prof.remote) {\n            const msg = await this.uploadProfile([\n                {\n                    profile: data,\n                    name: newProfile.name,\n                    new: true\n                }\n            ]);\n            if (msg) return msg;\n        }\n    }\n\n    isLatest(idx: number) {\n        const prof = this.profiles[idx];\n        return !prof.remote || prof.currentVersion === prof.versions[0].version;\n    }\n\n    /**\n     * request a backend api endpoint with authorization headers\n     * @param endpoint url for the api endpoint\n     * @param request the request object\n     */\n    private async requestBackend<RequestType, ResponseType extends BackendBaseResponse>(\n        endpoint: string,\n        request: RequestType\n    ): Promise<ResponseType | BackendFailedResponse> {\n        try {\n            return (\n                await timeout(\n                    axios.post<ResponseType>(endpoint, request, {\n                        headers: {\n                            Authorization: this.tokenType + ' ' + this.accessToken\n                        }\n                    }),\n                    6000,\n                    'Timed out'\n                )\n            ).data;\n        } catch (err) {\n            return {\n                success: false,\n                message: err.message || err\n            };\n        }\n    }\n\n    /**\n     * get a specific version of a profile\n     */\n    async getRemoteProfile(name: string, version: number) {\n        const resp = await this.requestBackend<BackendListRequest, BackendListResponse>(\n            backend.down,\n            {\n                name,\n                version\n            }\n        );\n        const msg: NotiMsg<BackendListItem> = {\n            level: 'success',\n            msg: ''\n        };\n        if (resp.success) {\n            msg.payload = resp.profiles[0];\n        } else {\n            msg.level = 'error';\n            msg.msg = `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`;\n            this.logout();\n        }\n        return msg;\n    }\n\n    /**\n     * upload the list of profiles given to the remote, and also update their version histories\n     * @note the list of profiles given must be present in [[Profile.profiles]]. If not, [[Profile.addProfile]] must be called first.\n     * @param profiles\n     * @returns an error message when failed, undefined when success\n     */\n    async uploadProfile(profiles: BackendProfile[]) {\n        const resp = await this.requestBackend<BackendUploadRequest, BackendUploadResponse>(\n            backend.up,\n            { profiles }\n        );\n\n        if (!resp.success) {\n            this.logout();\n            return {\n                msg: `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`,\n                level: 'error'\n            } as const;\n        }\n\n        // for each uploaded profile, update their version history.\n        for (let i = 0; i < profiles.length; i++) {\n            const name = profiles[i].name;\n            const version = resp.versions[i].sort((a, b) => b.version - a.version);\n            const profile = this.profiles.find(p => p.name === name)!;\n            profile.versions = version;\n            profile.currentVersion = version[0].version;\n        }\n    }\n\n    /**\n     * Synchronize local profiles with the remote profiles\n     * @returns a noti message indicating success/failure\n     */\n    async syncProfiles(): Promise<NotiMsg<undefined>> {\n        if (!this.tokenType) {\n            return {\n                msg: 'No backend exists. Abort syncing profiles',\n                level: 'warn'\n            };\n        }\n        const resp = await this.requestBackend<BackendListRequest, BackendListResponse>(\n            backend.down,\n            {}\n        );\n        if (!resp.success) {\n            this.logout();\n            return {\n                msg: `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`,\n                level: 'error'\n            };\n        }\n\n        const remoteProfMap = new Map(\n            resp.profiles.map(p => {\n                const parsed: SemesterStorage = JSON.parse(p.profile)!;\n                return [\n                    parsed.name,\n                    {\n                        versions: p.versions.sort((a, b) => b.version - a.version),\n                        profile: parsed\n                    }\n                ];\n            })\n        );\n\n        // for local profiles marked as sync, if they are not in the remote list, that means they are deleted (by another device). Remove them from local.\n        this.profiles.concat().forEach(p => {\n            if (p.remote && !remoteProfMap.has(p.name)) {\n                this.deleteProfile(\n                    p.name,\n                    this.profiles.findIndex(p2 => p2.name === p.name),\n                    false\n                );\n            }\n        });\n\n        const needUpload: BackendProfile[] = [],\n            needDownload: string[] = [];\n        for (const [name, { profile: remoteProf, versions: remoteVersions }] of remoteProfMap) {\n            const prof = this.profiles.find(p => p.name === name);\n            if (prof && prof.remote) {\n                const localRaw = localStorage.getItem(name)!;\n                const localProf: SemesterStorage = JSON.parse(localRaw);\n                const localTime = new Date(localProf.modified).getTime();\n                const remoteTime = new Date(remoteProf.modified).getTime();\n\n                if (localTime < remoteTime) {\n                    // remote profile is newer\n                    localStorage.setItem(name, JSON.stringify(remoteProf));\n                    prof.versions = remoteVersions;\n                    prof.currentVersion = remoteVersions[0].version;\n\n                    needDownload.push(name);\n                } else if (localTime > remoteTime) {\n                    // local profile is newer\n                    needUpload.push({\n                        name,\n                        profile: localRaw,\n                        new: true\n                    });\n                } else {\n                    // if the local profile is the same as the remote profile (in terms of modified time), just fetch the version history from the remote.\n                    prof.versions = remoteVersions;\n                    prof.currentVersion = remoteVersions[0].version;\n                }\n            } else if (prof && !prof.remote) {\n                // unsynchronized local profile that has the same name as the remote profile\n                const localRaw = localStorage.getItem(name)!;\n                const localProf: SemesterStorage = JSON.parse(localRaw);\n                if (\n                    localProf.schedule.proposedSchedules.length > 1 ||\n                    (localProf.schedule.proposedSchedules.length === 1 &&\n                        (Object.keys(localProf.schedule.proposedSchedules[0].All).length > 0 ||\n                            localProf.schedule.proposedSchedules[0].events.length > 0))\n                ) {\n                    // if the local is nonempty\n                    // this case should rarely occur\n                    const localTime = new Date(localProf.modified).getTime();\n                    const remoteTime = new Date(remoteProf.modified).getTime();\n                    if (localTime <= remoteTime) {\n                        // remote is newer: overwrite local with remote and set remote to true\n                        localStorage.setItem(name, JSON.stringify(remoteProf));\n                        prof.remote = true;\n                        prof.versions = remoteVersions;\n                        prof.currentVersion = remoteVersions[0].version;\n\n                        needDownload.push(name);\n                    } else {\n                        if (\n                            confirm(\n                                `On the cloud (${backend.name}) there exists a profile called \"${name}\", but locally you have a non-synchronized profile of the same name and is newer. Do you want to turn on synchronization for this profile? If you turned on synchronization, a new version of \"${name}\" will be created on ${backend.name}. You will still be able to retrieve the original version on ${backend.name} by viewing the version history.`\n                            )\n                        ) {\n                            prof.remote = true;\n                            needUpload.push({\n                                name,\n                                profile: localRaw,\n                                new: true\n                            });\n                        }\n                    }\n                } else {\n                    // if local is empty, we overwrite the local with the remote\n                    localStorage.setItem(name, JSON.stringify(remoteProf));\n                    prof.versions = remoteVersions;\n                    prof.currentVersion = remoteVersions[0].version;\n                    prof.remote = true;\n\n                    needDownload.push(name);\n                }\n            } else {\n                // this remote profile is not present locally. Download it.\n                localStorage.setItem(name, JSON.stringify(remoteProf));\n                this.profiles.push({\n                    name,\n                    remote: true,\n                    versions: remoteVersions,\n                    currentVersion: remoteVersions[0].version\n                });\n\n                needDownload.push(name);\n            }\n        }\n\n        const msg = await this.uploadProfile(needUpload);\n        if (msg) return msg;\n\n        return {\n            msg: `Successfully synchronized your profiles with Hoosmyprofessor. Uploaded ${needUpload\n                .map(p => p.name)\n                .join(', ') || 'none'}, downloaded ${needDownload.join(', ') || 'none'}.`,\n            level: 'success'\n        };\n    }\n\n    logout() {\n        localStorage.removeItem('token_type');\n        localStorage.removeItem('access_token');\n        this.tokenType = '';\n        this.accessToken = '';\n    }\n}\n\nexport default new Profile();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport ScheduleEvaluator from '../algorithm/ScheduleEvaluator';\nimport { StoreModule } from '.';\nimport ProposedSchedule from '../models/ProposedSchedule';\nimport Schedule, { ScheduleJSON } from '../models/Schedule';\nimport noti from './notification';\n\ninterface ScheduleStateBase {\n    /**\n     * the index of the current schedule in the scheduleEvaluator.schedules array,\n     * only applicable when generated=true\n     */\n    currentScheduleIndex: number;\n    /**\n     * the index of the active proposed\n     */\n    proposedScheduleIndex: number;\n    /**\n     * The index of the proposed schedule corresponding to the generated schedules contained in\n     * `window.scheduleEvaluator`\n     */\n    cpIndex: number;\n    /**\n     * indicates whether the currently showing schedule is the generated schedule\n     */\n    generated: boolean;\n    /**\n     * the array of proposed schedules\n     */\n    proposedSchedules: object[];\n}\n\nexport interface ScheduleState extends ScheduleStateBase {\n    proposedSchedules: ProposedSchedule[];\n    /**\n     * currently rendered schedule\n     */\n    currentSchedule: Schedule;\n    /**\n     * total number of generated schedules, has the same value as\n     * `window.scheduleEvaluator.size()`\n     */\n    numGenerated: number;\n}\n\nexport interface ScheduleStateJSON extends ScheduleStateBase {\n    proposedSchedules: ScheduleJSON[];\n}\n\n// eslint-disable-next-line\nexport interface ScheduleStore extends ScheduleState { }\n\n/**\n * the schedule module provides methods to manipulate schedules\n * @author Hanzhi Zhou\n */\nexport class ScheduleStore implements StoreModule<ScheduleState, ScheduleStateJSON> {\n    public static compressJSON(obj: ScheduleStateJSON) {\n        return [\n            obj.currentScheduleIndex,\n            obj.proposedScheduleIndex,\n            obj.cpIndex,\n            +obj.generated,\n            obj.proposedSchedules.map(s => Schedule.compressJSON(s))\n        ] as const;\n    }\n\n    public static decompressJSON(\n        obj: ReturnType<typeof ScheduleStore.compressJSON>\n    ): ScheduleStateJSON {\n        return {\n            currentScheduleIndex: obj[0],\n            proposedScheduleIndex: obj[1],\n            cpIndex: obj[2],\n            generated: Boolean(obj[3]),\n            proposedSchedules: obj[4].map(s => Schedule.decompressJSON(s))\n        };\n    }\n\n    constructor() {\n        Object.assign(this, this.getDefault());\n    }\n    /**\n     * the proposed schedule that is currently active\n     */\n    get proposedSchedule() {\n        return this.proposedSchedules[this.proposedScheduleIndex];\n    }\n    /**\n     * switch to next or previous proposed schedule. has bound checking.\n     */\n    switchProposed(index: number) {\n        if (index < this.proposedSchedules.length && index >= 0) {\n            this.proposedScheduleIndex = index;\n            this.switchSchedule(false);\n            window.saveStatus();\n        }\n    }\n    /**\n     * create a new empty schedule at the end of the proposedSchedules array and immediately switch to it\n     */\n    newProposed() {\n        this.proposedSchedules.push(new ProposedSchedule());\n        this.switchProposed(this.proposedSchedules.length - 1);\n        window.saveStatus();\n    }\n    /**\n     * copy the current schedule and append to the `proposedSchedules` array.\n     * Immediately switch to the newly copied schedule.\n     */\n    copyCurrent() {\n        const len = this.proposedSchedules.length;\n        if (this.currentSchedule instanceof ProposedSchedule) {\n            this.proposedSchedules.push(this.proposedSchedule.copy());\n        } else {\n            const p = new ProposedSchedule(this.currentSchedule.All, this.currentSchedule.events);\n            this.proposedSchedules.push(p);\n        }\n        this.switchProposed(len);\n        window.saveStatus();\n    }\n    /**\n     * delete the current proposed schedule, switch to the schedule after the deleted schedule.\n     * do nothing if this is the last proposed schedule\n     */\n    deleteProposed() {\n        if (this.proposedSchedules.length === 1) return;\n        const idx = this.proposedScheduleIndex;\n\n        if (!confirm(`Are you sure to delete schedule ${idx + 1}?`)) return;\n\n        // if the schedule to be deleted corresponds to generated schedules,\n        // this deletion invalidates the generated schedules immediately.\n        if (idx === this.cpIndex) {\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.numGenerated = 0;\n            this.cpIndex = -1;\n        }\n        this.proposedSchedules.splice(idx, 1);\n        if (idx >= this.proposedSchedules.length) {\n            this.switchProposed(idx - 1);\n        } else {\n            this.switchProposed(idx);\n        }\n        window.saveStatus();\n    }\n    /**\n     * @param generated\n     * if **true**, try to switch to generated schedules if the following conditions are met,\n     * - generated schedules exist ([[ScheduleEvaluator]] is not empty), and\n     * - generated schedules correspond to the current schedule\n     *\n     * switch to current proposed schedule if **false**\n     */\n    switchSchedule(generated: boolean) {\n        if (generated) {\n            if (this.cpIndex === this.proposedScheduleIndex && this.numGenerated) {\n                this.generated = true;\n                this.switchPage(this.currentScheduleIndex);\n            }\n        } else {\n            this.generated = false;\n            this.currentSchedule = this.proposedSchedule;\n        }\n        window.saveStatus();\n    }\n\n    /**\n     * Switch to `idx` page\n     * assign `currentSchedule` with the generated schedule at index `idx`\n     * @param idx\n     */\n    switchPage(idx: number) {\n        if (this.numGenerated <= 0) return;\n        if (idx < 0) {\n            this.currentScheduleIndex = 0;\n        } else if (idx >= this.numGenerated) {\n            this.currentScheduleIndex = this.numGenerated - 1;\n        } else {\n            this.currentScheduleIndex = idx;\n        }\n        this.currentSchedule = window.scheduleEvaluator.getSchedule(this.currentScheduleIndex);\n        window.saveStatus();\n    }\n\n    /**\n     * clear the currently active schedules and its corresponding generated schedules, if applicable\n     */\n    clear() {\n        this.proposedSchedule.clean();\n        if (this.cpIndex === this.proposedScheduleIndex) {\n            this.cpIndex = -1;\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.numGenerated = 0;\n        }\n        this.switchSchedule(false);\n        window.saveStatus();\n    }\n\n    /**\n     * recompute all of the proposed schedules. meaning of params see [[Schedule.computeSchedule]]\n     * @param sync default to true\n     * @param time\n     */\n    recomputeAll(sync: boolean, time = 50) {\n        if (this.currentSchedule !== this.proposedSchedule) {\n            this.currentSchedule.constructDateSeparator();\n            this.currentSchedule.computeSchedule(sync, time);\n        }\n        this.proposedSchedules.forEach(s => {\n            s.constructDateSeparator();\n            s.computeSchedule(sync, time);\n        });\n    }\n\n    /**\n     * @note the schedules parsed from JSON are **not** computed (i.e. the `computeSchedule` method is not called)\n     * @note the `currentSchedule` is not assigned.\n     * @param obj\n     */\n    fromJSON(obj: Partial<ScheduleStateJSON>) {\n        const defaultState = this.getDefault();\n\n        const proposed = obj.proposedSchedules;\n        if (proposed instanceof Array) {\n            this.proposedSchedules = proposed.map(x => {\n                const result = ProposedSchedule.fromJSON(x);\n                const temp = result.payload;\n                if (temp) {\n                    if (result.level === 'warn') noti.notify(result);\n                    return temp;\n                } else return new ProposedSchedule();\n            });\n        } else {\n            this.proposedSchedules = defaultState.proposedSchedules;\n        }\n\n        this.currentScheduleIndex =\n            typeof obj.currentScheduleIndex === 'number'\n                ? obj.currentScheduleIndex\n                : defaultState.currentScheduleIndex;\n\n        this.proposedScheduleIndex =\n            typeof obj.proposedScheduleIndex === 'number'\n                ? obj.proposedScheduleIndex\n                : defaultState.proposedScheduleIndex;\n\n        this.cpIndex = typeof obj.cpIndex === 'number' ? obj.cpIndex : defaultState.cpIndex;\n        this.generated =\n            typeof obj.generated === 'boolean' ? obj.generated : defaultState.generated;\n\n        this.numGenerated = 0;\n        window.saveStatus();\n    }\n\n    toJSON() {\n        // exclude numGenerated and currentSchedule\n        // eslint-disable-next-line\n        const { numGenerated, currentSchedule, ...others } = this;\n        return (others as any) as ScheduleStateJSON;\n    }\n\n    getDefault(): ScheduleState {\n        const currentSchedule = new ProposedSchedule();\n        return {\n            currentScheduleIndex: 0,\n            currentSchedule,\n            proposedSchedules: [currentSchedule],\n            proposedScheduleIndex: 0,\n            cpIndex: -1,\n            generated: false,\n            numGenerated: 0\n        };\n    }\n}\n\nexport default new ScheduleStore();\n","/**\n * @module src/data\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { NotiMsg } from '../store/notification';\nimport { cancelablePromise, CancelablePromise, errToStr, timeout } from '../utils';\nimport Expirable from './Expirable';\n\nfunction defaultValidator<T_JSON extends Expirable>(x: T_JSON | null): x is T_JSON {\n    return !!x && !!x.modified;\n}\n\ninterface LoaderOptions<T, T_JSON extends Expirable> {\n    /**\n     * the expiration time of this T_JSON\n     */\n    expireTime?: number;\n    /**\n     * The parser that turns the string (or null if key does not exist)\n     * stored in local storage into T_JSON or null\n     */\n    parse?: (x: string | null) => T_JSON | null;\n    /**\n     * the function to store x in localStorage\n     */\n    store?: (x: T) => T;\n    /**\n     * The validator that checks whether the return value of the parser is a valid T_JSON object\n     */\n    validator?: (x: T_JSON | null) => x is T_JSON;\n    /**\n     * whether this is a forced update. If true, request the data from remote with no regard to local data\n     */\n    force?: boolean;\n}\n\n/** an object that can be used as the `temp` argument of the [[fallback]] function */\nexport interface FallBackable<T> {\n    /** represents a pending request to load new data */\n    new: CancelablePromise<T>;\n    /** represents already loaded old data (probably retrieved from cache) */\n    old?: T;\n}\n\ninterface FallbackOptions {\n    /**\n     * the warning message to return when data expired and we failed to request new data from remote.\n     * It takes the stringified exception as the parameter\n     */\n    warnMsg?: (err: string) => string;\n    /**\n     * the error message to return when there is no local data and we failed to request data from remote\n     * It takes the stringified exception as the parameter\n     */\n    errMsg?: (err: string) => string;\n    /**\n     * the success message shown when data is loaded successfully\n     */\n    succMsg?: string;\n    /**\n     * the timeout in millisecond for requesting data from remote.\n     * A timeout error with appropriate error message will be thrown for\n     * response that does not return within this time interval\n     */\n    timeoutTime?: number;\n}\n\n/**\n * The template function that helps to load data from cache/remote\n *\n * Example usage:\n * @see [[loadTimeMatrix]],[[loadBuildingSearcher]],[[loadSemesterList]],[[loadSemesterData]]\n *\n * @typeparam T the type of the object to construct\n * @typeparam T_JSON the JSON-serializable representation of the object T\n * @param key the key in the localStorage\n * @param request the async function used to request data from remote, if local data expires or does not exist\n * @param construct function to construct the actual object T from its JSON-serializable representation T_JSON\n */\nexport function loadFromCache<T, T_JSON extends Expirable>(\n    key: string,\n    request: () => Promise<T>,\n    construct: (x: T_JSON) => T,\n    {\n        expireTime = Infinity,\n        parse = x => (x ? JSON.parse(x) : null),\n        store = x => {\n            localStorage.setItem(\n                key,\n                JSON.stringify({\n                    modified: new Date(),\n                    [key]: x\n                })\n            );\n            return x;\n        },\n        validator = defaultValidator,\n        force = false\n    }: LoaderOptions<T, T_JSON>\n): FallBackable<T> {\n    const storage = localStorage.getItem(key);\n    const data = parse(storage);\n    if (validator(data)) {\n        // if expired, request data from remote\n        if (new Date().getTime() - new Date(data.modified).getTime() > expireTime || force) {\n            const newData = cancelablePromise(request().then(store));\n            try {\n                return {\n                    new: newData,\n                    old: construct(data)\n                };\n            } catch (err) {\n                console.error(err);\n                return {\n                    new: newData\n                };\n            }\n        } else {\n            return {\n                new: cancelablePromise(Promise.resolve(construct(data)))\n            };\n        }\n        // data invalid or does not exist\n    } else {\n        return {\n            new: cancelablePromise(request().then(store))\n        };\n    }\n}\n\n/**\n * Await the promise on temp.new to resolve. If timed out, return the old data on temp.old.\n * @returns the payload with an appropriate message\n * @param temp\n */\nexport async function fallback<T>(\n    temp: FallBackable<T>,\n    { succMsg = '', warnMsg = x => x, errMsg = x => x, timeoutTime = 5000 }: FallbackOptions = {}\n): Promise<NotiMsg<T>> {\n    try {\n        const payload = await timeout(temp.new, timeoutTime);\n        return {\n            payload,\n            msg: succMsg,\n            level: 'success'\n        };\n    } catch (err2) {\n        return temp.old\n            ? {\n                  payload: temp.old,\n                  msg: warnMsg(errToStr(err2)),\n                  level: 'warn'\n              }\n            : {\n                  msg: errMsg(errToStr(err2)),\n                  level: 'error'\n              };\n    }\n}\n","/**\n * @module src/data\n * @author Hanzhi Zhou\n * Script for loading and parsing the list of semesters from Lou's list\n */\n\n/**\n *\n */\nimport { SemesterJSON } from '../models/Catalog';\nimport Expirable from './Expirable';\nimport { fallback, loadFromCache } from './Loader';\nimport { dataend, semesterListExpirationTime } from '@/config';\n\ninterface SemesterListJSON extends Expirable {\n    semesters: SemesterJSON[];\n}\n\n/**\n * Try to load semester list from localStorage. If it expires or does not exist,\n * load a fresh semester list from Lou's list and store it in localStorage.\n *\n * storage key: \"semesters\"\n */\nexport function loadSemesterList(count = 10) {\n    // load the cached list of semesters, if it exists\n    return fallback(\n        loadFromCache<SemesterJSON[], SemesterListJSON>(\n            'semesters',\n            () => dataend.semesters(count),\n            x => x.semesters,\n            {\n                expireTime: semesterListExpirationTime,\n                validator(x): x is SemesterListJSON {\n                    return !!x && !!x.modified && !!x.semesters;\n                }\n            }\n        ),\n        {\n            succMsg: 'Semester list loaded',\n            errMsg: x => `Failed to fetch semester list: ${x}`,\n            warnMsg: x => `Failed to fetch semester list: ${x}. Old data is used`,\n            timeoutTime: 10000\n        }\n    );\n}\n","/**\n * The module responsible for loading data required by plannable, including but not limited to semester list, semester course data, building data, etc.\n * @preferred\n * @module src/data\n */\n\n/**\n *\n */\nimport { SemesterJSON } from '@/models/Catalog';\nimport { CourseFields } from '@/models/Course';\nimport Dexie from 'dexie';\nimport { SectionFields } from '../models/Section';\n\nexport interface CourseTableItem extends CourseFields {\n    ids: number[];\n}\n// no back ref in db\nexport type SectionTableItem = Omit<SectionFields, 'course'>;\n\nexport default class CatalogDB extends Dexie {\n    courses: Dexie.Table<CourseTableItem, string>;\n    sections: Dexie.Table<SectionTableItem, number>;\n    meta: Dexie.Table<{ time: number; id: 0 }, 0>;\n\n    constructor(semester: SemesterJSON) {\n        super(`db_${semester.id}`);\n        this.version(1).stores({\n            courses: 'key',\n            sections: 'id',\n            meta: 'id'\n        });\n        this.courses = this.table('courses');\n        this.sections = this.table('sections');\n        this.meta = this.table('meta');\n    }\n\n    async empty() {\n        const [a, b] = await Promise.all([this.courses.count(), this.sections.count()]);\n        return a === 0 || b === 0;\n    }\n\n    async timestamp() {\n        return (await this.meta.get(0))!.time;\n    }\n\n    async saveTimeStamp() {\n        await this.meta.put({ id: 0, time: Date.now() });\n    }\n}\n","/**\n * @module src/data\n * @author Hanzhi Zhou, Kaiying Shan\n * Script for loading the catalog for a given semester\n */\n\n/**\n *\n */\nimport CatalogDB, { SectionTableItem } from '@/data/CatalogDB';\nimport Section from '@/models/Section';\nimport Catalog, { SemesterJSON } from '../models/Catalog';\n\nimport Course from '@/models/Course';\nimport { cancelablePromise } from '../utils';\nimport { dataend, semesterDataExpirationTime } from '@/config';\nimport { FallBackable } from './Loader';\n\nfunction saveToDB(catalog: Catalog, db: CatalogDB) {\n    Promise.all([db.courses.clear(), db.sections.clear()])\n        .then(() => {\n            console.time('save to db');\n            return Promise.all([\n                db.courses.bulkAdd(catalog.courses as any),\n                db.sections.bulkAdd(catalog.sections as any)\n            ]);\n        })\n        .then(() => {\n            db.saveTimeStamp();\n            console.timeEnd('save to db');\n        });\n    return catalog;\n}\n\nasync function retrieveFromDB(db: CatalogDB) {\n    const courseDict: { [x: string]: Course } = {};\n\n    console.time('get courses from db');\n    const [courses, secMap] = await Promise.all([\n        db.courses.toArray(),\n        db.sections.toArray(arr => {\n            const map = new Map<number, SectionTableItem>();\n            for (const item of arr) map.set(item.id, item);\n            return map;\n        })\n    ]);\n    console.timeEnd('get courses from db');\n\n    console.time('parse db results');\n    const allSections: Section[] = [];\n    for (const rawCourse of courses) {\n        const sections: Section[] = [];\n\n        // note: setPrototypeOf is much faster than Object.getPropertyDescriptors\n        // followed by modifying descriptors (make things non-writable, etc.) followed by Object.create.\n        // The trade-off is that the fields of the courses/sections are not write-protected.\n        // They are protected by the TypeScript compiler, however, as they are declared readonly\n        const course: Course = Object.setPrototypeOf(rawCourse, Course.prototype);\n        Object.defineProperty(course, 'sections', {\n            value: sections // non enumerable\n        });\n        for (const id of rawCourse.ids) {\n            const sec = secMap.get(id);\n            if (!sec) continue;\n\n            const section: Section = Object.setPrototypeOf(sec, Section.prototype);\n            Object.defineProperty(section, 'course', {\n                value: course // non enumerable\n            });\n            sections.push(section);\n            allSections.push(section);\n        }\n        courseDict[rawCourse.key] = course;\n    }\n    console.timeEnd('parse db results');\n    return [courseDict, Object.values(courseDict), allSections] as const;\n}\n\n/**\n * Try to load semester data from `localStorage`. If data expires/does not exist, fetch a fresh\n * set of data from Lou's list and save to `localStorage`.\n *\n * storage key: 1198data\n *\n * @param semester the semester to load data\n * @param force force update\n */\nexport async function loadSemesterData(\n    semester: SemesterJSON,\n    force = false\n): Promise<FallBackable<Catalog>> {\n    const db = new CatalogDB(semester);\n    if (!(await db.empty())) {\n        const time = await db.timestamp();\n        if (force || Date.now() - time > semesterDataExpirationTime) {\n            // send the request first, then fetch the local data\n            const newData = cancelablePromise(\n                dataend.courses(semester).then(catalog => saveToDB(catalog, db))\n            );\n            return {\n                new: newData,\n                old: new Catalog(semester, await retrieveFromDB(db), time)\n            };\n        } else {\n            return {\n                new: cancelablePromise(\n                    retrieveFromDB(db).then(data => new Catalog(semester, data, time))\n                )\n            };\n        }\n    } else {\n        return {\n            new: cancelablePromise(dataend.courses(semester).then(catalog => saveToDB(catalog, db)))\n        };\n    }\n}\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { fallback } from '@/data/Loader';\nimport { loadSemesterList } from '@/data/SemesterListLoader';\nimport { CancelablePromise } from '@/utils';\nimport { loadSemesterData } from '../data/CatalogLoader';\nimport Catalog, { SemesterJSON } from '../models/Catalog';\n\nexport interface SemesterState {\n    [x: string]: any;\n    semesters: SemesterJSON[];\n    current: SemesterJSON | null;\n    lastUpdate: string;\n}\n\n/**\n * the semester module handles semester switching and data retrieval\n * @author Hanzhi Zhou\n */\nclass Semesters implements SemesterState {\n    semesters: SemesterJSON[] = [];\n    current: SemesterJSON | null = null; // cannot use undefined here, otherwise we will lose reactivity\n    lastUpdate = '';\n    pendingPromise: CancelablePromise<Catalog> | null = null;\n\n    /**\n     * load the list of semesters\n     */\n    async loadSemesters(count = 10) {\n        const result = await loadSemesterList(count);\n        this.semesters = result.payload || [];\n        return result;\n    }\n\n    /**\n     * cancel the pendingPromise\n     */\n    cancel() {\n        const p = this.pendingPromise;\n        if (p) p.cancel('Canceled');\n    }\n\n    /**\n     * DO NOT call this method. call [[Store.selectSemester]] instead.\n     */\n    async selectSemester(currentSemester: SemesterJSON, force = false) {\n        const temp = await loadSemesterData(currentSemester, force);\n\n        // allow one to cancel the pending promise if old data exists\n        if (temp.old) this.pendingPromise = temp.new;\n\n        const { name } = currentSemester;\n        const result = await fallback(temp, {\n            errMsg: x => `Failed to fetch ${name} data: ${x}`,\n            warnMsg: x => `Failed to fetch ${name} data: ${x}. Old data is used`,\n            succMsg: `Successfully loaded ${name} data!`,\n            timeoutTime: 1500000\n        });\n        //  if the a catalog object is returned\n        if (result.payload) {\n            window.catalog = result.payload;\n            this.current = currentSemester;\n            this.lastUpdate = new Date(window.catalog.modified).toLocaleString();\n        } else {\n            this.current = null;\n            this.lastUpdate = '';\n        }\n        this.pendingPromise = null;\n        return result;\n    }\n}\n\nexport default new Semesters();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport Event from '../models/Event';\n\ninterface Sidebars {\n    showSelectClass: boolean;\n    showEvent: boolean;\n    showFilter: boolean;\n    showSetting: boolean;\n    showExport: boolean;\n    showSelectColor: boolean;\n    showInfo: boolean;\n    showExternal: boolean;\n    showCompare: boolean;\n    showLog: boolean;\n    showFuzzy: boolean;\n}\n\ninterface SidebarStatus extends Sidebars {\n    [key: string]: boolean;\n}\n\n/**\n * the status module stores the temporary statuses of the webpage. We do not save these statuses to localStorage\n * @author Hanzhi Zhou, Zichao Hu\n */\nclass Status {\n    get sideBarActive() {\n        for (const key in this.sideBar) {\n            if (this.sideBar[key]) return true;\n        }\n        return false;\n    }\n    /**\n     * **sidebar display status**\n     * show the specific sidebar when true, and hide when all false\n     */\n    sideBar: SidebarStatus = {\n        showSelectClass: window.screen.width / window.screen.height > 1 ? true : false,\n        showFuzzy: false,\n        showEvent: false,\n        showFilter: false,\n        showSetting: false,\n        showExport: false,\n        showSelectColor: false,\n        showInfo: false,\n        showExternal: false,\n        showLog: false,\n        showCompare: false\n    };\n\n    /**\n     * indicates whether some IO action is running in the background, such as semester data update\n     *\n     * no need to assign to this value when doing computationally expensive operations\n     */\n    loading = false;\n    /**\n     * the event to edit\n     */\n    eventToEdit: Event | null = null;\n\n    isMobile = window.screen.width < 600;\n    /**\n     * fold sidebar if on mobile\n     */\n    foldView() {\n        if (this.isMobile) this.foldAllSideBar();\n    }\n\n    switchSideBar(key: keyof Sidebars) {\n        for (const other in this.sideBar) {\n            if (other !== key) this.sideBar[other] = false;\n        }\n        this.sideBar[key] = !this.sideBar[key];\n    }\n\n    foldAllSideBar() {\n        for (const bar in this.sideBar) {\n            this.sideBar[bar] = false;\n        }\n    }\n}\n\nexport default new Status();\n","/**\n * The Store module provides methods to save, retrieve and manipulate store.\n * It gathers all children modules and store their references in a single store class,\n * which is provided as a Mixin\n * @module src/store\n * @preferred\n */\n\n/**\n *\n */\nimport lz from 'lz-string';\n\nimport Expirable from '@/data/Expirable';\nimport { Component, Vue } from 'vue-property-decorator';\nimport ScheduleEvaluator, { EvaluatorOptions } from '../algorithm/ScheduleEvaluator';\nimport ScheduleGenerator, { GeneratorOptions } from '../algorithm/ScheduleGenerator';\nimport { SemesterJSON } from '../models/Catalog';\nimport { CourseStatus } from '../config';\nimport Schedule, { ScheduleJSON } from '../models/Schedule';\nimport display, { Display, DisplayState } from './display';\nimport filter, { FilterStateJSON, FilterStore, TimeSlot } from './filter';\nimport modal from './modal';\nimport noti from './notification';\nimport palette, { Palette, PaletteState } from './palette';\nimport profile from './profile';\nimport schedule, { ScheduleStateJSON, ScheduleStore } from './schedule';\nimport semester, { SemesterState } from './semester';\nimport status from './status';\nimport colorSchemes from '@/data/ColorSchemes';\nimport GeneratedSchedule from '@/models/GeneratedSchedule';\n\n/**\n * the latest storage format of plannable\n */\nexport interface SemesterStorage extends Expirable {\n    name: string;\n    currentSemester: SemesterJSON;\n    display: DisplayState;\n    filter: FilterStateJSON;\n    schedule: ScheduleStateJSON;\n    palette: PaletteState;\n}\n\ninterface LegacyScheduleJSON extends ScheduleJSON {\n    savedColors: { [x: string]: string };\n}\n\n/**\n * the storage format prior to v4.5\n */\ninterface LegacyStorage {\n    currentSemester: SemesterJSON;\n    currentScheduleIndex: number;\n    proposedScheduleIndex: number;\n    cpIndex: number;\n    currentSchedule: LegacyScheduleJSON;\n    proposedSchedules: LegacyScheduleJSON[];\n\n    display: DisplayState;\n\n    timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n    sortOptions: EvaluatorOptions;\n}\n\n/**\n * the storage format prior to v3.0\n */\ninterface AncientStorage extends DisplayState {\n    currentSemester: SemesterJSON;\n    currentScheduleIndex: number;\n    currentSchedule: LegacyScheduleJSON;\n    proposedSchedule: LegacyScheduleJSON;\n\n    timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n    sortOptions: EvaluatorOptions;\n}\n\ninterface StorageItem<State, JSONState> {\n    /**\n     * a method to obtain the default state\n     */\n    getDefault(): State;\n    /**\n     * serialize `this` (the store module) to its JSON representation\n     */\n    toJSON(this: StoreModule<State, JSONState>): JSONState;\n    /**\n     * recover the state from its JSON representation\n     *\n     * An object that has all or some properties of the `JSONState` will be passed as a parameter.\n     * The missing properties will be assigned with the value returned by the `getDefault` method.\n     */\n    fromJSON(obj: Partial<JSONState>): void;\n}\n\n/**\n * A Store Module must have\n * @typeparam State\n * @typeparam JSONState the JSON representation of its state\n *\n * and the three methods defined by [[StorageItem]]\n */\nexport type StoreModule<State, JSONState> = State & StorageItem<State, JSONState>;\n\nfunction isAncient(parsed: any): parsed is AncientStorage {\n    return !!parsed.currentSchedule && !!parsed.proposedSchedule;\n}\n\nfunction isLegacy(parsed: any): parsed is LegacyStorage {\n    return !!parsed.currentSchedule && !!parsed.proposedSchedules;\n}\n\nlet pendingStatusSave = 0;\n\nfunction _saveStatus() {\n    const currentSemester = semester.current;\n    if (!currentSemester) return;\n    const name = profile.current;\n    const idx = profile.profiles.findIndex(p => p.name === name);\n    if (profile.tokenType && profile.profiles[idx].remote) {\n        if (idx !== -1 && !profile.isLatest(idx)) {\n            console.log(\n                'Uploading & saving of',\n                name,\n                'aborted due to checking out historical versions'\n            );\n            return;\n        }\n    }\n\n    const obj: SemesterStorage = {\n        name,\n        modified: new Date().toJSON(),\n        currentSemester,\n        display,\n        filter: filter.toJSON(),\n        schedule: schedule.toJSON(),\n        palette\n    };\n\n    const str = JSON.stringify(obj);\n    localStorage.setItem(name, str);\n\n    if (profile.tokenType && profile.profiles[idx].remote) {\n        profile.uploadProfile([{ name, profile: str }]).then(msg => {\n            if (msg) {\n                noti.notify(msg);\n            }\n        });\n    }\n\n    pendingStatusSave = -1;\n    console.log('status saved');\n}\n\n/**\n * save all store modules to localStorage\n * @note this function needs to be separated from the [[Store]] class because it is used in the [[schedule]] sub-module,\n * and the [[schedule]] sub-module does not have access to the [[Store]] class\n */\nexport function saveStatus() {\n    if (pendingStatusSave !== -1) {\n        window.clearTimeout(pendingStatusSave);\n        console.log('cancelled pending status save');\n    }\n    pendingStatusSave = window.setTimeout(_saveStatus, 100);\n}\n\ninterface CompareCandidate {\n    schedule: GeneratedSchedule;\n    /** the corresponding profile name of this schedule */\n    profileName: string;\n    /** index of this schedule among the generated schedules */\n    index: number;\n    /** index of this schedule among the proposed schedules */\n    pIdx: number;\n    color: string;\n}\n\n// this must be declared outside for it to be shared among components that inherit from store\nconst compare: CompareCandidate[] = [];\n/**\n * The Store module provides methods to save, retrieve and manipulate store.\n * It gathers all children modules and store their references in a single store class, which is provided as a Mixin\n * @noInheritDoc\n */\n@Component\nexport default class Store extends Vue {\n    filter = filter;\n    display = display;\n    status = status;\n    modal = modal;\n    schedule = schedule;\n    semester = semester;\n    palette = palette;\n    noti = noti;\n    profile = profile;\n    compare = compare;\n\n    /**\n     * save all store modules to localStorage\n     */\n    saveStatus() {\n        saveStatus();\n    }\n\n    /**\n     * Load [[Profile.current]], switch to the profile's semester.\n     * Recover all store modules' states from the localStorage, and assign a correct Catalog object to `window.catalog`,\n     * @note if you want to switch to other profiles, assign the profile name to [[Profile.current]] first.\n     * @param force force update current semester data and load the given profile\n     */\n    async loadProfile(force = false) {\n        if (!this.semester.semesters.length) {\n            this.noti.error('No semester data! Please refresh this page');\n            return;\n        }\n\n        window.scheduleEvaluator = new ScheduleEvaluator();\n        let parsed: Partial<AncientStorage> | Partial<LegacyStorage> | Partial<SemesterState> = {};\n        const data = localStorage.getItem(this.profile.current);\n        if (data) {\n            try {\n                parsed = JSON.parse(data);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        // do not re-select current semester if it is already selected and this is not a force-update\n        if (\n            parsed.currentSemester &&\n            this.semester.current &&\n            parsed.currentSemester.id === this.semester.current.id &&\n            !force\n        ) {\n            console.warn('Semester data loading aborted');\n        } else {\n            const semester = parsed.currentSemester || this.semester.semesters[0];\n            if (force) this.noti.info(`Updating ${semester.name} data...`, 3600, true);\n            const msg = await this.semester.selectSemester(semester, force);\n            this.noti.notify(msg);\n            if (!msg.payload) return;\n        }\n\n        if (isAncient(parsed)) {\n            const ancient: AncientStorage = parsed || {};\n            const oldStore: Partial<LegacyStorage> & AncientStorage = ancient;\n            oldStore.proposedScheduleIndex = 0;\n            oldStore.proposedSchedules = [oldStore.proposedSchedule];\n            this.display.fromJSON(oldStore);\n            this.filter.fromJSON(oldStore);\n            this.schedule.fromJSON(oldStore);\n            this.palette.fromJSON(oldStore.currentSchedule || { savedColors: {} });\n        } else if (isLegacy(parsed)) {\n            this.display.fromJSON(parsed.display || {});\n            this.filter.fromJSON(parsed);\n            this.schedule.fromJSON(parsed);\n            this.palette.fromJSON(parsed.currentSchedule || { savedColors: {} });\n        } else {\n            const newStore = parsed as SemesterStorage;\n            this.display.fromJSON(newStore.display || {});\n            this.filter.fromJSON(newStore.filter || {});\n            this.schedule.fromJSON(newStore.schedule || {});\n            this.palette.fromJSON(newStore.palette || {});\n        }\n        this.compare.splice(0, this.compare.length);\n        // update schedule global options\n        Schedule.colors = colorSchemes[this.display.colorScheme].colors;\n        Schedule.combineSections = this.display.combineSections;\n        Schedule.multiSelect = this.display.multiSelect;\n\n        if (this.schedule.generated) this.generateSchedules();\n        else this.schedule.switchSchedule(false);\n\n        this.schedule.recomputeAll(false, 100); // need to compute all schedules for rendering\n    }\n\n    /**\n     * @returns true if the current combination of sort options is valid, false otherwise\n     */\n    validateSortOptions() {\n        const similarityOption = this.filter.sortOptions.sortBy.find(x => x.name === 'similarity')!;\n        if (!this.filter.sortOptions.sortBy.some(x => x.enabled)) {\n            this.noti.error('Filter: You must have at least one sort option!');\n            return false;\n        } else if (\n            this.filter.sortOptions.sortBy.some(x => x.name === 'distance' && x.enabled) &&\n            (!window.buildingSearcher || !window.timeMatrix)\n        ) {\n            this.noti.error(\n                'Filter: Building list fails to load. Please disable \"walking distance\"'\n            );\n            return false;\n        } else if (similarityOption.enabled && !this.filter.similarityEnabled) {\n            this.noti.warn(\n                'Similarity sorting is enabled, but there is no reference schedule. It will be disabled automatically.'\n            );\n            similarityOption.enabled = false;\n        }\n        return true;\n    }\n\n    /**\n     * convert filter to generator options\n     */\n    getGeneratorOptions(): GeneratorOptions | void {\n        const filteredStatus: CourseStatus[] = [];\n        if (!this.filter.allowWaitlist) filteredStatus.push('Wait List');\n        if (!this.filter.allowClosed) filteredStatus.push('Closed');\n\n        const msg = this.filter.computeFilter();\n        const timeSlots = msg.payload;\n        if (!timeSlots) return this.noti.notify(msg);\n\n        if (!this.validateSortOptions()) return;\n\n        return {\n            timeSlots,\n            status: filteredStatus,\n            sortOptions: this.filter.sortOptions,\n            combineSections: this.display.combineSections,\n            maxNumSchedules: this.display.maxNumSchedules\n        };\n    }\n\n    generateSchedules() {\n        this.status.foldView();\n\n        if (this.schedule.proposedSchedule.empty())\n            return this.noti.warn(`There are no classes in your schedule!`) as undefined;\n        const options = this.getGeneratorOptions();\n        if (!options) return;\n\n        const generator = new ScheduleGenerator(window.catalog, window.timeMatrix, options);\n\n        console.time('schedule generation');\n        const msg = generator.getSchedules(this.schedule.proposedSchedule, this.filter.refSchedule);\n        console.timeEnd('schedule generation');\n\n        this.noti.notify(msg, 'info', 5, true);\n        const evaluator = msg.payload;\n        if (evaluator) {\n            window.scheduleEvaluator = evaluator;\n            this.schedule.numGenerated = evaluator.size;\n            this.schedule.cpIndex = this.schedule.proposedScheduleIndex;\n            this.schedule.switchSchedule(true);\n        } else {\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.schedule.switchSchedule(false);\n            this.schedule.cpIndex = -1;\n            this.schedule.numGenerated = 0;\n        }\n        return evaluator;\n    }\n\n    /**\n     * Select a semester and fetch all its associated data,\n     * note that the first profile corresponding to the target semester will be loaded.\n     *\n     * @param target the semester to switch to\n     * @param force whether to force-update semester data\n     */\n    async selectSemester(target: SemesterJSON | null) {\n        if (!this.semester.semesters.length) {\n            this.noti.error('No semester data! Please refresh this page');\n            return;\n        }\n        if (this.semester.current && target && target.id === this.semester.current.id) return;\n\n        target = target || this.semester.semesters[0];\n        this.status.loading = true;\n\n        const { profiles } = this.profile;\n        let parsed: Partial<SemesterStorage> = {};\n        let parsedLatest = -Infinity;\n\n        // find the latest profile corresponding to the semester to be switched\n        for (const { name } of profiles) {\n            const data = localStorage.getItem(name);\n            if (data) {\n                const temp: Partial<SemesterStorage> = JSON.parse(data);\n                const { currentSemester, modified } = temp;\n                if (currentSemester && currentSemester.id === target.id) {\n                    if (modified) {\n                        const time = new Date(modified).getTime();\n                        if (time > parsedLatest) {\n                            parsed = temp;\n                            parsedLatest = time;\n                        }\n                    } else {\n                        // if no modified time, only use it if no profile corresponding to this semester has been found\n                        if (!parsed.currentSemester) parsed = temp;\n                    }\n                }\n            }\n        }\n        // no profile for target semester exists. let's create one\n        if (!parsed.currentSemester) {\n            parsed.currentSemester = target;\n            await profile.addProfile(\n                parsed,\n                target.name,\n                `You already have a profile named ${target.name}. However, it does not correspond to the ${target.name} semester. Click Ok to overwrite, click Cancel to keep both.`\n            );\n        } else {\n            // load the existing profile\n            this.profile.current = parsed.name!;\n        }\n        await this.loadProfile();\n        this.status.loading = false;\n    }\n}\n\n/**\n * See [[parseFromURL]]\n * convert JSON string to tuple of tuples to reduce the num of chars\n * @author Zichao Hu\n * @param jsonString\n */\nexport function compressJSON(jsonString: string) {\n    const { name, modified, currentSemester, display, filter, schedule, palette } = JSON.parse(\n        jsonString\n    ) as SemesterStorage;\n\n    return [\n        name,\n        modified,\n        currentSemester.id,\n        currentSemester.name,\n        Display.compressJSON(display),\n        FilterStore.compressJSON(filter),\n        ScheduleStore.compressJSON(schedule),\n        Palette.compressJSON(palette)\n    ] as const;\n}\n\n/**\n * @author Zichao Hu, Hanzhi Zhou\n * @param config\n * @note JSON decompression requires the catalog of the semester to be pre-loaded,\n * because the reference schedule conversion in filter requires it\n */\nexport async function parseFromURL(config: string): Promise<SemesterStorage> {\n    // get URL and convert to JSON\n    const data: ReturnType<typeof compressJSON> = JSON.parse(\n        lz.decompressFromEncodedURIComponent(config.trim())!\n    );\n    const currentSemester = { id: data[2], name: data[3] };\n    await semester.selectSemester(currentSemester);\n    return {\n        name: data[0],\n        modified: data[1],\n        currentSemester,\n        display: Display.decompressJSON(data[4]),\n        filter: FilterStore.decompressJSON(data[5]),\n        schedule: ScheduleStore.decompressJSON(data[6]),\n        palette: Palette.decompressJSON(data[7])\n    };\n}\n","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { Component } from 'vue-property-decorator';\nimport { ui as config, version } from '../config';\nimport Store from '../store';\n\n/**\n * the container for the notification and content right of the side bar\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class MainContent extends Store {\n    get scheduleWidth() {\n        return this.status.sideBarActive\n            ? 100 - config.sideBarWidth - config.tabBarWidth - config.sideMargin\n            : 100 - config.tabBarWidth - config.sideMargin;\n    }\n    get scheduleLeft() {\n        return this.status.sideBarActive\n            ? config.sideBarWidth + config.tabBarWidth + 1\n            : config.tabBarWidth;\n    }\n    get version() {\n        return version;\n    }\n}\n","var render, staticRenderFns\nimport script from \"./Expand.vue?vue&type=script&lang=js&\"\nexport * from \"./Expand.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Expand.vue?vue&type=style&index=0&id=e47a4968&scoped=true&lang=css&\"\nimport style1 from \"./Expand.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e47a4968\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./MainContent.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./MainContent.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MainContent.vue?vue&type=template&id=7b9bb0fd&scoped=true&\"\nimport script from \"./MainContent.ts?vue&type=script&lang=ts&\"\nexport * from \"./MainContent.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./MainContent.vue?vue&type=style&index=0&id=7b9bb0fd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b9bb0fd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"dropdown\"},[_c('button',{staticClass:\"btn btn-info nav-btn mt-0\",attrs:{\"id\":\"semester\",\"data-toggle\":\"dropdown\"}},[(_vm.semester.pendingPromise)?_c('i',{staticClass:\"fa fa-times click-icon mr-2\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"title\":\"Cancel loading\"},on:{\"click\":function($event){return _vm.semester.cancel()}}}):_vm._e(),(_vm.status.loading || _vm.semester.pendingPromise)?_c('span',{staticClass:\"spinner-border mr-1\",staticStyle:{\"width\":\"1.2em\",\"height\":\"1.2em\",\"margin-bottom\":\"0.1em\"}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.semester.current ? _vm.semester.current.name : 'Select Semester')+\" \"),_c('i',{staticClass:\"fas fa-caret-down ml-2\",staticStyle:{\"font-size\":\"20px\"}})]),(_vm.semester.semesters.length)?_c('div',{staticClass:\"dropdown-menu w-100\"},_vm._l((_vm.semester.semesters),function(sem){return _c('a',{key:sem.id,staticClass:\"dropdown-item w-100\",on:{\"click\":function($event){return _vm.selectSemester(sem)}}},[_vm._v(_vm._s(sem.name)+\" \")])}),0):_vm._e()]),_c('vue-typeahead-bootstrap',{staticClass:\"mt-2\",attrs:{\"data\":_vm.queryTypes,\"minMatchingChars\":1,\"size\":\"sm\",\"placeholder\":\"Title/Topic/Prof./Desc.\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeClassList()}},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},[_c('template',{slot:\"append\"},[_c('span',{staticClass:\"input-group-text px-2\",class:{ 'click-icon': _vm.isEntering },on:{\"click\":function($event){return _vm.closeClassList()}}},[(_vm.isEntering)?_c('i',{staticClass:\"fas fa-times\"}):_c('i',{staticClass:\"fas fa-search\"})])])],2),(_vm.isEntering)?_c('ClassList',{ref:\"enteringClassList\",attrs:{\"courses\":_vm.inputCourses,\"matches\":_vm.inputMatches,\"schedule\":_vm.schedule.currentSchedule,\"is-entering\":_vm.isEntering,\"show-classlist-title\":_vm.display.showClasslistTitle,\"expand-on-entering\":_vm.display.expandOnEntering},on:{\"update-course\":_vm.updateCourse,\"course-modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)},\"close\":function($event){return _vm.closeClassList()}}}):_vm._e(),_c('button',{staticClass:\"btn btn-info nav-btn mt-2\",attrs:{\"title\":_vm.schedule.generated\n                ? 'Click to edit your schedule'\n                : 'Click to view generated schedules'},on:{\"click\":function($event){return _vm.schedule.switchSchedule(!_vm.schedule.generated)}}},[_vm._v(\" \"+_vm._s(_vm.schedule.generated ? (\"View Schedule: \" + (_vm.schedule.currentScheduleIndex + 1)) : 'Edit Classes')+\" \"),_c('i',{staticClass:\"fas fa-exchange-alt ml-4\",staticStyle:{\"font-size\":\"18px\"}})]),_c('div',{staticClass:\"row no-gutters mx-3 align-items-center justify-content-between\",staticStyle:{\"font-size\":\"24px\"}},[_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"fas fa-long-arrow-alt-left\",class:_vm.schedule.proposedScheduleIndex > 0 ? 'click-icon' : 'icon-disabled',attrs:{\"title\":\"previous schedule\"},on:{\"click\":function($event){return _vm.schedule.switchProposed(_vm.schedule.proposedScheduleIndex - 1)}}})]),_c('div',{staticClass:\"col-auto\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"title\":\"the index of the current schedule\"}},[_vm._v(\" \"+_vm._s(_vm.schedule.proposedScheduleIndex + 1)+\" \")]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"fas fa-long-arrow-alt-right\",class:_vm.schedule.proposedScheduleIndex < _vm.schedule.proposedSchedules.length - 1\n                        ? 'click-icon'\n                        : 'icon-disabled',attrs:{\"title\":\"next schedule\"},on:{\"click\":function($event){return _vm.schedule.switchProposed(_vm.schedule.proposedScheduleIndex + 1)}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-calendar-plus click-icon\",attrs:{\"title\":\"new schedule\"},on:{\"click\":function($event){return _vm.schedule.newProposed()}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-copy click-icon\",attrs:{\"title\":\"copy the current schedule to a new schedule\"},on:{\"click\":function($event){return _vm.schedule.copyCurrent()}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-calendar-times\",class:_vm.schedule.proposedSchedules.length > 1 ? 'click-icon' : 'icon-disabled',attrs:{\"title\":\"delete current schedule\"},on:{\"click\":function($event){return _vm.schedule.deleteProposed()}}})])]),_c('ClassList',{ref:\"selectedClassList\",attrs:{\"courses\":_vm.schedule.currentSchedule.current.courses,\"schedule\":_vm.schedule.currentSchedule,\"show-any\":!_vm.schedule.generated,\"show-classlist-title\":_vm.display.showClasslistTitle},on:{\"update-course\":_vm.updateCourse,\"remove-course\":_vm.removeCourse,\"course-modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)}}}),_c('div',{staticClass:\"btn-group mt-3 w-100\"},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.generateClick()}}},[_vm._v(\" Generate \")]),_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"title\":\"Remove all classes from the current schedule\"},on:{\"click\":function($event){return _vm.schedule.clear()}}},[_vm._v(\" Clean \")])]),_c('div',{staticClass:\"custom-control custom-checkbox mt-2 mx-2\",attrs:{\"title\":\"render all selected sections (except for 'any section')\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.multiSelect),expression:\"display.multiSelect\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"multiSelect\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.multiSelect)?_vm._i(_vm.display.multiSelect,null)>-1:(_vm.display.multiSelect)},on:{\"change\":function($event){var $$a=_vm.display.multiSelect,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"multiSelect\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"multiSelect\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"multiSelect\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"multiSelect\"}},[_vm._v(\" Show Multiple Sections \")])]),_c('div',{staticClass:\"btn bg-info nav-btn mt-2\"},[_vm._v(\"Schedule Overview\")]),_c('ul',{staticClass:\"list-group list-group-flush\",staticStyle:{\"width\":\"99%\"}},[_c('li',{staticClass:\"list-group-item p-2\"},[_vm._v(\" Total Credits: \"+_vm._s(_vm.schedule.currentSchedule.totalCredit)+\" \"),(_vm.schedule.currentSchedule.totalCredit > 21)?_c('span',{staticClass:\"ml-2\",staticStyle:{\"font-size\":\"1.2rem\"},attrs:{\"title\":\"JUST DO IT\"}},[_vm._v(\" 😮 \")]):_vm._e()]),_c('table',{staticClass:\"ml-2 mr-0 mt-2 mb-2\",attrs:{\"title\":\"You can use the 'add class by id' function of SIS to conveniently add classes to your SIS shopping cart\"}},[_vm._m(0),_vm._l((_vm.current.ids.length),function(idx){return _c('tr',{key:idx},[_c('td',[_vm._v(_vm._s(_vm.current.courses[idx - 1].displayName))]),_c('td',[_c('select',{staticClass:\"custom-select custom-select-sm py-0\"},_vm._l((_vm.current.ids[idx - 1]),function(id){return _c('option',{key:id},[_vm._v(_vm._s(id))])}),0)])])})],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Course Name\")]),_c('th',[_vm._v(\"ID\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body p-1 w-100\",attrs:{\"tabindex\":\"-1\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$emit('close')}}},_vm._l((_vm.courses),function(crs,idx){return _c('div',{key:crs.key,staticClass:\"list-group list-group-flush w-100\"},[_c('div',{staticClass:\"list-group-item py-1 px-0 w-100\",on:{\"mouseenter\":function($event){return _vm.schedule.hover(crs.key)},\"mouseleave\":function($event){return _vm.schedule.unhover(crs.key)}}},[_c('div',{staticClass:\"row flex-nowrap no-gutters justify-content-between\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.collapse(crs.key)}}},[_c('div',{staticClass:\"col col-1 pl-1 align-self-center\"},[_c('i',{staticClass:\"fas click-icon\",class:_vm.expanded(crs.key) ? 'fa-chevron-down' : 'fa-chevron-right'})]),_c('div',{staticClass:\"col-xs-auto mr-auto align-self-center my-0\"},[_c('h6',{staticClass:\"mb-1\"},[(_vm.matches.length)?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(crs.displayName, 'key', _vm.matches[idx][0]))}}):_c('span',[_vm._v(_vm._s(crs.displayName))]),(_vm.schedule.isCourseEmpty(crs.key))?_c('span',{staticClass:\"ml-1 text-danger\",attrs:{\"title\":\"No sections are selected! You won't be able to generate schedules. If you want to remove this course, click x\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e(),(_vm.schedule.isSomeTBD(crs.key))?_c('span',{staticClass:\"ml-1 text-warning\",attrs:{\"title\":\"All sections selected have invalid (e.g. TBA/TBD) meeting time. They will not appear on the schedule.\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e()]),(_vm.showClasslistTitle || _vm.isEntering)?[(_vm.matches.length)?_c('p',{staticStyle:{\"font-size\":\"0.85rem\",\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(crs.title, 'title', _vm.matches[idx][0]))}}):_c('p',{staticStyle:{\"font-size\":\"0.85rem\",\"margin\":\"0\"}},[_vm._v(\" \"+_vm._s(crs.title)+\" \")])]:_vm._e()],2),_c('div',{staticClass:\"col align-self-center\",class:{\n                        'text-center': _vm.showClasslistTitle,\n                        'text-right': !_vm.showClasslistTitle,\n                        'col-1': _vm.showClasslistTitle,\n                        'col-xs-auto': !_vm.showClasslistTitle\n                    }},[_c('i',{staticClass:\"fas fa-info-circle click-icon\",class:{ 'pr-2': !_vm.showClasslistTitle },attrs:{\"title\":\"View class description\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('course-modal', { crs: crs, match: _vm.matches[idx] })}}}),(_vm.showClasslistTitle)?_c('br'):_vm._e(),(!_vm.isEntering)?_c('i',{staticClass:\"fas fa-times click-icon\",class:{ 'pr-1': !_vm.showClasslistTitle },attrs:{\"title\":\"Remove this class and all its sections from your schedule\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove-course', crs.key)}}}):_vm._e()])])]),_c('Expand',[(_vm.expanded(crs.key))?_c('div',{staticClass:\"trans\"},[(_vm.showAny)?_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\",staticStyle:{\"font-size\":\"0.90rem\"}},[_c('div',{staticClass:\"col col-7\",staticStyle:{\"border-right\":\"thin solid #eeeeee\"},on:{\"click\":function($event){return _vm.select(crs.key, -1)}}},[_c('div',{staticClass:\"list-group-item list-group-item-action px-3\",class:{ active: _vm.schedule.isAnySection(crs.key) }},[_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\"},[_c('div',{staticClass:\"col-xs-auto mr-auto\"},[_vm._v(\"Any Section\")]),_c('div',{staticClass:\"col-xs-auto align-self-center\"},[(_vm.schedule.isAnySection(crs.key))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])])]),_c('div',{staticClass:\"col col-5\",on:{\"click\":function($event){_vm.schedule.ungroup(crs.key);\n                            _vm.updateGroup(crs.key);}}},[_c('div',{staticClass:\"list-group-item list-group-item-action pl-2 pr-3\",class:{ active: _vm.schedule.isGroup(crs.key) || _vm.group[crs.key] },attrs:{\"title\":\"Group selection mode: new feature of plannable v8.x. See Information for details.\"}},[_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\"},[_c('div',{staticClass:\"col-xs-auto mr-auto\"},[_vm._v(\"Groups\")]),_c('div',{staticClass:\"col-xs-auto align-self-center\"},[(_vm.schedule.isGroup(crs.key) || _vm.group[crs.key])?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])])])]):_vm._e(),_vm._l((_vm.separatedCourses[crs.key]),function(value,key){return [(Object.keys(_vm.separatedCourses[crs.key]).length > 1)?_c('li',{key:key,staticClass:\"list-group-item list-group-item-action py-2 pl-3 pr-0\",attrs:{\"title\":\"click to select all sections in this time period\"},on:{\"click\":function($event){return _vm.selectAll(value.key, value)}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-md-auto\"},[_c('strong',[_vm._v(_vm._s(key))])]),_c('div',{staticClass:\"col col-sm-1 align-self-center\"},[(_vm.allTimeSelected(crs.key, key))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])]):_vm._e(),_vm._l((value.sections),function(sec){return _c('div',{key:sec.id,staticClass:\"list-group-item list-group-item-action class-section\",class:{\n                            active: _vm.schedule.hasSection(crs.key, sec.id)\n                        },attrs:{\"title\":_vm.schedule.hasSection(crs.key, sec.id)\n                                ? 'click to unselect'\n                                : 'click to select'},on:{\"mouseenter\":function($event){return _vm.schedule.preview(sec)},\"mouseleave\":function($event){return _vm.schedule.removePreview()},\"click\":function($event){return _vm.select(crs.key, sec.id)}}},[_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\"},[_c('div',{staticClass:\"col col-8 mr-auto\"},[_c('ul',{staticClass:\"list-unstyled m-0\",staticStyle:{\"font-size\":\"0.75rem\"}},[_c('li',[_vm._v(\" Section \"+_vm._s(sec.section)+\" \"),(sec.valid)?_c('i',{staticClass:\"fas fa-exclamation-triangle\",class:sec.validMsg[0],attrs:{\"title\":sec.validMsg[1]}}):_vm._e()]),_c('li',[(_vm.matches.length)?_c('span',{domProps:{\"innerHTML\":_vm._s(\n                                                _vm.highlightMatch(\n                                                    sec.topic,\n                                                    'topic',\n                                                    _vm.matches[idx][1].get(sec.id)\n                                                )\n                                            )}}):_c('span',[_vm._v(\" \"+_vm._s(sec.topic))])]),_vm._l((sec.meetings),function(meeting,i){return _c('li',{key:i},[_vm._v(\" \"+_vm._s(meeting.days)+\" \")])}),(_vm.matches.length)?_c('li',{domProps:{\"innerHTML\":_vm._s(\n                                            _vm.highlightMatch(\n                                                sec.instructors,\n                                                'instructors',\n                                                _vm.matches[idx][1].get(sec.id)\n                                            )\n                                        )}}):_c('li',[_vm._v(_vm._s(sec.instructors))]),(_vm.matches.length)?_c('li',{domProps:{\"innerHTML\":_vm._s(\n                                            _vm.highlightMatch(\n                                                sec.rooms,\n                                                'rooms',\n                                                _vm.matches[idx][1].get(sec.id)\n                                            )\n                                        )}}):_c('li',[_vm._v(_vm._s(sec.rooms))])],2)]),_c('div',{staticClass:\"col col-sm-auto align-self-center\"},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.schedule.isGroup(crs.key) || _vm.group[crs.key]),expression:\"schedule.isGroup(crs.key) || group[crs.key]\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"width\":\"45px\"},attrs:{\"id\":crs.key + '-' + sec.id,\"type\":\"number\",\"disabled\":!_vm.schedule.hasSection(crs.key, sec.id),\"min\":\"0\",\"max\":\"8\"},domProps:{\"value\":_vm.schedule.getSectionGroup(crs.key, sec.id)},on:{\"change\":function($event){return _vm.select(crs.key, sec.id)},\"click\":function($event){$event.stopPropagation();}}})]),_c('div',{staticClass:\"col col-1 ml-3 mr-2 align-self-center\"},[(_vm.schedule.hasSection(crs.key, sec.id))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])])})]})],2):_vm._e()])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/**\n * @license MIT maoberlehner\n * @link https://github.com/maoberlehner/transition-to-height-auto-with-vue\n */\nexport default {\n    name: `Expand`,\n    functional: true,\n    render(createElement, context) {\n        const data = {\n            props: {\n                name: `expand`\n            },\n            on: {\n                afterEnter(element) {\n                    // eslint-disable-next-line no-param-reassign\n                    element.style.height = `auto`;\n                },\n                /**\n                 * @param {HTMLElement} element\n                 */\n                enter(element) {\n                    const { width } = getComputedStyle(element);\n                    /* eslint-disable no-param-reassign */\n                    element.style.width = width;\n                    element.style.position = `absolute`;\n                    element.style.visibility = `hidden`;\n                    element.style.height = `auto`;\n                    /* eslint-enable */\n                    const { height } = getComputedStyle(element);\n                    /* eslint-disable no-param-reassign */\n                    element.style.removeProperty('width');\n                    element.style.removeProperty('position');\n                    element.style.removeProperty('visibility');\n                    element.style.height = 0;\n                    /* eslint-enable */\n                    // Force repaint to make sure the\n                    // animation is triggered correctly.\n                    // eslint-disable-next-line no-unused-expressions\n\n                    getComputedStyle(element).height;\n                    setTimeout(() => {\n                        // eslint-disable-next-line no-param-reassign\n                        element.style.height = height;\n                    });\n                },\n                leave(element) {\n                    const { height } = getComputedStyle(element);\n                    // eslint-disable-next-line no-param-reassign\n                    element.style.height = height;\n                    // Force repaint to make sure the\n                    // animation is triggered correctly.\n                    // eslint-disable-next-line no-unused-expressions\n\n                    getComputedStyle(element).height;\n                    setTimeout(() => {\n                        // eslint-disable-next-line no-param-reassign\n                        element.style.height = 0;\n                    });\n                }\n            }\n        };\n        return createElement(`transition`, data, context.children);\n    }\n};\n</script>\n\n<style scoped>\n* {\n    will-change: height;\n    transform: translateZ(0);\n    backface-visibility: hidden;\n    perspective: 1000px;\n}\n</style>\n\n<style>\n.expand-enter-active,\n.expand-leave-active {\n    transition: height 0.5s ease-in-out;\n    overflow: hidden;\n}\n.expand-enter,\n.expand-leave-to {\n    height: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=script&lang=js&\"","/**\n * Miscellaneous components used in tabs and App.vue\n * @module src/components\n * @preferred\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport Course from '../models/Course';\nimport Schedule from '../models/Schedule';\nimport Expand from './Expand.vue';\n\n/**\n * A **pure** component for\n * 1. displaying the list of courses that are match the query string when searching\n * 2. displaying the list of courses currently selected\n * @author Hanzhi Zhou, Kaiying Shan\n * @noInheritDoc\n */\n@Component({\n    components: {\n        Expand\n    }\n})\nexport default class ClassList extends Vue {\n    /**\n     * the array of courses to be displayed on this list\n     */\n    @Prop({ type: Array, default: () => [] }) readonly courses!: Course[];\n    /**\n     * the array of matches corresponding to the array of courses\n     */\n    @Prop({ type: Array, default: () => [] }) readonly matches!: SearchMatch[];\n    /**\n     * the schedule used to extract the already selected sections of the courses given above\n     */\n    @Prop(Object) readonly schedule!: Schedule;\n    /**\n     * whether in Entering mode. when true, no **close** buttons (for removing courses) will be shown\n     */\n    @Prop({ default: false, type: Boolean }) readonly isEntering!: boolean;\n    /**\n     * whether to show **Any Section**\n     */\n    @Prop({ default: true, type: Boolean }) readonly showAny!: boolean;\n    /**\n     * whether to expand all courses by default in entering mode\n     */\n    @Prop({ default: false, type: Boolean }) readonly expandOnEntering!: boolean;\n    @Prop({ default: true, type: Boolean }) readonly showClasslistTitle!: boolean;\n\n    /**\n     * the array used to record which course is collapsed/expanded\n     *\n     * key: the key of the course (`course.key`)\n     * value: true for collapsed, false otherwise\n     */\n    collapsed: { [x: string]: boolean } = {};\n    group: { [x: string]: boolean } = {};\n\n    select(key: string, idx: number) {\n        // need to pass this event to parent because the parent needs to update some other stuff\n        const numInput = document.getElementById(key + '-' + idx) as HTMLInputElement;\n\n        if (idx === -1) {\n            // if select AnySection, disable group\n            if (!this.schedule.isAnySection(key)) this.$set(this.group, key, false);\n            this.$emit('update-course', key, idx, 0, this.isEntering);\n        } else {\n            this.$emit('update-course', key, idx, +numInput.value, this.isEntering);\n        }\n    }\n\n    updateGroup(key: string) {\n        if (this.group[key]) {\n            this.$set(this.group, key, false);\n        } else {\n            this.$set(this.group, key, true);\n            if (this.schedule.isAnySection(key))\n                this.$emit('update-course', key, -1, 0, this.isEntering);\n        }\n    }\n\n    selectAll(key: string, course: Course) {\n        let notSelected = false;\n        for (const sec of course.sections) {\n            if (!this.schedule.hasSection(key, sec.id)) {\n                notSelected = true;\n                this.select(key, sec.id);\n            }\n        }\n        if (!notSelected) {\n            for (const sec of course.sections) {\n                this.select(key, sec.id);\n            }\n        }\n    }\n\n    allTimeSelected(key: string, time: string) {\n        return this.separatedCourses[key][time].sections.every(sec =>\n            this.schedule.hasSection(key, sec.id)\n        );\n    }\n\n    get separatedCourses() {\n        const courseObj: { [course: string]: { [date: string]: Course } } = Object.create(null);\n        for (const course of this.courses) {\n            const obj: { [date: string]: Set<number> } = Object.create(null);\n            const sections = course.sections;\n            // group sections by dates\n            for (const { dates, id } of sections) {\n                if (obj[dates]) {\n                    obj[dates].add(id);\n                } else {\n                    obj[dates] = new Set<number>().add(id);\n                }\n            }\n\n            const segments: { [date: string]: Course } = Object.create(null);\n            const len = course.sections.length;\n            for (const date in obj) {\n                // all sections are selected: use the full course\n                if (obj[date].size === len) {\n                    segments[date] = course;\n                    // some sections are selected: get the subset\n                } else {\n                    segments[date] = window.catalog.getCourse(course.key, obj[date]);\n                }\n            }\n            courseObj[course.key] = segments;\n        }\n        return courseObj;\n    }\n\n    /**\n     * update the collapse status of the course with key=`key`\n     * @param key\n     */\n    collapse(key: string) {\n        if (this.expanded(key)) {\n            this.$set(this.collapsed, key, false);\n        } else {\n            this.$set(this.collapsed, key, true);\n        }\n    }\n    /**\n     * returns whether course with key=`key` is expanded\n     * @param key\n     */\n    expanded(key: string) {\n        const status = this.collapsed[key];\n        return (status === undefined && this.isEntering && this.expandOnEntering) || status;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./ClassList.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./ClassList.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassList.vue?vue&type=template&id=7ddd6ddf&scoped=true&\"\nimport script from \"./ClassList.ts?vue&type=script&lang=ts&\"\nexport * from \"./ClassList.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ClassList.vue?vue&type=style&index=0&id=7ddd6ddf&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ddd6ddf\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":(\"typeahead-\" + _vm.id),\"role\":\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":(\"result-list-\" + _vm.id),\"aria-expanded\":(_vm.isFocused && _vm.data.length > 0) ? 'true' : 'false'}},[_c('div',{class:_vm.inputGroupClasses},[(_vm.$slots.prepend || _vm.prepend)?_c('div',{ref:\"prependDiv\",staticClass:\"input-group-prepend\"},[_vm._t(\"prepend\",[_c('span',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.prepend))])])],2):_vm._e(),_c('input',{ref:\"input\",class:(\"form-control \" + _vm.inputClass),attrs:{\"id\":(\"typeahead-input-\" + _vm.id),\"type\":\"text\",\"role\":\"searchbox\",\"aria-labelledby\":_vm.ariaLabelledBy,\"aria-multiline\":\"false\",\"aria-autocomplete\":\"list\",\"aria-controls\":(\"result-list-\" + _vm.id),\"aria-activedescendant\":(\"selected-option-\" + _vm.id),\"name\":_vm.inputName,\"placeholder\":_vm.placeholder,\"aria-label\":(!_vm.ariaLabelledBy) ? _vm.placeholder : false,\"disabled\":_vm.disabled},domProps:{\"value\":_vm.inputValue},on:{\"focus\":function($event){_vm.isFocused = true},\"blur\":_vm.handleFocusOut,\"input\":function($event){return _vm.handleInput($event.target.value)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.handleEsc($event.target.value)},\"keyup\":function($event){return _vm.$emit('keyup', $event)}}}),(_vm.$slots.append || _vm.append)?_c('div',{staticClass:\"input-group-append\"},[_vm._t(\"append\",[_c('span',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.append))])])],2):_vm._e()]),_c('vue-typeahead-bootstrap-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFocused && _vm.data.length > 0),expression:\"isFocused && data.length > 0\"}],ref:\"list\",staticClass:\"vbt-autcomplete-list\",attrs:{\"id\":(\"result-list-\" + _vm.id),\"query\":_vm.inputValue,\"data\":_vm.formattedData,\"background-variant\":_vm.backgroundVariant,\"background-variant-resolver\":_vm.backgroundVariantResolver,\"text-variant\":_vm.textVariant,\"maxMatches\":_vm.maxMatches,\"minMatchingChars\":_vm.minMatchingChars,\"disableSort\":_vm.disableSort,\"showOnFocus\":_vm.showOnFocus,\"showAllResults\":_vm.showAllResults,\"highlightClass\":_vm.highlightClass,\"disabledValues\":_vm.disabledValues,\"vbtUniqueId\":_vm.id,\"role\":\"listbox\"},on:{\"hit\":_vm.handleHit,\"listItemBlur\":_vm.handleChildBlur},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(slot,slotName){return {key:slotName,fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn [_vm._t(slotName,null,null,{ data: data, htmlText: htmlText })]}}})],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"suggestionList\",staticClass:\"list-group shadow\"},_vm._l((_vm.matchedItems),function(item,id){return _c('vue-typeahead-bootstrap-list-item',_vm._g({key:id,attrs:{\"active\":_vm.isListItemActive(id),\"id\":(_vm.isListItemActive(id)) ? (\"selected-option-\" + _vm.vbtUniqueId) : false,\"data\":item.data,\"html-text\":_vm.highlight(item.text),\"role\":\"option\",\"aria-selected\":(_vm.isListItemActive(id)) ? 'true' : 'false',\"screen-reader-text\":(item.screenReaderText) ? item.screenReaderText : item.text,\"disabled\":_vm.isDisabledItem(item),\"background-variant\":_vm.backgroundVariant,\"background-variant-resolver\":_vm.backgroundVariantResolver,\"text-variant\":_vm.textVariant},nativeOn:{\"click\":function($event){return _vm.handleHit(item, $event)}},scopedSlots:_vm._u([{key:\"suggestion\",fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn (_vm.$scopedSlots.suggestion)?[_vm._t(\"suggestion\",null,null,{ data: data, htmlText: htmlText })]:undefined}}],null,true)},_vm.$listeners))}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{class:(_vm.textClasses + \" \" + (_vm.active ? 'active' : '')),attrs:{\"tabindex\":\"0\",\"href\":\"#\"},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }return _vm.$emit('listItemBlur')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }$event.stopPropagation();$event.preventDefault();return _vm.$emit('listItemBlur')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();}],\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.$parent.selectNextListItem($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.$parent.selectPreviousListItem($event)}],\"blur\":_vm.processFocusOut}},[_c('div',{staticClass:\"sr-only\"},[_vm._v(_vm._s(_vm.screenReaderText))]),_c('div',{attrs:{\"aria-hidden\":\"true\"}},[_vm._t(\"suggestion\",[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.htmlText)}})],null,{ data: _vm.data, htmlText: _vm.htmlText })],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a\n    @keydown.tab=\"$emit('listItemBlur')\"\n    @keydown.esc.stop.prevent=\"$emit('listItemBlur')\"\n    @keydown.down.prevent\n    @keydown.up.prevent\n    @keyup.down=\"$parent.selectNextListItem($event)\"\n    @keyup.up=\"$parent.selectPreviousListItem($event)\"\n    @blur=\"processFocusOut\"\n    tabindex=\"0\"\n    href=\"#\"\n    :class=\"`${textClasses} ${active ? 'active' : ''}`\"\n  >\n    <div class=\"sr-only\">{{screenReaderText}}</div>\n    <div aria-hidden=\"true\">\n      <slot name=\"suggestion\" v-bind=\"{ data: data, htmlText: htmlText }\">\n        <span v-html=\"htmlText\"></span>\n      </slot>\n    </div>\n  </a>\n</template>\n\n<script>\nexport default {\n  name: 'VueTypeaheadBootstrapListItem',\n\n  props: {\n    active: {\n      type: Boolean\n    },\n    data: {},\n    screenReaderText: {\n      type: String\n    },\n    htmlText: {\n      type: String\n    },\n    disabled: {\n      type: Boolean\n    },\n    backgroundVariant: {\n      type: String\n    },\n    backgroundVariantResolver: {\n      type: Function,\n      default: (d) => null,\n      validator: d => d instanceof Function\n    },\n    textVariant: {\n      type: String\n    }\n  },\n  data: function() {\n    return {\n      baseTextClasses: ['vbst-item', 'list-group-item', 'list-group-item-action']\n    }\n  },\n\n  computed: {\n    textClasses() {\n      const classes = [...this.baseTextClasses]\n      const backgroundVariantResolverResult = this.backgroundVariantResolver(this.data)\n      const backgroundVariant =\n          (typeof backgroundVariantResolverResult === 'string' && backgroundVariantResolverResult.trim()) ||\n          this.backgroundVariant\n      if (backgroundVariant) classes.push(`list-group-item-${backgroundVariant}`)\n      if (this.textVariant) classes.push(`text-${this.textVariant}`)\n      if (this.disabled) classes.push('disabled')\n      return classes.join(' ')\n    }\n  },\n\n  methods: {\n    processFocusOut(evt) {\n      const tgt = evt.relatedTarget\n      if (tgt && tgt.classList.contains('vbst-item')) {\n        return\n      }\n\n      this.$emit('listItemBlur')\n    }\n  }\n}\n</script>\n\n<style scoped>\n  a:not(.disabled){\n    cursor: pointer;\n  }\n  a.disabled{\n    cursor: default;\n    pointer-events: none;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrapListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrapListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueTypeaheadBootstrapListItem.vue?vue&type=template&id=0d97cddd&scoped=true&\"\nimport script from \"./VueTypeaheadBootstrapListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./VueTypeaheadBootstrapListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VueTypeaheadBootstrapListItem.vue?vue&type=style&index=0&id=0d97cddd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d97cddd\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"list-group shadow\" ref=\"suggestionList\">\n    <vue-typeahead-bootstrap-list-item\n      v-for=\"(item, id) in matchedItems\" :key=\"id\"\n      :active=\"isListItemActive(id)\"\n      :id=\"(isListItemActive(id)) ? `selected-option-${vbtUniqueId}` : false\"\n      :data=\"item.data\"\n      :html-text=\"highlight(item.text)\"\n      role=\"option\"\n      :aria-selected=\"(isListItemActive(id)) ? 'true' : 'false'\"\n      :screen-reader-text=\"(item.screenReaderText) ? item.screenReaderText : item.text\"\n      :disabled=\"isDisabledItem(item)\"\n      :background-variant=\"backgroundVariant\"\n      :background-variant-resolver=\"backgroundVariantResolver\"\n      :text-variant=\"textVariant\"\n      @click.native=\"handleHit(item, $event)\"\n      v-on=\"$listeners\"\n    >\n      <template v-if=\"$scopedSlots.suggestion\" slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <slot name=\"suggestion\" v-bind=\"{ data, htmlText }\" />\n      </template>\n    </vue-typeahead-bootstrap-list-item>\n  </div>\n</template>\n\n<script>\nimport VueTypeaheadBootstrapListItem from './VueTypeaheadBootstrapListItem.vue'\nimport clone from 'lodash/clone'\nimport includes from 'lodash/includes'\nimport isEmpty from 'lodash/isEmpty'\nimport reject from 'lodash/reject'\nimport reverse from 'lodash/reverse'\nimport findIndex from 'lodash/findIndex'\n\nconst BEFORE_LIST_INDEX = -1\n\nfunction sanitize(text) {\n  return text.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n}\n\nfunction escapeRegExp(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n}\n\nexport default {\n  name: 'VueTypeaheadBootstrapList',\n\n  components: {\n    VueTypeaheadBootstrapListItem\n  },\n\n  props: {\n    data: {\n      type: Array,\n      required: true,\n      validator: d => d instanceof Array\n    },\n    query: {\n      type: String,\n      default: ''\n    },\n    vbtUniqueId: {\n      type: Number,\n      required: true\n    },\n    backgroundVariant: {\n      type: String\n    },\n    backgroundVariantResolver: {\n      type: Function,\n      default: (d) => null,\n      validator: d => d instanceof Function\n    },\n    disableSort: {\n      type: Boolean\n    },\n    textVariant: {\n      type: String\n    },\n    maxMatches: {\n      type: Number,\n      default: 10\n    },\n    minMatchingChars: {\n      type: Number,\n      default: 2\n    },\n    disabledValues: {\n      type: Array,\n      default: () => []\n    },\n    showOnFocus: {\n      type: Boolean,\n      default: false\n    },\n    showAllResults: {\n      type: Boolean,\n      default: false\n    },\n    highlightClass: {\n      type: String,\n      default: 'vbt-matched-text'\n    }\n  },\n\n  created() {\n    this.$parent.$on('input', this.resetActiveListItem)\n    this.$parent.$on('keyup', this.handleParentInputKeyup)\n  },\n  data() {\n    return {\n      activeListItem: -1\n    }\n  },\n\n  computed: {\n    highlight() {\n      return text => {\n        text = sanitize(text)\n        if (this.query.length === 0) {\n          return text\n        }\n\n        const re = new RegExp(this.escapedQuery, 'gi')\n        return text.replace(re, `<span class='${this.highlightClass}'>$&</span>`)\n      }\n    },\n\n    escapedQuery() {\n      return escapeRegExp(sanitize(this.query))\n    },\n\n    actionableItems() {\n      return reject(this.matchedItems, (matchedItem) => {\n        return this.isDisabledItem(matchedItem)\n      })\n    },\n\n    matchedItems() {\n      if (!this.showOnFocus && (isEmpty(this.query) || this.query.length < this.minMatchingChars)) {\n        return []\n      }\n\n      // Filter, sort, and concat\n      return this.data\n        .filter(i => i.text.startsWith(this.escapedQuery)).slice(0, this.maxMatches)\n    }\n  },\n\n  methods: {\n    handleParentInputKeyup(e) {\n      switch (e.keyCode) {\n        case 40: // down arrow\n          this.selectNextListItem()\n          break\n        case 38: // up arrow\n          this.selectPreviousListItem()\n          break\n        case 13: // enter\n          this.hitActiveListItem()\n          break\n      }\n    },\n\n    handleHit(item, evt) {\n      this.$emit('hit', item)\n      evt.preventDefault()\n    },\n    hitActiveListItem() {\n      if (this.activeListItem < 0) {\n        this.selectNextListItem();\n      }\n      if (this.activeListItem >= 0) {\n        this.$emit('hit', this.matchedItems[this.activeListItem])\n      }\n    },\n    isDisabledItem(item) {\n      return includes(this.disabledValues, item.text)\n    },\n\n    isListItemActive(id) {\n      return this.activeListItem === id\n    },\n    resetActiveListItem() {\n      this.activeListItem = -1\n    },\n\n    findIndexForNextActiveItem(itemsToSearch, currentSelectedItem) {\n      if (!itemsToSearch) {\n        itemsToSearch = this.matchedItems\n      }\n      if (currentSelectedItem === undefined) {\n        currentSelectedItem = this.activeListItem\n      }\n\n      let nextActiveIndex = findIndex(\n        itemsToSearch,\n        function(o) { return !this.isDisabledItem(o) }.bind(this),\n        currentSelectedItem + 1\n      )\n\n      if (nextActiveIndex === BEFORE_LIST_INDEX) {\n        nextActiveIndex = findIndex(\n          itemsToSearch,\n          function(o) { return !this.isDisabledItem(o) }.bind(this)\n        )\n      }\n\n      return nextActiveIndex\n    },\n\n    selectNextListItem() {\n      if (this.actionableItems.length <= 0) {\n        this.activeListItem = BEFORE_LIST_INDEX\n        return true\n      }\n\n      this.activeListItem = this.findIndexForNextActiveItem()\n    },\n\n    selectPreviousListItem() {\n      if (this.actionableItems.length <= 0) {\n        this.activeListItem = BEFORE_LIST_INDEX\n        return true\n      } else if (this.activeListItem === 0) {\n        this.activeListItem = BEFORE_LIST_INDEX\n      }\n\n      let reversedList = reverse(clone(this.matchedItems))\n      let currerntReversedIndex = ((this.matchedItems.length - 1) - this.activeListItem)\n      let nextReverseIndex = this.findIndexForNextActiveItem(reversedList, currerntReversedIndex)\n\n      this.activeListItem = (this.matchedItems.length - 1) - nextReverseIndex\n    }\n  },\n  watch: {\n    activeListItem(newValue, oldValue) {\n      if (!this.$parent.autoClose && this.$parent.isFocused === false) {\n        this.$parent.isFocused = true\n      }\n      if (newValue >= 0) {\n        const scrollContainer = this.$refs.suggestionList\n        const listItem = scrollContainer.children[this.activeListItem]\n        const scrollContainerlHeight = scrollContainer.clientHeight\n        const listItemHeight = listItem.clientHeight\n        const visibleItems = Math.floor(\n          scrollContainerlHeight / (listItemHeight + 20)\n        )\n        if (newValue >= visibleItems) {\n          scrollContainer.scrollTop = listItemHeight * this.activeListItem\n        } else {\n          scrollContainer.scrollTop = 0\n        }\n        // listItem.focus()\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrapList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrapList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueTypeaheadBootstrapList.vue?vue&type=template&id=68485fde&\"\nimport script from \"./VueTypeaheadBootstrapList.vue?vue&type=script&lang=js&\"\nexport * from \"./VueTypeaheadBootstrapList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    :id=\"`typeahead-${id}`\"\n    role=\"combobox\"\n    aria-haspopup=\"listbox\"\n    :aria-owns=\"`result-list-${id}`\"\n    :aria-expanded=\"(isFocused && data.length > 0) ? 'true' : 'false'\"\n  >\n    <div :class=\"inputGroupClasses\">\n      <div ref=\"prependDiv\" v-if=\"$slots.prepend || prepend\" class=\"input-group-prepend\">\n        <slot name=\"prepend\">\n          <span class=\"input-group-text\">{{ prepend }}</span>\n        </slot>\n      </div>\n      <input\n        ref=\"input\"\n        :id=\"`typeahead-input-${id}`\"\n        type=\"text\"\n        role=\"searchbox\"\n        :class=\"`form-control ${inputClass}`\"\n        :aria-labelledby=\"ariaLabelledBy\"\n        aria-multiline=\"false\"\n        aria-autocomplete=\"list\"\n        :aria-controls=\"`result-list-${id}`\"\n        :aria-activedescendant=\"`selected-option-${id}`\"\n        :name=\"inputName\"\n        :placeholder=\"placeholder\"\n        :aria-label=\"(!ariaLabelledBy) ? placeholder : false\"\n        :value=\"inputValue\"\n        :disabled=\"disabled\"\n        @focus=\"isFocused = true\"\n        @blur=\"handleFocusOut\"\n        @input=\"handleInput($event.target.value)\"\n        @keydown.esc=\"handleEsc($event.target.value)\"\n        @keyup=\"$emit('keyup', $event)\"\n      />\n      <div v-if=\"$slots.append || append\" class=\"input-group-append\">\n        <slot name=\"append\">\n          <span class=\"input-group-text\">{{ append }}</span>\n        </slot>\n      </div>\n    </div>\n    <vue-typeahead-bootstrap-list\n      :id=\"`result-list-${id}`\"\n      class=\"vbt-autcomplete-list\"\n      ref=\"list\"\n      v-show=\"isFocused && data.length > 0\"\n      :query=\"inputValue\"\n      :data=\"formattedData\"\n      :background-variant=\"backgroundVariant\"\n      :background-variant-resolver=\"backgroundVariantResolver\"\n      :text-variant=\"textVariant\"\n      :maxMatches=\"maxMatches\"\n      :minMatchingChars=\"minMatchingChars\"\n      :disableSort=\"disableSort\"\n      :showOnFocus=\"showOnFocus\"\n      :showAllResults=\"showAllResults\"\n      @hit=\"handleHit\"\n      @listItemBlur=\"handleChildBlur\"\n      :highlightClass='highlightClass'\n      :disabledValues=\"disabledValues\"\n      :vbtUniqueId=\"id\"\n      role=\"listbox\"\n    >\n      <!-- pass down all scoped slots -->\n      <template v-for=\"(slot, slotName) in $scopedSlots\" :slot=\"slotName\" slot-scope=\"{ data, htmlText }\">\n        <slot :name=\"slotName\" v-bind=\"{ data, htmlText }\"></slot>\n      </template>\n      <!-- below is the right solution, however if the user does not provide a scoped slot, vue will still set $scopedSlots.suggestion to a blank scope\n      <template v-if=\"$scopedSlots.suggestion\" slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <slot name=\"suggestion\" v-bind=\"{ data, htmlText }\" />\n      </template>-->\n    </vue-typeahead-bootstrap-list>\n  </div>\n</template>\n\n<script>\nimport VueTypeaheadBootstrapList from './VueTypeaheadBootstrapList.vue'\nimport ResizeObserver from 'resize-observer-polyfill'\n\nexport default {\n  name: 'VueTypeaheadBootstrap',\n\n  components: {\n    VueTypeaheadBootstrapList\n  },\n\n  props: {\n    ariaLabelledBy: {\n      type: String,\n      default: null\n    },\n    size: {\n      type: String,\n      default: null,\n      validator: size => ['lg', 'md', 'sm'].indexOf(size) > -1\n    },\n    value: {\n      type: String\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    data: {\n      type: Array,\n      required: true,\n      validator: d => d instanceof Array\n    },\n    serializer: {\n      type: Function,\n      default: (d) => d,\n      validator: d => d instanceof Function\n    },\n    // Don't call this method, use _screenReaderTextSerializer()\n    // Using _screenReaderTextSerializer allows for defaulting based on .serializer\n    screenReaderTextSerializer: {\n      type: Function,\n      validator: d => d instanceof Function\n    },\n    backgroundVariant: String,\n    backgroundVariantResolver: {\n      type: Function,\n      default: (d) => d,\n      validator: d => d instanceof Function\n    },\n    disabledValues: {\n      type: Array,\n      default: () => []\n    },\n    textVariant: String,\n    inputClass: {\n      type: String,\n      default: ''\n    },\n    inputName: {\n      type: String,\n      default: undefined\n    },\n    maxMatches: {\n      type: Number,\n      default: 10\n    },\n    minMatchingChars: {\n      type: Number,\n      default: 2\n    },\n    disableSort: {\n      type: Boolean,\n      default: false\n    },\n    showOnFocus: {\n      type: Boolean,\n      default: false\n    },\n    showAllResults: {\n      type: Boolean,\n      default: false\n    },\n    autoClose: {\n      type: Boolean,\n      default: true\n    },\n    ieCloseFix: {\n      type: Boolean,\n      default: true\n    },\n    placeholder: String,\n    prepend: String,\n    append: String,\n    highlightClass: String\n  },\n\n  computed: {\n    id() {\n      return Math.floor(Math.random() * 100000)\n    },\n    inputGroupClasses() {\n      return this.size ? `input-group input-group-${this.size}` : 'input-group'\n    },\n\n    formattedData() {\n      if (!(this.data instanceof Array)) {\n        return []\n      }\n      return this.data.map((d, i) => {\n        return {\n          id: i,\n          data: d,\n          screenReaderText: this._screenReaderTextSerializer(d),\n          text: this.serializer(d)\n        }\n      })\n    }\n  },\n\n  methods: {\n    _screenReaderTextSerializer(d){\n      if ( typeof d === \"object\" && !Array.isArray(d) && d !== null){\n       if (this.screenReaderTextSerializer){\n          return this.screenReaderTextSerializer(d)\n        } else {\n          return this.serializer(d)\n        }\n      } else {\n        return d\n      }\n    },\n    resizeList(el) {\n      const rect = el.getBoundingClientRect()\n      const listStyle = this.$refs.list.$el.style\n\n      // Set the width of the list on resize\n      listStyle.width = rect.width + 'px'\n\n      // Set the margin when the prepend prop or slot is populated\n      // (setting the \"left\" CSS property doesn't work)\n      if (this.$refs.prependDiv) {\n        const prependRect = this.$refs.prependDiv.getBoundingClientRect()\n        listStyle.marginLeft = prependRect.width + 'px'\n      }\n    },\n\n    handleHit(evt) {\n      if (typeof this.value !== 'undefined') {\n        this.$emit('input', evt.text)\n      }\n\n      this.inputValue = evt.text\n      this.$emit('hit', evt.data)\n\n      if (this.autoClose) {\n        // this.$refs.input.blur()\n        this.isFocused = false\n      }\n    },\n\n    handleChildBlur() {\n      this.$refs.input.focus()\n      this.isFocused = false\n    },\n\n    runFocusOut(tgt) {\n      if (tgt && tgt.classList.contains('vbst-item')) {\n        return\n      }\n      this.isFocused = false\n    },\n\n    handleFocusOut(evt) {\n      const tgt = evt.relatedTarget\n      if (!!navigator.userAgent.match(/Trident.*rv:11\\./) && this.ieCloseFix) {\n        setTimeout(() => { this.runFocusOut(tgt) }, 300)\n      } else {\n        this.runFocusOut(tgt)\n      }\n    },\n\n    handleInput(newValue) {\n      this.isFocused = true\n      this.inputValue = newValue\n\n      // If v-model is being used, emit an input event\n      if (typeof this.value !== 'undefined') {\n        this.$emit('input', newValue)\n      }\n    },\n\n    handleEsc(inputValue) {\n      if (inputValue === '') {\n        this.$refs.input.blur()\n        this.isFocused = false\n      } else {\n        this.inputValue = ''\n      }\n    }\n  },\n\n  data() {\n    return {\n      isFocused: false,\n      inputValue: this.value || ''\n    }\n  },\n\n  mounted() {\n    this.$_ro = new ResizeObserver(e => {\n      this.resizeList(this.$refs.input)\n    })\n    this.$_ro.observe(this.$refs.input)\n    this.$_ro.observe(this.$refs.list.$el)\n  },\n\n  beforeDestroy() {\n    this.$_ro.disconnect()\n  },\n\n  watch: {\n    value: function(val) {\n      this.inputValue = val\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .vbt-autcomplete-list {\n    padding-top: 5px;\n    position: absolute;\n    max-height: 350px;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n    overflow-y: auto;\n    z-index: 999;\n  }\n  .vbt-autcomplete-list >>> .vbt-matched-text{\n    font-weight: bold;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueTypeaheadBootstrap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueTypeaheadBootstrap.vue?vue&type=template&id=66b9c158&scoped=true&\"\nimport script from \"./VueTypeaheadBootstrap.vue?vue&type=script&lang=js&\"\nexport * from \"./VueTypeaheadBootstrap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VueTypeaheadBootstrap.vue?vue&type=style&index=0&id=66b9c158&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66b9c158\",\n  null\n  \n)\n\nexport default component.exports","/**\n * Tabs components, shown when their corresponding tabs are active\n * @module src/components/tabs\n * @preferred\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport Store from '@/store';\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport ClassList from '../ClassList.vue';\nimport VueTypeaheadBootstrap from '../autocomplete/VueTypeaheadBootstrap.vue';\n\nconst generatedWarning = `You're editing the generated schedule! You should do 'change to proposed' if you want to add on this particular generated schedule.`;\n\n/**\n * component for editing classes and manipulating schedules\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component({\n    components: {\n        ClassList,\n        VueTypeaheadBootstrap\n    }\n})\nexport default class ClassView extends Store {\n    // autocompletion related fields\n    isEntering = false;\n    inputCourses: Course[] = [];\n    inputMatches: SearchMatch[] = [];\n    query = '';\n    queryTypes: string[] = [':title ', ':num ', ':topic ', ':prof ', ':desc ', ':room '];\n\n    get current() {\n        return this.schedule.currentSchedule.current;\n    }\n\n    /**\n     * get classes that match the input query.\n     * Exit \"entering\" mode on falsy parameter (set `isEntering` to false)\n     *\n     * if a generated schedule is displayed, switch to proposed schedule,\n     * because we're adding stuff to the proposed schedule\n     *\n     * @see Catalog.search\n     */\n    @Watch('query')\n    getClass() {\n        if (!this.query) {\n            this.isEntering = false;\n            this.inputCourses = [];\n            this.inputMatches = [];\n            return;\n        }\n        if (this.schedule.generated) {\n            this.schedule.switchSchedule(false);\n        }\n\n        console.time('query');\n        [this.inputCourses, this.inputMatches] = window.catalog.search(\n            this.query,\n            this.display.numSearchResults\n        );\n        console.timeEnd('query');\n\n        this.isEntering = true;\n    }\n\n    closeClassList() {\n        this.query = '';\n    }\n\n    generateClick() {\n        this.query = '';\n        this.generateSchedules();\n    }\n\n    /**\n     * @see Schedule.update\n     */\n    updateCourse(key: string, section: number, groupIdx = 0, remove = false) {\n        try {\n            this.schedule.currentSchedule.update(key, section, groupIdx, remove);\n        } catch (e) {\n            this.noti.warn(e.message || generatedWarning);\n        }\n\n        // note: adding a course to schedule.All cannot be detected by Vue.\n        // Must use forceUpdate to re-render component\n        (this.$refs.selectedClassList as Vue).$forceUpdate();\n        const classList = this.$refs.enteringClassList;\n        if (classList instanceof Vue) (classList as Vue).$forceUpdate();\n        this.saveStatus();\n    }\n\n    removeCourse(key: string) {\n        try {\n            this.schedule.currentSchedule.remove(key);\n        } catch (e) {\n            this.noti.warn(e.message || generatedWarning);\n        }\n        this.saveStatus();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ClassView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ClassView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassView.vue?vue&type=template&id=53ba0932&\"\nimport script from \"./ClassView.ts?vue&type=script&lang=ts&\"\nexport * from \"./ClassView.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ClassView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Compare Schedules\")]),(_vm.compare.length > 0)?_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},_vm._l((_vm.compare),function(cur,idx){return _c('li',{key:idx,staticClass:\"list-group-item px-1\",on:{\"mouseenter\":function($event){return _vm.highlight(idx)},\"mouseleave\":function($event){return _vm.highlight(idx)}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",attrs:{\"title\":_vm.getTitle(idx)}},[_vm._v(\" Schedule \"+_vm._s(cur.pIdx + 1)+\"/\"+_vm._s(cur.index + 1)),_c('br'),_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Profile \\\"\"+_vm._s(cur.profileName)+\"\\\"\")]),_c('br')]),_c('div',{staticClass:\"col-sm-auto mr-1 align-self-center\"},[_c('button',{attrs:{\"title\":\"if you want your schedule to be as similar to this schedule as possible, click me\"},on:{\"click\":function($event){return _vm.similarity(idx)}}},[_vm._v(\" Ref \"),(_vm.isSimilarSchedule(idx))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])]),_c('div',{staticClass:\"col-sm-auto text-right align-self-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(cur.color),expression:\"cur.color\"}],staticClass:\"mr-1\",staticStyle:{\"width\":\"25px\"},attrs:{\"type\":\"color\"},domProps:{\"value\":(cur.color)},on:{\"change\":function($event){return _vm.renderSchedule(false)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(cur, \"color\", $event.target.value)}}}),_c('i',{staticClass:\"fas fa-sync-alt click-icon\",attrs:{\"title\":\"get a random color\"},on:{\"click\":function($event){return _vm.randColor(idx)}}}),_c('i',{staticClass:\"fa fa-times ml-2 click-icon\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"title\":\"delete this schedule\"},on:{\"click\":function($event){return _vm.deleteCompare(idx)}}})])])])}),0):_c('div',{staticClass:\"mx-4 my-2\"},[_vm._v(\" You haven't selected any schedule to compare yet. Select one by clicking the \\\"Compare\\\" button at the top of the page when you have generated some schedules. You can also compare generated schedules across different profiles. \")]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Sort by Similarity to Another Schedule\")]),(_vm.filter.similarityEnabled)?_c('div',{staticClass:\"mx-2 my-2 text-center\"},[_c('pre',{staticClass:\"mb-2 text-left mx-1\"},[_vm._v(_vm._s(_vm.refSchedule))]),_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.renderSimilarityRefSchedule()}}},[_vm._v(\" \"+_vm._s(_vm.similarityRefShown ? 'Hide' : 'Display')+\" Reference Schedule \")])]):_c('div',{staticClass:\"mx-2 my-2 text-center\"},[_vm._v(\" Select \\\"Ref\\\" for any schedule in the compare list to enable sort by similarity with reference to the selected schedule. \")])]),_c('main-content',[_c('div',{staticClass:\"w-100 mb-2 row justify-content-center mt-1\",attrs:{\"id\":\"pg\"}},[_c('date-separator',{staticClass:\"col-sm-auto text-center\",attrs:{\"cur-schedule\":_vm.compareSchedule},on:{\"update-select\":function($event){return _vm.renderSchedule(false)}}})],1),_c('grid-schedule',{attrs:{\"schedule-days\":_vm.compareSchedule.days}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.curSchedule.dateSeparators.length > 2)?_c('div',{staticClass:\"btn-group ml-4\",attrs:{\"role\":\"group\"}},[_vm._l((_vm.curSchedule.dateSeparators.length - 1),function(idx){return _c('button',{key:idx,staticClass:\"btn btn-outline-primary flex-shrink-0\",on:{\"click\":function($event){return _vm.selectInterval(idx - 1)}}},[_vm._v(\" \"+_vm._s(_vm.convDate(_vm.curSchedule.dateSeparators[idx - 1]))+\" - \"+_vm._s(_vm.convDate(_vm.curSchedule.dateSeparators[idx], -1))+\" \"),(_vm.curSchedule.dateSelector === idx - 1)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])}),_c('button',{staticClass:\"btn btn-outline-primary flex-shrink-0\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectInterval(-1)}}},[_vm._v(\" Show All Classes \"),(_vm.curSchedule.dateSelector === -1)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @module src/components\r\n */\r\n\r\n/**\r\n * @author Kaiying Shan\r\n * @noInheritDoc\r\n */\r\nimport Schedule from '@/models/Schedule';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class DateSeparator extends Vue {\r\n    @Prop(Object) curSchedule!: Schedule;\r\n    public selectInterval(idx: number) {\r\n        this.curSchedule.dateSelector = idx;\r\n        this.$emit('update-select');\r\n    }\r\n\r\n    public convDate(n: number, offset = 0) {\r\n        const date = new Date(n + offset * 24 * 60 * 60 * 1000);\r\n        return (\r\n            (date.getMonth() + 1).toString().padStart(2, '0') +\r\n            '/' +\r\n            date\r\n                .getDate()\r\n                .toString()\r\n                .padStart(2, '0')\r\n        );\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./DateSeparator.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./DateSeparator.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DateSeparator.vue?vue&type=template&id=8bc8d1ac&\"\nimport script from \"./DateSeparator.ts?vue&type=script&lang=ts&\"\nexport * from \"./DateSeparator.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row no-gutters justify-content-start px-1 mb-3\",style:({ width: _vm.display.width + '%' })},[_c('div',{staticClass:\"col-xs-auto mr-1 time\"},_vm._l((_vm.hours),function(hour,idx){return _c('div',{key:hour,style:((\"margin-top: \" + (_vm.heights.sumHeights[idx] - 5) + \"px\"))},[_vm._v(\" \"+_vm._s(hour)+\" \")])}),0),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"grid-container\",style:({\n                'grid-template-columns': ((100 / this.numCol) + \"% \").repeat(this.numCol),\n                'grid-template-rows': ((_vm.heights.heights.join('px ')) + \"px\")\n            })},[_vm._l((_vm.days),function(day){return _c('div',{key:day,staticClass:\"day-cell\"},[_vm._v(\" \"+_vm._s(day)+\" \")])}),_vm._l((_vm.numRow * _vm.numCol),function(idx){return _c('div',{key:idx,staticClass:\"placeholder\"})})],2),(_vm.status.isMobile)?[_vm._l((_vm.days),function(day,i){return _vm._l((_vm.scheduleDays[i]),function(block,j){return _c('div',{key:day + j,staticClass:\"course-block-mobile\",class:block.strong ? 'block-strong' : '',style:(_vm.blockStyles[i][j]),on:{\"click\":function($event){return _vm.showModal(block.section)}}},[_vm._v(\" \"+_vm._s(_vm.blockContent[i][j].title)+\" \")])})})]:[_vm._l((_vm.days),function(day,i){return _vm._l((_vm.scheduleDays[i]),function(block,j){return _c('div',{key:day + j,staticClass:\"course-block\",class:block.strong ? 'block-strong' : '',style:(_vm.blockStyles[i][j]),on:{\"click\":function($event){return _vm.showModal(block.section)}}},[_c('div',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(_vm._s(_vm.blockContent[i][j].title))]),_c('div',[_vm._v(_vm._s(_vm.blockContent[i][j].time))]),_c('div',[_vm._v(_vm._s(_vm.blockContent[i][j].room))]),_c('div',[_vm._v(_vm._s(_vm.blockContent[i][j].description))])])})})]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { ScheduleDays } from '@/models/Schedule';\nimport { DAYS } from '@/models/constants';\nimport { Component, Prop } from 'vue-property-decorator';\nimport Store from '../store';\nimport { hr24toInt, to12hr } from '../utils';\nimport Section from '@/models/Section';\nimport Course from '@/models/Course';\nimport Event from '@/models/Event';\n\n/**\n * the component for rendering a schedule (with courses and events) on a grid\n * @author Kaiying Shan\n * @noInheritDoc\n */\n@Component\nexport default class GridSchedule extends Store {\n    @Prop(Array) readonly scheduleDays!: ScheduleDays;\n\n    df = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n    get days() {\n        if (this.status.isMobile) {\n            return this.display.showWeekend ? DAYS : DAYS.slice(0, 5);\n        } else {\n            return this.display.showWeekend ? this.df : this.df.slice(0, 5);\n        }\n    }\n\n    /**\n     * return the block in which the earliest class starts, the 8:00 block is zero\n     * return 0 if no class\n     */\n    get earliestBlock() {\n        let earliest = 48;\n        for (const blocks of this.scheduleDays) {\n            for (const course of blocks) {\n                const temp = Math.floor(course.startMin / 30);\n                if (temp < earliest) {\n                    earliest = temp;\n                }\n            }\n        }\n        return earliest;\n    }\n    /**\n     * return the block in which the latest class ends, the 8:00 block is zero\n     */\n    get latestBlock() {\n        let latest = 0;\n        for (const blocks of this.scheduleDays) {\n            for (const course of blocks) {\n                const temp = Math.floor(course.endMin / 30);\n                if (temp > latest) {\n                    latest = temp;\n                }\n            }\n        }\n        return latest;\n    }\n    /**\n     * return the block in which the schedule starts with\n     */\n    get absoluteEarliest() {\n        return Math.min(this.earliestBlock, Math.floor(hr24toInt(this.display.earliest) / 30));\n    }\n    /**\n     * return the block in which the schedule ends with\n     */\n    get absoluteLatest() {\n        return Math.max(this.latestBlock, Math.floor(hr24toInt(this.display.latest) / 30));\n    }\n\n    /**\n     * computes the number of rows we need\n     */\n    get numRow() {\n        return this.absoluteLatest + 1 - this.absoluteEarliest;\n    }\n\n    get numCol() {\n        return this.display.showWeekend ? 7 : 5;\n    }\n\n    get hours() {\n        const time = [];\n        const stdTime = [];\n        const reducedTime = [];\n        for (let i = this.absoluteEarliest; i <= this.absoluteLatest; i++) {\n            const curTime = `${Math.floor(i / 2)}:${i % 2 ? '30' : '00'}`;\n            time.push(curTime);\n            stdTime.push(to12hr(curTime));\n            reducedTime.push(i % 2 !== 0 ? '' : (i / 2).toString());\n        }\n\n        return window.screen.width > 450 ? (this.display.standard ? stdTime : time) : reducedTime;\n    }\n    get heights() {\n        const heights = new Uint16Array(this.numRow + 1).fill(this.display.partialHeight);\n        heights[0] = 44; // height of the title cell\n        const earliest = this.absoluteEarliest;\n        for (const blocks of this.scheduleDays) {\n            for (const course of blocks) {\n                const startTime = Math.floor(course.startMin / 30) + 1;\n                const endTime = Math.floor(course.endMin / 30) + 1;\n                for (let i = startTime; i <= endTime; i++) {\n                    heights[i - earliest] = this.display.fullHeight;\n                }\n            }\n        }\n\n        const sumHeights = new Uint16Array(heights);\n        // to prefix array\n        for (let i = 1; i < sumHeights.length; i++) {\n            sumHeights[i] += sumHeights[i - 1];\n        }\n        return {\n            heights,\n            sumHeights\n        };\n    }\n    get blockStyles() {\n        // console.time('compute style');\n        const arr: string[][] = [[], [], [], [], [], [], []];\n        // cache these properties will speed up their access\n        const sumHeights = this.heights.sumHeights;\n        const absoluteEarliest = this.absoluteEarliest;\n        const fullHeight = this.display.fullHeight;\n        for (let i = 0; i < this.numCol; i++) {\n            for (const block of this.scheduleDays[i]) {\n                const { startMin, endMin, left, width, background } = block;\n                const perc = 100 / this.numCol;\n\n                const startPx =\n                    sumHeights[Math.floor(startMin / 30) - absoluteEarliest] +\n                    ((startMin % 30) / 30) * fullHeight;\n                const endPx =\n                    sumHeights[Math.floor(endMin / 30) - absoluteEarliest] +\n                    ((endMin % 30) / 30) * fullHeight;\n                arr[i].push(\n                    `left: ${(i + left) * perc}%; width: ${width *\n                        perc}%; top: ${startPx}px; height: ${endPx -\n                        startPx}px; background-color: ${background}`\n                );\n            }\n        }\n        // console.timeEnd('compute style');\n        return arr;\n    }\n    get blockContent() {\n        const arr: { title: string; time: string; room: string; description: string }[][] = [\n            [],\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ];\n        const { showInstructor, showRoom, showTime, showSuffix } = this.display;\n        for (let i = 0; i < this.numCol; i++) {\n            for (const block of this.scheduleDays[i]) {\n                const section = block.section;\n                if (section instanceof Section) {\n                    arr[i].push({\n                        title: showSuffix ? section.displayName : section.displayNameNoType,\n                        time: showTime ? block.meeting!.days : '',\n                        room: showRoom ? block.meeting!.room : '',\n                        description: showInstructor ? section.instructors : ''\n                    });\n                } else if (section instanceof Course) {\n                    const firstSec = section.sections[0];\n\n                    const more = section.sections.length - 1;\n                    arr[i].push({\n                        title: `${\n                            showSuffix ? firstSec.displayName : firstSec.displayNameNoType\n                        } and ${more} more`,\n                        time: showTime ? block.meeting!.days : '',\n                        room: showRoom ? `${block.meeting!.room} and ${more} more` : '',\n                        description: showInstructor\n                            ? `${firstSec.instructors} and ${section.sections.length} more`\n                            : ''\n                    });\n                } else {\n                    arr[i].push({\n                        title: section.title || '',\n                        time: showTime ? section.key : '',\n                        room: showRoom ? section.room || '' : '',\n                        description: ''\n                    });\n                }\n            }\n        }\n        return arr;\n    }\n    showModal(section: Section | Course | Event) {\n        if (section instanceof Section) {\n            this.modal.showSectionModal(section);\n        } else if (section instanceof Course) {\n            this.modal.showCourseModal(section);\n        } else if (section instanceof Event) {\n            if (!this.status.sideBar.showEvent) this.status.switchSideBar('showEvent');\n            this.status.eventToEdit = section;\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./GridSchedule.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./GridSchedule.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GridSchedule.vue?vue&type=template&id=237a807f&scoped=true&\"\nimport script from \"./GridSchedule.ts?vue&type=script&lang=ts&\"\nexport * from \"./GridSchedule.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./GridSchedule.vue?vue&type=style&index=0&id=237a807f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"237a807f\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * @module src/components/tabs\r\n */\r\n\r\n/**\r\n *\r\n */\r\nimport { computeBlockPositions } from '@/algorithm/Renderer';\r\nimport { MeetingDate } from '@/algorithm/ScheduleGenerator';\r\nimport GeneratedSchedule from '@/models/GeneratedSchedule';\r\nimport { ScheduleDays } from '@/models/Schedule';\r\nimport ScheduleBlock from '@/models/ScheduleBlock';\r\nimport Store from '@/store';\r\nimport randomColor from 'randomcolor';\r\nimport { Component } from 'vue-property-decorator';\r\nimport DateSeparator from '../DateSeparator.vue';\r\nimport GridSchedule from '../GridSchedule.vue';\r\nimport MainContent from '../MainContent.vue';\r\n\r\n/**\r\n * component for comparing multiple schedules\r\n * @author Kaiying Shan, Hanzhi Zhou\r\n * @noInheritDoc\r\n */\r\n@Component({\r\n    components: {\r\n        GridSchedule,\r\n        MainContent,\r\n        DateSeparator\r\n    }\r\n})\r\nexport default class CompareView extends Store {\r\n    compareSchedule = new GeneratedSchedule();\r\n    highlightIdx = -1;\r\n    similarityRefShown = false;\r\n\r\n    created() {\r\n        this.renderSchedule(true);\r\n    }\r\n\r\n    get refSchedule() {\r\n        return this.getDesc(this.filter.refSchedule);\r\n    }\r\n\r\n    async renderSchedule(reconstructDateSeparator: boolean) {\r\n        if (reconstructDateSeparator) {\r\n            const dates: MeetingDate[] = [];\r\n            for (const { schedule } of this.compare) {\r\n                for (const day of schedule.days) {\r\n                    for (const { dateArray } of day) {\r\n                        if (dateArray)\r\n                            dates.push(dateArray);\r\n                    }\r\n                }\r\n            }\r\n            this.compareSchedule.constructDateSeparatorFromDateList(dates);\r\n        }\r\n        const days: ScheduleDays = [[], [], [], [], [], [], []];\r\n        for (let i = 0; i < this.compare.length; i++) {\r\n            const { schedule, color } = this.compare[i];\r\n            const highlighted = this.highlightIdx === i;\r\n            for (let j = 0; j < 7; j++) {\r\n                for (const sb of schedule.days[j]) {\r\n                    if (this.compareSchedule.checkDate(sb.dateArray)) {\r\n                        const nsb = new ScheduleBlock(\r\n                            color,\r\n                            sb.startMin,\r\n                            sb.endMin,\r\n                            sb.section,\r\n                            sb.meeting,\r\n                            sb.dateArray\r\n                        );\r\n                        nsb.strong = highlighted;\r\n                        days[j].push(nsb);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        await computeBlockPositions(days);\r\n        this.compareSchedule.days = days;\r\n    }\r\n    randColor(idx: number) {\r\n        this.compare[idx].color = randomColor({ luminosity: 'dark' });\r\n        this.renderSchedule(false);\r\n    }\r\n    deleteCompare(idx: number) {\r\n        this.compare.splice(idx, 1);\r\n        this.renderSchedule(true);\r\n    }\r\n    /**\r\n     * get the description of the schedule at index `idx` of the `compare` array\r\n     * @param idx\r\n     */\r\n    getTitle(idx: number) {\r\n        const { schedule, pIdx, index } = this.compare[idx];\r\n        return (\r\n            `Generated schedule ${index + 1},\\nCorresponds to proposed schedule ${pIdx + 1}\\n` +\r\n            `Total credits: ${schedule.totalCredit}\\n${this.getDesc(schedule.All)}`\r\n        );\r\n    }\r\n    /**\r\n     * get description for a schedule\r\n     * @param All the `All variable` of a generated schedule\r\n     * @see [[Schedule.All]]\r\n     */\r\n    getDesc(All: GeneratedSchedule['All']) {\r\n        const catalog = window.catalog;\r\n        return Object.entries(All)\r\n            .map(x => {\r\n                const course = catalog.getCourse(\r\n                    x[0],\r\n                    x[1].reduce((acc, x) => {\r\n                        for (const v of x) acc.add(v);\r\n                        return acc;\r\n                    }, new Set<number>())\r\n                );\r\n                return `${course.department} ${course.number}-${course.sections\r\n                    .map(y => y.section)\r\n                    .reduce((a, z) => a + '/' + z)} ${course.title}`;\r\n            })\r\n            .reduce((a, x) => a + '\\n' + x);\r\n    }\r\n    highlight(idx: number) {\r\n        if (idx === this.highlightIdx) {\r\n            this.highlightIdx = -1;\r\n        } else {\r\n            this.highlightIdx = idx;\r\n        }\r\n        this.renderSchedule(false);\r\n    }\r\n    similarity(idx: number) {\r\n        const evaluator = window.scheduleEvaluator;\r\n        // remove similarity cache\r\n        const opt = evaluator.options.sortBy.find(x => x.name === 'similarity')!;\r\n\r\n        // we click the reference schedule again: clear the reference schedule\r\n        if (this.compare[idx].schedule.allEquals(evaluator.refSchedule)) {\r\n            this.filter.refSchedule = evaluator.refSchedule = {};\r\n            opt.enabled = false;\r\n        } else {\r\n            this.filter.refSchedule = evaluator.refSchedule = this.compare[idx].schedule.All;\r\n            opt.enabled = true;\r\n        }\r\n        if (!evaluator.empty() && this.validateSortOptions()) {\r\n            evaluator.sort();\r\n            if (!this.schedule.generated) {\r\n                this.schedule.switchSchedule(true);\r\n            } else {\r\n                // re-assign the current schedule\r\n                this.schedule.currentSchedule = evaluator.getSchedule(\r\n                    this.schedule.currentScheduleIndex\r\n                );\r\n            }\r\n        }\r\n        this.$forceUpdate();\r\n    }\r\n    isSimilarSchedule(idx: number) {\r\n        return this.compare[idx].schedule.allEquals(window.scheduleEvaluator.refSchedule);\r\n    }\r\n    renderSimilarityRefSchedule() {\r\n        this.compareSchedule = new GeneratedSchedule();\r\n        if (!this.similarityRefShown) {\r\n            this.compareSchedule.All = this.filter.refSchedule;\r\n            this.compareSchedule.computeSchedule();\r\n        }\r\n        this.similarityRefShown = !this.similarityRefShown;\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CompareView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CompareView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CompareView.vue?vue&type=template&id=391ca313&\"\nimport script from \"./CompareView.ts?vue&type=script&lang=ts&\"\nexport * from \"./CompareView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Schedule Settings\")]),_c('div',{staticClass:\"form-group row no-gutters mt-2 mb-0 mx-2\",attrs:{\"title\":\"Schedule grid earlier than this time won't be displayed if you don't have any class before that time\"}},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"schedule-start\"}},[_vm._v(\" Schedule Start \")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.earliest),expression:\"display.earliest\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-start\",\"type\":\"time\",\"min\":\"0:00\",\"max\":\"12:00\"},domProps:{\"value\":(_vm.display.earliest)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"earliest\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Schedule grid later than this time won't be displayed if you don't have any class before that time\"}},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"schedule-end\"}},[_vm._v(\"Schedule End\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.latest),expression:\"display.latest\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-end\",\"type\":\"time\",\"min\":\"12:00\",\"max\":\"23:59\"},domProps:{\"value\":(_vm.display.latest)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"latest\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Height of the cells containing classes on the schedule grid\"}},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"class-height\"}},[_vm._v(\"Class Height\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.fullHeight),expression:\"display.fullHeight\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"class-height\",\"min\":\"1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.fullHeight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"fullHeight\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"height of an empty cell. You can specify a smaller value to compress empty space\"}},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"grid-height\"}},[_vm._v(\"Grid Height\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.partialHeight),expression:\"display.partialHeight\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"grid-height\",\"min\":\"1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.partialHeight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"partialHeight\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Width of the schedule as a percentage relative to the parent container\"}},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"schedule-width\"}},[_vm._v(\"Width\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.width),expression:\"display.width\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-width\",\"min\":\"10\",\"step\":\"5\",\"max\":\"1000\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.width)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"width\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(0),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showWeekend),expression:\"display.showWeekend\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayWeekend\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showWeekend)?_vm._i(_vm.display.showWeekend,null)>-1:(_vm.display.showWeekend)},on:{\"change\":function($event){var $$a=_vm.display.showWeekend,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showWeekend\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showWeekend\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showWeekend\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayWeekend\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(1),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showTime),expression:\"display.showTime\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayTime\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showTime)?_vm._i(_vm.display.showTime,null)>-1:(_vm.display.showTime)},on:{\"change\":function($event){var $$a=_vm.display.showTime,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showTime\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showTime\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showTime\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayTime\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(2),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showRoom),expression:\"display.showRoom\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayRoom\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showRoom)?_vm._i(_vm.display.showRoom,null)>-1:(_vm.display.showRoom)},on:{\"change\":function($event){var $$a=_vm.display.showRoom,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showRoom\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showRoom\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showRoom\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayRoom\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(3),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showInstructor),expression:\"display.showInstructor\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayInstructor\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showInstructor)?_vm._i(_vm.display.showInstructor,null)>-1:(_vm.display.showInstructor)},on:{\"change\":function($event){var $$a=_vm.display.showInstructor,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showInstructor\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showInstructor\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showInstructor\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayInstructor\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(4),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showSuffix),expression:\"display.showSuffix\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"showSuffix\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showSuffix)?_vm._i(_vm.display.showSuffix,null)>-1:(_vm.display.showSuffix)},on:{\"change\":function($event){var $$a=_vm.display.showSuffix,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showSuffix\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showSuffix\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showSuffix\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"showSuffix\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-2 mx-2\"},[_vm._m(5),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.standard),expression:\"display.standard\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"hr12\",\"type\":\"radio\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.display.standard,true)},on:{\"change\":function($event){return _vm.$set(_vm.display, \"standard\", true)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"hr12\"}},[_vm._v(\"12\")])]),_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.standard),expression:\"display.standard\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"hr24\",\"type\":\"radio\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.display.standard,false)},on:{\"change\":function($event){return _vm.$set(_vm.display, \"standard\", false)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"hr24\"}},[_vm._v(\"24\")])])])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Course Search\")]),_c('div',{staticClass:\"mx-2 my-2\"},[_c('label',{attrs:{\"for\":\"num-search-results\"}},[_vm._v(\" Max number of search results \")]),_c('div',{staticClass:\"mb-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.numSearchResults),expression:\"display.numSearchResults\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"num-search-results\",\"type\":\"number\",\"min\":\"1\",\"step\":\"1\",\"max\":\"20\"},domProps:{\"value\":(_vm.display.numSearchResults)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"numSearchResults\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.expandOnEntering),expression:\"display.expandOnEntering\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"exp-on-entering\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.expandOnEntering)?_vm._i(_vm.display.expandOnEntering,null)>-1:(_vm.display.expandOnEntering)},on:{\"change\":function($event){var $$a=_vm.display.expandOnEntering,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"expandOnEntering\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"expandOnEntering\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"expandOnEntering\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"exp-on-entering\"}},[_vm._v(\" Expand all when searching \")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showClasslistTitle),expression:\"display.showClasslistTitle\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayClasslistTitle\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showClasslistTitle)?_vm._i(_vm.display.showClasslistTitle,null)>-1:(_vm.display.showClasslistTitle)},on:{\"change\":function($event){var $$a=_vm.display.showClasslistTitle,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showClasslistTitle\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showClasslistTitle\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showClasslistTitle\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayClasslistTitle\"}},[_vm._v(\" Show description on class list \")])])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Advanced Features\")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[_c('li',{staticClass:\"list-group-item pb-1 pt-0\"},[_c('div',{staticClass:\"form-group my-1\",attrs:{\"title\":\"If this number is too large, your browser may crash\"}},[_c('label',{attrs:{\"for\":\"num-schedule\"}},[_vm._v(\"Max number of schedules\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.maxNumSchedules),expression:\"display.maxNumSchedules\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"num-schedule\",\"type\":\"number\",\"min\":\"1000\",\"step\":\"1\",\"max\":\"5000000\"},domProps:{\"value\":(_vm.display.maxNumSchedules)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"maxNumSchedules\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"custom-control custom-checkbox\",attrs:{\"title\":\"Combine sections ocurring at the same time\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.combineSections),expression:\"display.combineSections\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"comb-sec\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.combineSections)?_vm._i(_vm.display.combineSections,null)>-1:(_vm.display.combineSections)},on:{\"change\":function($event){var $$a=_vm.display.combineSections,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"combineSections\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"combineSections\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"combineSections\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"comb-sec\"}},[_vm._v(\"Combine Sections\")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.enableLog),expression:\"display.enableLog\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"enable-log\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.enableLog)?_vm._i(_vm.display.enableLog,null)>-1:(_vm.display.enableLog)},on:{\"change\":function($event){var $$a=_vm.display.enableLog,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"enableLog\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"enableLog\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"enableLog\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"enable-log\"}},[_vm._v(\" Enable Log History \")])])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-info mb-1 w-100\",on:{\"click\":function($event){return _vm.loadProfile(true)}}},[_vm._v(\" Update Semester Data \")]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\" Last update: \"+_vm._s(_vm.semester.lastUpdate)+\" \")])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-danger w-100\",on:{\"click\":function($event){return _vm.clearCache()}}},[_vm._v(\" Reset All and Clean \")])])]),(_vm.showRenderingOptions)?[_c('div',{staticClass:\"btn bg-info nav-btn mb-2\"},[_vm._v(\"Advanced Rendering Features\")]),_c('div',{staticClass:\"form-group row no-gutters my-1 mx-3\"},[_vm._m(6),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.MILP),expression:\"options.MILP\",modifiers:{\"number\":true}}],staticClass:\"custom-control-input\",attrs:{\"id\":\"MILP\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.options.MILP)?_vm._i(_vm.options.MILP,null)>-1:(_vm.options.MILP)},on:{\"change\":function($event){var $$a=_vm.options.MILP,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm._n(null),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.options, \"MILP\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.options, \"MILP\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.options, \"MILP\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"MILP\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters my-0 mx-3\"},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"ISMethod\"}},[_vm._v(\"IS Method\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.ISMethod),expression:\"options.ISMethod\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"ISMethod\",\"min\":\"1\",\"step\":\"1\",\"max\":\"2\",\"type\":\"number\"},domProps:{\"value\":(_vm.options.ISMethod)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"ISMethod\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters my-0 mx-3\"},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"istolerance\"}},[_vm._v(\" IS Tolerance \")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.isTolerance),expression:\"options.isTolerance\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"istolerance\",\"min\":\"-1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.options.isTolerance)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"isTolerance\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters my-1 mx-3\"},[_vm._m(7),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.applyDFS),expression:\"options.applyDFS\",modifiers:{\"number\":true}}],staticClass:\"custom-control-input\",attrs:{\"id\":\"applyDFS\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.options.applyDFS)?_vm._i(_vm.options.applyDFS,null)>-1:(_vm.options.applyDFS)},on:{\"change\":function($event){var $$a=_vm.options.applyDFS,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm._n(null),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.options, \"applyDFS\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.options, \"applyDFS\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.options, \"applyDFS\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"applyDFS\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters my-0 mx-3\"},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"tolerance\"}},[_vm._v(\"DFS Tolerance\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.tolerance),expression:\"options.tolerance\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"tolerance\",\"min\":\"-1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.options.tolerance)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"tolerance\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters my-0 mx-3\"},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"LPIters\"}},[_vm._v(\"LP Max Iters\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.LPIters),expression:\"options.LPIters\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"LPIters\",\"min\":\"0\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.options.LPIters)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"LPIters\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters my-0 mx-3\"},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"LPModel\"}},[_vm._v(\"LP Model\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.LPModel),expression:\"options.LPModel\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"LPModel\",\"min\":\"1\",\"step\":\"1\",\"max\":\"3\",\"type\":\"number\"},domProps:{\"value\":(_vm.options.LPModel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"LPModel\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters my-0 mx-3\"},[_c('label',{staticClass:\"col-lg-6 pt-1 pb-0 col-form-label\",attrs:{\"for\":\"tFactor\"}},[_vm._v(\"t Factor\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.tFactor),expression:\"options.tFactor\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"tFactor\",\"min\":\"0\",\"step\":\"0.1\",\"max\":\"10\",\"type\":\"number\"},domProps:{\"value\":(_vm.options.tFactor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"tFactor\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters my-1 mx-3\"},[_vm._m(8),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.showFixed),expression:\"options.showFixed\",modifiers:{\"number\":true}}],staticClass:\"custom-control-input\",attrs:{\"id\":\"showFixed\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.options.showFixed)?_vm._i(_vm.options.showFixed,null)>-1:(_vm.options.showFixed)},on:{\"change\":function($event){var $$a=_vm.options.showFixed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm._n(null),$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.options, \"showFixed\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.options, \"showFixed\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.options, \"showFixed\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"showFixed\"}})])])])]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayWeekend\"}},[_vm._v(\"Show Weekends\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayTime\"}},[_vm._v(\"Show Time\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayRoom\"}},[_vm._v(\"Show Room\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayInstructor\"}},[_vm._v(\"Show Instructor\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"showSuffix\",\"title\":\"Show class type, e.g. lecture, lab, studio, etc.\"}},[_vm._v(\"Show Suffix \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayInstructor\"}},[_vm._v(\"Time Options\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"MILP\"}},[_vm._v(\"MILP\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"applyDFS\"}},[_vm._v(\"Apply DFS\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"showFixed\"}},[_vm._v(\"Show Fixed\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport { options } from '@/algorithm/Renderer';\nimport CatalogDB from '@/data/CatalogDB';\nimport Store from '@/store';\nimport { Component, Watch } from 'vue-property-decorator';\n\n/**\n * component for editing settings. This component should really be named as `SettingsView`,\n * but it is called `DisplayView` for historical reasons.\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class DisplayView extends Store {\n    options = options;\n    showRenderingOptions = process.env.NODE_ENV === 'development';\n    @Watch('options', { deep: true }) private w1() {\n        this.schedule.recomputeAll(false, 100);\n    }\n    /**\n     * clear the localStorage and reload the page\n     */\n    async clearCache() {\n        if (confirm('Your selected classes and schedules will be cleaned. Are you sure?')) {\n            window.localStorage.clear();\n            if (this.semester.current) new CatalogDB(this.semester.current).delete();\n            window.location.reload(true);\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./DisplayView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./DisplayView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DisplayView.vue?vue&type=template&id=a0449534&\"\nimport script from \"./DisplayView.ts?vue&type=script&lang=ts&\"\nexport * from \"./DisplayView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn mt-0\",attrs:{\"id\":\"semester\"}},[(_vm.status.eventToEdit)?_c('div',[_vm._v(\"Edit Event\")]):_c('div',[_vm._v(\"Add Event\")])]),_c('form',{staticClass:\"mt-2 mx-2\"},[_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-title\"}},[_vm._v(\"Title\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTitle),expression:\"eventTitle\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"event-title\",\"type\":\"text\"},domProps:{\"value\":(_vm.eventTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTitle=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-from\"}},[_vm._v(\"Start\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTimeFrom),expression:\"eventTimeFrom\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"-webkit-appearance\":\"button\"},attrs:{\"id\":\"event-from\",\"type\":\"time\"},domProps:{\"value\":(_vm.eventTimeFrom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTimeFrom=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-to\"}},[_vm._v(\"End\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTimeTo),expression:\"eventTimeTo\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"-webkit-appearance\":\"button\"},attrs:{\"id\":\"event-to\",\"type\":\"time\"},domProps:{\"value\":(_vm.eventTimeTo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTimeTo=$event.target.value}}})])]),_c('div',{staticClass:\"btn-group btn-days mb-2\",attrs:{\"role\":\"group\"}},_vm._l((_vm.days),function(day,idx){return _c('button',{key:idx,staticClass:\"btn btn-outline-secondary\",class:{ active: _vm.eventWeek[idx] },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateDay(+idx)}}},[_vm._v(\" \"+_vm._s(day)+\" \")])}),0),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-loc\"}},[_vm._v(\"Location\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventRoom),expression:\"eventRoom\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"event-loc\",\"type\":\"text\"},domProps:{\"value\":(_vm.eventRoom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventRoom=$event.target.value}}})])])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventDescription),expression:\"eventDescription\"}],staticClass:\"my-2 mx-auto form-control\",staticStyle:{\"width\":\"98%\"},attrs:{\"placeholder\":\"Description\"},domProps:{\"value\":(_vm.eventDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventDescription=$event.target.value}}}),(_vm.status.eventToEdit)?_c('div',{staticClass:\"btn-group\",staticStyle:{\"width\":\"100%\"},attrs:{\"role\":\"group\"}},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.endEditEvent()}}},[_vm._v(\" Update \")]),_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancelEdit()}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteEvent()}}},[_vm._v(\" Delete \")])]):_c('button',{staticClass:\"btn btn-outline-secondary ml-1\",staticStyle:{\"width\":\"98%\"},on:{\"click\":function($event){return _vm.addEvent()}}},[_vm._v(\" Add \")]),_vm._m(0),_c('table',{staticClass:\"table table-hover w-100\",staticStyle:{\"font-size\":\"14px\"}},[_c('thead',[_c('th',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\" Number of events: \"+_vm._s(_vm.schedule.currentSchedule.events.length)+\" \")]),_c('th'),_c('th')]),_c('tbody',_vm._l((_vm.schedule.currentSchedule.events),function(ev){return _c('tr',{key:ev.key,class:{ 'table-primary': ev === _vm.status.eventToEdit },on:{\"mouseenter\":function($event){return _vm.schedule.currentSchedule.hover(ev.key)},\"mouseleave\":function($event){return _vm.schedule.currentSchedule.unhover(ev.key)}}},[_c('td',{on:{\"click\":function($event){_vm.status.eventToEdit = ev}}},[_vm._v(_vm._s(ev.title))]),_c('td',{staticClass:\"pl-0 pr-2\",on:{\"click\":function($event){return _vm.copyEvent(ev)}}},[_c('i',{staticClass:\"far fa-copy click-icon\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"title\":\"copy the current event to a new event\"}})]),_c('td',{staticClass:\"pl-0 pr-2\",on:{\"click\":function($event){_vm.status.eventToEdit = ev}}},[_c('i',{staticClass:\"click-icon\",class:_vm.status.eventToEdit === ev ? 'far fa-check-square' : 'far fa-square',staticStyle:{\"font-size\":\"20px\"}})])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn bg-info nav-btn mt-3\",attrs:{\"id\":\"semester\"}},[_c('div',[_vm._v(\"Event List\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport { DAYS } from '@/models/constants';\nimport Store from '@/store';\nimport { hr24toInt, to12hr, to24hr } from '@/utils';\nimport { Component, Watch } from 'vue-property-decorator';\n\n/**\n * the component for adding and editing events\n * @author Kaiying Shan, Hanzhi Zhou, Zichao Hu\n * @noInheritDoc\n */\n@Component\nexport default class EventView extends Store {\n    // event related fields\n    eventWeek = [false, false, false, false, false, false, false];\n    eventTimeFrom = '';\n    eventTimeTo = '';\n    eventTitle? = '';\n    eventRoom? = '';\n    eventDescription? = '';\n\n    toBeModifiedDays = '';\n\n    get days() {\n        return DAYS;\n    }\n\n    @Watch('status.eventToEdit', { immediate: true })\n    eventWatch() {\n        const { eventToEdit } = this.status;\n        if (eventToEdit) this.editEvent(eventToEdit);\n    }\n    // need to remove eventToEdit before switching other tabs\n    beforeDestroy() {\n        this.status.eventToEdit = null;\n    }\n    updateDay(idx: number) {\n        this.$set(this.eventWeek, idx, !this.eventWeek[idx]);\n    }\n    /**\n     * validate the days, start time and end time of this event, and then parse them\n     * to desired format. emit notification on error.\n     */\n    getEventDays() {\n        let days = this.eventWeek.reduce((acc, x, i) => acc + (x ? this.days[i] : ''), '');\n\n        if (!days) {\n            this.noti.error('Event: Please select at least one day');\n            return;\n        }\n        if (!this.eventTimeFrom || !this.eventTimeTo) {\n            this.noti.error('Event: Please check your start/end time');\n            return;\n        }\n        const start = hr24toInt(this.eventTimeFrom),\n            end = hr24toInt(this.eventTimeTo);\n        if (start >= end) {\n            this.noti.error('Event: Start time must be earlier than end time');\n            return;\n        }\n        days += ` ${to12hr(this.eventTimeFrom)} - ${to12hr(this.eventTimeTo)}`;\n        return days;\n    }\n    copyEvent(ev: Event) {\n        this.status.eventToEdit = null;\n        this.editEvent(ev);\n        this.eventTitle += '-copy';\n    }\n    addEvent() {\n        // fold sidebar on mobile\n        this.status.foldView();\n        const days = this.getEventDays();\n        if (!days) return;\n        try {\n            this.schedule.proposedSchedule.addEvent(\n                days,\n                true,\n                this.eventTitle,\n                this.eventRoom,\n                this.eventDescription ? this.eventDescription.split('\\n').join('<br />') : ''\n            );\n        } catch (err) {\n            this.noti.error(err.message);\n        }\n        // note: we don't need to regenerate schedules if the days property is not changed\n        this.cleanup(this.toBeModifiedDays !== days && this.schedule.generated);\n    }\n    /**\n     * bind the properties of this event to input fields\n     * @param event\n     */\n    editEvent(event: Event) {\n        this.eventTitle = event.title;\n        this.eventRoom = event.room;\n        this.eventDescription = event.description\n            ? event.description.split('<br />').join('\\n')\n            : '';\n        const [week, start, , end] = event.days.split(' ');\n        for (let i = 0; i < this.days.length; i++) {\n            if (week.indexOf(this.days[i]) !== -1) {\n                this.$set(this.eventWeek, i, true);\n            } else {\n                this.$set(this.eventWeek, i, false);\n            }\n        }\n        this.eventTimeFrom = to24hr(start);\n        this.eventTimeTo = to24hr(end);\n        this.toBeModifiedDays = event.days;\n    }\n    /**\n     * apply the edit\n     */\n    endEditEvent() {\n        this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays);\n        this.addEvent();\n    }\n    deleteEvent() {\n        this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays);\n        this.cleanup(this.schedule.generated);\n    }\n    cancelEdit() {\n        this.eventRoom = this.eventTimeFrom = this.eventTimeTo = this.eventDescription = this.eventTitle =\n            '';\n        this.eventWeek.forEach((x, i, arr) => this.$set(arr, i, false));\n        this.status.eventToEdit = null;\n    }\n    /**\n     * Clear all properties of this component and force re-computation of the current schedule,\n     * called after deleteEvent, endEditEvent and addEvent.\n     * @param regenerate re-run algorithm if true\n     */\n    cleanup(regenerate = false) {\n        // fold sidebar on mobile\n        this.status.foldView();\n\n        this.cancelEdit();\n        if (regenerate) this.generateSchedules();\n        else this.schedule.proposedSchedule.computeSchedule();\n        this.saveStatus();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./EventView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./EventView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EventView.vue?vue&type=template&id=de1d7ac4&\"\nimport script from \"./EventView.ts?vue&type=script&lang=ts&\"\nexport * from \"./EventView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Import Profile\")]),_c('div',{staticClass:\"m-3\"},[_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"customFile\",\"type\":\"file\",\"accept\":\"text/json\"},on:{\"change\":function($event){return _vm.onUploadJson($event)}}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"customFile\"}},[_vm._v(\"Import from JSON..\")])]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\" Import a .json file exported by our website \")])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Export Profile\")]),_c('div',{staticClass:\"mx-3 my-2 text-center\"},[_c('div',{staticClass:\"btn-group w-100 mt-2\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-outline-dark px-0\",on:{\"click\":function($event){return _vm.saveToJson()}}},[_vm._v(\"Export JSON\")]),_c('button',{staticClass:\"btn btn-outline-dark px-0\",on:{\"click\":function($event){return _vm.saveToIcal()}}},[_vm._v(\" Export iCal \"),(!_vm.schedule.generated)?_c('i',{staticClass:\"fas fa-exclamation-triangle text-warning\",attrs:{\"title\":\"You've not generated schedules yet! Exporting to iCalendar now will probably result in an incomplete calendar.\"}}):_vm._e()])]),_vm._m(0)]),_c('hr'),_c('div',{staticClass:\"mx-3 my-2 text-center\"},[_c('div',{staticClass:\"btn-group w-100\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.exportToURL()}}},[_vm._v(\"Export URL\")]),_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.print()}}},[_vm._v(\"Print\")])]),_vm._m(1)]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Profiles \"),(_vm.profile.tokenType)?[_c('i',{staticClass:\"fas fa-cloud\",attrs:{\"title\":(\"You profiles are synchronizd with \" + _vm.backendName)}}),_c('span',{staticClass:\"badge badge-secondary ml-1\",attrs:{\"title\":\"This function is at the beta-testing stage. If you find any issues with it, please report it through GitHub issues or google form\"}},[_vm._v(\" Beta \")])]:_vm._e()],2),_c('ul',{staticClass:\"list-group list-group-flush mx-auto\",staticStyle:{\"font-size\":\"14px\",\"width\":\"99%\"}},_vm._l((_vm.profile.profiles),function(prof,idx){return _c('li',{key:prof.name,staticClass:\"list-group-item list-group-item-action pl-3 pr-2\",class:{ sel: prof.name === _vm.profile.current }},[_c('div',{staticClass:\"form-row no-gutters justify-content-between\",staticStyle:{\"flex-wrap\":\"nowrap\"},on:{\"click\":function($event){return _vm.selectProfile(prof.name)}}},[_c('div',{staticClass:\"col-xs-auto mr-auto\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":'1' + idx}},[(_vm.newName[idx] === null)?_c('span',{on:{\"dblclick\":function($event){return _vm.$set(_vm.newName, idx, prof.name)}}},[_c('strong',[_vm._v(_vm._s(prof.name))]),_vm._v(\" \"),_c('br'),_vm._l((_vm.getMeta(prof.name)),function(field){return _c('small',{key:field,staticClass:\"text-muted\"},[_vm._v(_vm._s(field)+\" \"),_c('br')])})],2):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newName[idx]),expression:\"newName[idx]\"}],staticClass:\"form-control form-control-inline form-control-sm\",staticStyle:{\"width\":\"95%\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newName[idx])},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.renameProfile(prof.name, idx)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$set(_vm.newName, idx, null)}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newName, idx, $event.target.value)}}})]),_c('div',{staticClass:\"col-xs-auto text-right\",staticStyle:{\"font-size\":\"16px\"}},[(_vm.profile.tokenType)?_c('i',{staticClass:\"fas fa-cloud click-icon mr-1\",class:prof.remote ? 'text-success' : 'text-warning',attrs:{\"title\":_vm.getRemoteStatusString(prof.remote)},on:{\"click\":function($event){$event.stopPropagation();return _vm.updateRemoteStatus(prof)}}}):_vm._e(),(!_vm.profile.tokenType || _vm.profile.isLatest(idx))?[(_vm.newName[idx] === null)?_c('i',{staticClass:\"fas fa-edit click-icon\",attrs:{\"title\":\"rename this profile\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$set(_vm.newName, idx, prof.name)}}}):_c('i',{staticClass:\"fas fa-check click-icon\",attrs:{\"title\":\"confirm renaming\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.renameProfile(prof.name, idx)}}}),(_vm.newName[idx] === null && _vm.profile.profiles.length > 1)?_c('i',{staticClass:\"fa fa-times ml-1 click-icon\",attrs:{\"title\":\"delete this profile\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteProfile(prof.name, idx)}}}):_vm._e()]:(_vm.profile.tokenType && prof.remote && !_vm.profile.isLatest(idx))?[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"title\":\"Keep this version of the profile\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.keepVersion(prof.name)}}},[_vm._v(\" Keep \")])]:_vm._e(),(_vm.profile.tokenType && prof.remote)?_c('div',{staticClass:\"mt-2\",attrs:{\"title\":\"Checkout historical versions of this profile\"}},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-outline-dark btn-sm dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",\"disabled\":prof.name !== _vm.profile.current}},[_vm._v(\" v\"+_vm._s(prof.currentVersion)+\" \")]),_c('div',{staticClass:\"dropdown-menu\",staticStyle:{\"line-height\":\"12pt\"}},_vm._l((prof.versions),function(ver){return _c('a',{key:ver.version,staticClass:\"dropdown-item px-2 pb-1 pt-0\",class:{\n                                        active: ver.version === prof.currentVersion\n                                    },attrs:{\"href\":\"javascript:void(0);\",\"title\":(\"Full user agent: \" + (ver.userAgent))},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchVersion(prof.name, idx, ver.version)}}},[_c('div',{staticClass:\"row no-gutters align-items-center\",staticStyle:{\"flex-wrap\":\"nowrap\"}},[_c('div',{staticClass:\"col col-2 mr-1 h-100\"},[_vm._v(\" v\"+_vm._s(ver.version)+\" \")]),_c('div',{staticClass:\"col col-10 ua-cell text-right\"},[_c('small',[_vm._v(\" \"+_vm._s(new Date(ver.modified).toLocaleString())+\" \"),_c('br'),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getParsedUA(ver.userAgent))}})])])])])}),0)])]):_vm._e()],2)])])}),0),(_vm.profile.tokenType)?_c('div',{staticClass:\"w-100 text-center my-2\"},[_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"title\":(\"Close connection to \" + _vm.backendName)},on:{\"click\":function($event){return _vm.profile.logout()}}},[_vm._v(\" Logout \")]),_c('div',[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" You profiles are synchronizd with \"+_vm._s(_vm.backendName)+\" \")])])]):(_vm.allowBackend)?_c('div',{staticClass:\"w-100 my-2 text-center\"},[_c('div',{staticClass:\"mx-3\"},[(!_vm.profile.tokenType && _vm.profile.profiles.some(function (p) { return p.remote; }))?_c('small',{staticStyle:{\"font-size\":\"12px\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle text-warning\"}),_vm._v(\" Some profiles are marked as synced, but you've been logged out. To re-enabled sync, please login. \")]):_vm._e()]),_c('button',{staticClass:\"btn btn-outline-primary mt-2 mx-3\",on:{\"click\":function($event){return _vm.profile.loginBackend()}}},[_vm._v(\" Login to Hoosmyprofessor \")])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" JSON: Can be imported later \"),_c('br'),_vm._v(\" iCal: Supported by most calendar apps \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" URL can be shared easily \"),_c('br'),_vm._v(\" Print your currently rendered schedule \")])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport { backend } from '@/config';\nimport Store, { compressJSON, SemesterStorage } from '@/store';\nimport { savePlain, toICal } from '@/utils';\nimport lz from 'lz-string';\nimport { Component } from 'vue-property-decorator';\nimport UAParser from 'ua-parser-js';\nimport { LocalProfileEntry } from '@/store/profile';\n\n/**\n * component for import/export/print schedules and managing profiles\n * @author Hanzhi Zhou, Kaiying Shan\n * @noInheritDoc\n */\n@Component\nexport default class ExportView extends Store {\n    newName: (string | null)[] = [];\n\n    get backendName() {\n        return backend.name;\n    }\n\n    get allowBackend() {\n        return window.location.protocol !== 'file:' || backend.oauth_on_electron;\n    }\n\n    /**\n     * parse an user-friendly string indicating OS/device type from the user agent\n     * @param ua\n     */\n    getParsedUA(ua: string) {\n        const parser = new UAParser(ua);\n        const result = parser.getResult();\n        let resultStr = '&nbsp;';\n        if (result.os.name && result.os.version)\n            resultStr += result.os.name + ' ' + result.os.version;\n        if (result.device.vendor) resultStr += ' | ' + result.device.vendor;\n        if (result.browser.name && result.browser.version)\n            resultStr += '<br />&nbsp;' + result.browser.name + ' ' + result.browser.version;\n        return resultStr;\n    }\n\n    async updateRemoteStatus(prof: LocalProfileEntry) {\n        if (!prof.remote) {\n            const msg = await this.profile.uploadProfile([\n                {\n                    name: prof.name,\n                    profile: localStorage.getItem(prof.name)!\n                }\n            ]);\n            if (msg) return this.noti.notify(msg);\n            prof.remote = true;\n        } else {\n            if (\n                confirm(\n                    `If you disable sync for this profile (${prof.name}), it will be deleted from ${backend.name} and your other devices that enabled sync. Are you sure?`\n                )\n            ) {\n                const msg = await this.profile.deleteRemote(prof.name);\n                if (msg.level === 'error') {\n                    return this.noti.notify(msg);\n                } else if (msg.level === 'warn') {\n                    this.noti.notify(msg);\n                }\n                prof.remote = false;\n            }\n        }\n    }\n\n    getRemoteStatusString(remote: boolean) {\n        const msg1 = remote ? 'synced' : 'not synced';\n        const msg2 = remote ? 'unsync' : 'sync';\n        return `This profile is currently ${msg1} with ${backend.name}. Click me to ${msg2}.`;\n    }\n\n    created() {\n        this.newName = this.profile.profiles.map(() => null);\n    }\n    /**\n     * get the meta data of a profile\n     * @param obj the name of the profile or the already-parsed profile\n     */\n    getMeta(obj: string | SemesterStorage) {\n        let parsed: Partial<SemesterStorage> | null = null;\n        const meta = [];\n        if (typeof obj === 'string') {\n            const data = localStorage.getItem(obj);\n            if (data) {\n                try {\n                    parsed = JSON.parse(data);\n                } catch (err) {\n                    console.error(err);\n                }\n            }\n        } else {\n            parsed = obj;\n        }\n        if (parsed) {\n            if (parsed.modified) meta.push(new Date(parsed.modified).toLocaleString());\n            if (parsed.currentSemester) meta.push(parsed.currentSemester.name);\n        }\n        if (!meta.length) meta.push('Data Corruption');\n        return meta;\n    }\n\n    onUploadJson(event: { target: EventTarget | null }) {\n        const input = event.target as HTMLInputElement;\n        const { files } = input;\n        if (!files) return;\n\n        const reader = new FileReader();\n        reader.onload = async () => {\n            if (reader.result) {\n                const { profiles } = this.profile;\n                const prevLen = profiles.length;\n                try {\n                    await this.profile.addProfile(\n                        JSON.parse(reader.result.toString()),\n                        files[0].name\n                    );\n                    // unequal length: new profile name added\n                    if (prevLen !== profiles.length) this.newName.push(null);\n                    await this.loadProfile();\n                } catch (err) {\n                    this.noti.error(err.message + ': Parsing error');\n                }\n            } else {\n                this.noti.warn('File is empty!');\n            }\n            input.value = '';\n        };\n\n        try {\n            reader.readAsText(files[0]);\n        } catch (error) {\n            console.error(error);\n            this.noti.error(error.message);\n        }\n    }\n    saveToJson() {\n        if (!this.semester.current) return;\n        const json = localStorage.getItem(this.profile.current);\n        if (json) savePlain(json, this.profile.current + '.json');\n    }\n    saveToIcal() {\n        savePlain(toICal(this.schedule.currentSchedule), this.profile.current + '.ics');\n    }\n    exportToURL() {\n        if (!this.semester.current) return;\n        const json = localStorage.getItem(this.profile.current);\n        if (json) {\n            const url = new URL(window.location.href);\n            const compressed = compressJSON(json);\n            url.searchParams.set(\n                'config',\n                lz.compressToEncodedURIComponent(JSON.stringify(compressed))\n            );\n            this.modal.showURLModal(url.href);\n        }\n    }\n\n    async deleteProfile(name: string, idx: number) {\n        if (confirm(`Are you sure to delete ${name}?`)) {\n            const msg = await this.profile.deleteProfile(name, idx);\n            this.newName.pop();\n            if (msg.level !== 'success') return this.noti.notify(msg);\n            // if the deleted profile is the current profile, reload the newly selected current profile\n            if (msg.payload) this.loadProfile();\n        }\n    }\n    selectProfile(profileName: string) {\n        if (profileName === this.profile.current) return;\n        const item = localStorage.getItem(profileName);\n        if (!item) return;\n        if (this.profile.tokenType) {\n            // set previously selected profile to its latest version, if not already\n            this.noti.clear();\n            const idx = this.profile.profiles.findIndex(p => p.name === this.profile.current);\n            if (!this.profile.isLatest(idx)) {\n                this.profile.profiles[idx].currentVersion = this.profile.profiles[\n                    idx\n                ].versions[0].version;\n                localStorage.setItem(\n                    this.profile.current,\n                    localStorage.getItem('backup-' + this.profile.current)!\n                );\n                localStorage.removeItem('backup-' + this.profile.current);\n            }\n        }\n        this.profile.current = profileName;\n        this.loadProfile();\n        this.$forceUpdate();\n    }\n    async switchVersion(name: string, idx: number, version: number) {\n        this.profile.profiles[idx].currentVersion = version;\n        const remote = await this.profile.getRemoteProfile(name, version);\n        if (remote.level === 'error') return this.noti.notify(remote);\n\n        // backup the current profile, in case we need to switch back\n        localStorage.setItem('backup-' + name, localStorage.getItem(name)!);\n        localStorage.setItem(name, remote.payload!.profile);\n        this.loadProfile();\n        if (!this.profile.isLatest(idx))\n            this.noti.warn(\n                `You checked out a historical version your profile. Your changes to this profile will not be saved or synchronized with ${backend.name} unless you click \"Keep\".`,\n                3600,\n                true\n            );\n        this.$forceUpdate();\n    }\n    async keepVersion(name: string) {\n        // make sure that the profile's modified time is changed to the latest so it can overwrite profiles on other synced devices\n        const _profile: SemesterStorage = JSON.parse(localStorage.getItem(name)!);\n        _profile.modified = new Date().toJSON();\n        const profile = JSON.stringify(_profile);\n        localStorage.setItem(name, profile);\n        const msg = await this.profile.uploadProfile([\n            {\n                name,\n                profile,\n                new: true\n            }\n        ]);\n        if (msg) return this.noti.notify(msg);\n        localStorage.removeItem('backup-' + name);\n        this.noti.clear();\n        this.$forceUpdate();\n    }\n    async renameProfile(oldName: string, idx: number) {\n        const raw = localStorage.getItem(oldName);\n        if (!raw) return;\n\n        const newName = this.newName[idx];\n        if (!newName) return this.$set(this.newName, idx, null);\n        if (newName !== oldName) {\n            if (this.profile.profiles.find(p => p.name === newName))\n                return this.noti.error('Duplicated name!');\n            if (\n                !this.profile.profiles[idx].remote ||\n                confirm(\n                    'If you rename a synced profile, all its history will be lost. Are you sure?'\n                )\n            ) {\n                const msg = await this.profile.renameProfile(idx, oldName, newName, raw);\n                if (msg) return this.noti.notify(msg);\n            }\n        }\n        this.$set(this.newName, idx, null);\n    }\n\n    print() {\n        window.print();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ExportView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ExportView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExportView.vue?vue&type=template&id=a4e4c2e4&scoped=true&\"\nimport script from \"./ExportView.ts?vue&type=script&lang=ts&\"\nexport * from \"./ExportView.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ExportView.vue?vue&type=style&index=0&id=a4e4c2e4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4e4c2e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"id\":\"external-bar\"}},[_c('h2',{staticClass:\"my-4\"},[_vm._v(\"This page is intentionally left blank\")]),_c('div',{staticClass:\"w-100\"},[_c('img',{staticClass:\"w-75\",attrs:{\"src\":require(\"../../assets/placeholder.jpg\"),\"alt\":\"\"}})])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nexport default Vue.extend({});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./External.vue?vue&type=template&id=823ab73c&scoped=true&\"\nimport script from \"./External.vue?vue&type=script&lang=ts&\"\nexport * from \"./External.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./External.vue?vue&type=style&index=0&id=823ab73c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"823ab73c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Filters\")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[_c('li',{staticClass:\"list-group-item px-3\",attrs:{\"title\":\"Time periods when you don't want to have class\"}},[_vm._v(\" No Class Time \"),_c('div',{staticClass:\"click-icon px-4\",staticStyle:{\"float\":\"right\"},attrs:{\"title\":\"Click to add a time period when you don't want to have class\"},on:{\"click\":function($event){return _vm.filter.addTimeSlot()}}},[_c('i',{staticClass:\"fas fa-plus\"})])]),_vm._l((_vm.filter.timeSlots),function(value,i){return _c('li',{key:i,staticClass:\"list-group-item p-1\"},[_c('div',{staticClass:\"btn-group btn-days my-2\",attrs:{\"role\":\"group\"}},_vm._l((_vm.days),function(day,j){return _c('button',{key:j,class:'btn btn-outline-secondary' + (value[j] ? ' active' : ''),attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateFilterDay(i, +j)}}},[_vm._v(\" \"+_vm._s(day)+\" \")])}),0),_c('div',{staticClass:\"form-group row no-gutters align-items-center text-center mb-2\"},[_c('div',{staticClass:\"col col-5 align-self-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(value[7]),expression:\"value[7]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"time\"},domProps:{\"value\":(value[7])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(value, 7, $event.target.value)}}})]),_c('div',{staticClass:\"col col-1 align-self-center\"},[_vm._v(\"-\")]),_c('div',{staticClass:\"col col-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(value[8]),expression:\"value[8]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"time\"},domProps:{\"value\":(value[8])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(value, 8, $event.target.value)}}})]),_c('div',{staticClass:\"col col-1 align-self-center\"},[_c('i',{staticClass:\"fas fa-times click-icon\",staticStyle:{\"font-size\":\"1.25rem\"},on:{\"click\":function($event){return _vm.filter.removeTimeSlot(i)}}})])])])}),_c('li',{staticClass:\"list-group-item\"},[_c('div',{staticClass:\"custom-control custom-checkbox my-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.allowWaitlist),expression:\"filter.allowWaitlist\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"awt\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filter.allowWaitlist)?_vm._i(_vm.filter.allowWaitlist,null)>-1:(_vm.filter.allowWaitlist)},on:{\"change\":function($event){var $$a=_vm.filter.allowWaitlist,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"allowWaitlist\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"allowWaitlist\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"allowWaitlist\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"awt\"}},[_vm._v(\"Allow Wait List\")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.allowClosed),expression:\"filter.allowClosed\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"ac\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filter.allowClosed)?_vm._i(_vm.filter.allowClosed,null)>-1:(_vm.filter.allowClosed)},on:{\"change\":function($event){var $$a=_vm.filter.allowClosed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"allowClosed\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"allowClosed\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"allowClosed\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"ac\"}},[_vm._v(\"Allow Closed\")])])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-info w-100\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.generateSchedules()}}},[_vm._v(\" Apply \")])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Sort Priority\")]),_c('li',{staticClass:\"list-group-item px-3\",attrs:{\"title\":\"Note that you can drag sort options to change their priority in fallback mode\"}},[_vm._v(\" Sort According to \")]),_c('draggable',{on:{\"end\":function($event){return _vm.dragEnd()}},model:{value:(_vm.filter.sortOptions.sortBy),callback:function ($$v) {_vm.$set(_vm.filter.sortOptions, \"sortBy\", $$v)},expression:\"filter.sortOptions.sortBy\"}},_vm._l((_vm.filter.sortOptions.sortBy),function(option,optIdx){return _c('div',{key:option.name,staticClass:\"list-group-item py-1 pl-3 pr-0\"},[_c('div',{staticClass:\"row no-gutters w-100\"},[_c('div',{staticClass:\"col col-sm-10 drag-handle\",attrs:{\"title\":option.description}},[_c('span',{staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\" \"+_vm._s(option.title)+\" \")]),(option.enabled && !_vm.getSortOptRange(option))?_c('span',{staticClass:\"ml-1 text-warning\",attrs:{\"title\":(\"Enabling this sort option has no effect, because all schedules have the same '\" + (option.title.toLowerCase()) + \"'\")}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e(),(!option.weight)?_c('span',{staticClass:\"ml-1 text-warning\",attrs:{\"title\":\"Invalid or zero weight\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e(),(_vm.filter.sortOptions.mode === 1 && option.enabled)?_c('div',{staticClass:\"input-group input-group-sm\",staticStyle:{\"width\":\"80%\"}},[_c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"Weight\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(option.weight),expression:\"option.weight\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0.1\",\"max\":\"10\",\"step\":\"0.1\"},domProps:{\"value\":(option.weight)},on:{\"change\":function($event){return _vm.applySort()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(option, \"weight\", $event.target.value)}}})]):_vm._e()]),_c('div',{staticClass:\"col col-sm-2\"},[_c('i',{staticClass:\"fas mr-2 click-icon\",class:option.reverse ? 'fa-arrow-down' : 'fa-arrow-up',attrs:{\"title\":\"Click to reverse sorting\"},on:{\"click\":function($event){option.reverse = !option.reverse;\n                                _vm.changeSorting(+optIdx);}}}),_c('div',{staticClass:\"custom-control custom-checkbox\",staticStyle:{\"display\":\"inline-block\",\"cursor\":\"pointer\"}},[(option.name === 'similarity' && !_vm.filter.similarityEnabled)?[_c('input',{staticClass:\"custom-control-input\",attrs:{\"id\":option.name,\"type\":\"checkbox\",\"disabled\":\"\"},domProps:{\"value\":option.name}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":option.name,\"title\":\"To enable sort by similarity, please first set a reference schedule in the compare tab\"}})]:[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(option.enabled),expression:\"option.enabled\"}],staticClass:\"custom-control-input\",attrs:{\"id\":option.name,\"type\":\"checkbox\"},domProps:{\"value\":option.name,\"checked\":Array.isArray(option.enabled)?_vm._i(option.enabled,option.name)>-1:(option.enabled)},on:{\"change\":[function($event){var $$a=option.enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=option.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(option, \"enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(option, \"enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(option, \"enabled\", $$c)}},function($event){return _vm.changeSorting(+optIdx)}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":option.name,\"title\":\"Enable this sorting option\"}})]],2)])])])}),0),_c('li',{staticClass:\"list-group-item\"},[_vm._l((_vm.filter.sortModes),function(mode){return [_c('div',{key:'sm' + mode.mode,staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.filter.sortOptions.mode),expression:\"filter.sortOptions.mode\",modifiers:{\"number\":true}}],staticClass:\"custom-control-input\",attrs:{\"id\":'sm' + mode.mode,\"type\":\"radio\"},domProps:{\"value\":mode.mode,\"checked\":_vm._q(_vm.filter.sortOptions.mode,_vm._n(mode.mode))},on:{\"change\":[function($event){_vm.$set(_vm.filter.sortOptions, \"mode\", _vm._n(mode.mode))},function($event){return _vm.changeSorting(undefined)}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":'sm' + mode.mode,\"title\":mode.description}},[_vm._v(_vm._s(mode.title)+\" \")])])]})],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport { DAYS } from '@/models/constants';\nimport Store from '@/store';\nimport { Component } from 'vue-property-decorator';\nimport draggable from 'vuedraggable';\nimport { SortOption } from '@/algorithm/ScheduleEvaluator';\n\n/**\n * the component for editing and applying filters\n * @author Hanzhi Zhou, Kaiying Shan\n * @noInheritDoc\n */\n@Component({\n    components: {\n        draggable\n    }\n})\nexport default class FilterView extends Store {\n    get days() {\n        return DAYS;\n    }\n\n    dragEnd() {\n        if (this.filter.sortOptions.mode === 0) this.changeSorting();\n    }\n\n    /**\n     * negate the boolean value at `this.timeSlots[i][j]`\n     * @param i the index of the time filter\n     * @param j the index of the day (0 to 7)\n     */\n    updateFilterDay(i: number, j: number) {\n        this.$set(this.filter.timeSlots[i], j, !this.filter.timeSlots[i][j]);\n    }\n\n    getSortOptRange(opt: SortOption) {\n        return window.scheduleEvaluator.getRange(opt);\n    }\n\n    /**\n     * get called when the sort mode changed or sort option at `optIdx` changed.\n     * call [[ScheduleEvaluator.sort]]. Moreover,\n     * - if a sort option changed, also disable options that are mutually exclusive to that one.\n     * - if the sort mode changed, do nothing\n     * @param optIdx\n     */\n    changeSorting(optIdx?: number) {\n        if (!this.validateSortOptions()) return;\n        if (optIdx !== undefined) {\n            const option = this.filter.sortOptions.sortBy[optIdx];\n\n            if (option.enabled) {\n                for (const key of option.exclusive) {\n                    for (const opt of this.filter.sortOptions.sortBy) {\n                        if (opt.name === key) {\n                            opt.enabled = false; // option names are unique\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        this.applySort();\n    }\n\n    applySort() {\n        if (!window.scheduleEvaluator.empty()) {\n            window.scheduleEvaluator.sort({ newOptions: this.filter.sortOptions });\n            if (!this.schedule.generated) {\n                this.schedule.switchSchedule(true);\n            } else {\n                // re-assign the current schedule\n                this.schedule.currentSchedule = window.scheduleEvaluator.getSchedule(\n                    this.schedule.currentScheduleIndex\n                );\n            }\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FilterView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FilterView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FilterView.vue?vue&type=template&id=f953c49c&\"\nimport script from \"./FilterView.ts?vue&type=script&lang=ts&\"\nexport * from \"./FilterView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\",attrs:{\"id\":\"palette-nav\"}},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Color Schemes \")]),_c('ul',{staticClass:\"list-group list-group-flush ml-2 mr-1 my-2 text-center schemes\"},_vm._l((_vm.colorSchemes),function(scheme,idx){return _c('li',{key:scheme.name,staticClass:\"list-group-item list-group-item-action px-1\",class:{ active: +idx === _vm.display.colorScheme },attrs:{\"id\":+idx === _vm.display.colorScheme ? 'scheme-active' : 'scheme-' + idx,\"title\":scheme.description},on:{\"click\":function($event){_vm.display.colorScheme = +idx}}},[_c('strong',[_vm._v(_vm._s(scheme.name))]),_c('div',{staticClass:\"row flex-nowrap no-gutters\"},_vm._l((scheme.colors),function(color){return _c('div',{key:color,staticClass:\"col\",style:({\n                        'background-color': color,\n                        color: color\n                    })},[_vm._v(\" 1 \")])}),0)])}),0),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Palette \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[(_vm.numColors())?_vm._l((_vm.courseColors()),function(pair,idx){return _c('li',{key:idx,staticClass:\"list-group-item py-1 px-2\"},[_c('div',{staticClass:\"row no-gutters justify-content-between w-100 my-1\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\" \"+_vm._s(_vm.convertKey(pair[0]))+\" \")]),_c('div',{staticClass:\"col-sm-auto align-self-center\"},[_c('i',{staticClass:\"fas fa-times click-icon mr-2\",staticStyle:{\"font-size\":\"1.1rem\"},attrs:{\"title\":\"reset to default\"},on:{\"click\":function($event){return _vm.$delete(_vm.palette.savedColors, pair[0])}}}),_c('i',{staticClass:\"fas fa-sync-alt click-icon mr-1\",attrs:{\"title\":\"get a random color\"},on:{\"click\":function($event){return _vm.randColor(pair[0])}}}),_c('input',{staticStyle:{\"width\":\"30px\"},attrs:{\"type\":\"color\"},domProps:{\"value\":pair[1]},on:{\"change\":function($event){return _vm.set(pair[0], $event.target.value)}}})])])])}):_c('li',{staticClass:\"list-group-item\"},[_vm._v(\" You can only customize colors of things displayed in your schedule. Please select your classes and generate your schedules, then come back to change the color for them. \")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport Schedule from '@/models/Schedule';\nimport Store from '@/store';\nimport randomColor from 'randomcolor';\nimport { Component } from 'vue-property-decorator';\nimport colorSchemes from '@/data/ColorSchemes';\n\n/**\n * the component for customizing colors of classes and events\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class Palette extends Store {\n    get colorSchemes() {\n        return colorSchemes;\n    }\n    mounted() {\n        document.getElementById('scheme-active')!.scrollIntoView();\n        document.getElementById('palette-nav')!.scroll(0, 0);\n    }\n    set(key: string, color: string) {\n        this.$set(this.palette.savedColors, key, color);\n    }\n    randColor(key: string) {\n        this.$set(this.palette.savedColors, key, randomColor({ luminosity: 'dark' }));\n    }\n\n    colorEntries() {\n        return Object.entries(this.palette.savedColors).filter(entry =>\n            this.schedule.currentSchedule.has(entry[0], true)\n        );\n    }\n    /**\n     * get the number of events and courses that have colors in total\n     */\n    numColors() {\n        return (\n            this.colorEntries().length +\n            this.schedule.currentSchedule.colorSlots.reduce((acc, x) => x.size + acc, 0)\n        );\n    }\n    /**\n     * @note colors must always be recomputed because `Schedule.savedColors` is not a reactive property\n     */\n    courseColors() {\n        const colors = Schedule.colors;\n        return this.colorEntries()\n            .concat(\n                this.schedule.currentSchedule.colorSlots.reduce<[string, string][]>(\n                    (arr, bucket, i) => {\n                        for (const key of bucket) {\n                            if (\n                                !(key in this.palette.savedColors) &&\n                                this.schedule.currentSchedule.has(key, true)\n                            ) {\n                                arr.push([key, colors[i]]);\n                            }\n                        }\n                        return arr;\n                    },\n                    []\n                )\n            )\n            .sort((a, b) => (a[0] === b[0] ? 0 : a[0] < b[0] ? -1 : 1));\n    }\n    convertKey(key: string) {\n        return window.catalog.convertKey(key, this.schedule.currentSchedule);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./PaletteView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./PaletteView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PaletteView.vue?vue&type=template&id=73b95f5c&scoped=true&\"\nimport script from \"./PaletteView.ts?vue&type=script&lang=ts&\"\nexport * from \"./PaletteView.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./PaletteView.vue?vue&type=style&index=0&id=73b95f5c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73b95f5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_vm._m(0),_c('vue-typeahead-bootstrap',{staticClass:\"mt-2\",attrs:{\"data\":_vm.queryTypes,\"minMatchingChars\":1,\"size\":\"sm\",\"placeholder\":\"Title/Topic/Room/Prof./Desc.\"},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeClassList()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getClass()}]},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},[_c('template',{slot:\"append\"},[(_vm.loading)?_c('div',{staticClass:\"spinner-border my-auto text-primary mx-1\",staticStyle:{\"width\":\"1.4rem\",\"height\":\"1.4rem\"},attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_c('span',{staticClass:\"input-group-text px-2 click-icon\",on:{\"click\":function($event){return _vm.getClass()}}},[_c('i',{staticClass:\"fas fa-search\"})])])],2),(_vm.inputCourses.length)?_c('div',{ref:\"classList\",staticClass:\"card card-body p-1\"},[_c('ClassList',{ref:\"enteringClassList\",attrs:{\"courses\":_vm.inputCourses,\"matches\":_vm.inputMatches,\"schedule\":_vm.schedule.currentSchedule,\"is-entering\":true,\"show-classlist-title\":_vm.display.showClasslistTitle,\"expand-on-entering\":_vm.display.expandOnEntering},on:{\"update-course\":_vm.updateCourse,\"course-modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)},\"close\":function($event){return _vm.closeClassList()}}})],1):(_vm.query.length)?_c('div',{staticClass:\"mt-2 mx-2\"},[_vm._v(\" Input too short or no results \")]):_c('div',{staticClass:\"mx-3 my-2\"},[_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(1),_c('div',[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.realtime),expression:\"realtime\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"realtime\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.realtime)?_vm._i(_vm.realtime,null)>-1:(_vm.realtime)},on:{\"change\":function($event){var $$a=_vm.realtime,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.realtime=$$a.concat([$$v]))}else{$$i>-1&&(_vm.realtime=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.realtime=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"realtime\"}})])])]),_vm._m(2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-info nav-btn\"},[_vm._v(\" Fuzzy Search \"),_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\"Beta\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"realtime\"}},[_c('small',[_vm._v(\"Real Time\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{staticClass:\"pl-2\"},[_c('li',{staticClass:\"mb-2 pl-1\"},[_vm._v(\" You should use fuzzy search only when you want do an approxiate matching. If you know exactly what your target course's number/title/etc. is, please use the ordinary search instead. \")]),_c('li',{staticClass:\"mb-2 pl-1\"},[_vm._v(\" By default, Plannable will match the title, topic, description and professor name with a predefined set of weights, which may not be always ideal. Therefore, it is recommended that you specify the field to search. For example, you can use \\\"\"),_c('strong',[_vm._v(\":title comp arch\")]),_vm._v(\"\\\" to match only the titles of each course. \")]),_c('li',{staticClass:\"mb-2 pl-1\"},[_vm._v(\" Searching for course numbers (e.g. CS 2102) is not supported here. \")]),_c('li',{staticClass:\"mb-2 pl-1\"},[_vm._v(\" If your computer is too slow to run realtime search, you can uncheck the realtime checkbox. To search in non-realtime mode, type your query and press enter or click the search icon. \")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport Store from '@/store';\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport ClassList from '../ClassList.vue';\nimport VueTypeaheadBootstrap from '../autocomplete/VueTypeaheadBootstrap.vue';\n\n/**\n * component for performing fuzzy-search against the catalog of courses\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component({\n    components: {\n        ClassList,\n        VueTypeaheadBootstrap\n    }\n})\nexport default class FuzzyView extends Store {\n    inputCourses: Course[] = [];\n    inputMatches: SearchMatch[] = [];\n    queryTypes = [':title ', ':topic ', ':prof ', ':desc ', ':room '];\n    query = '';\n\n    /**\n     * represent the current state of the fuzzy search component.\n     * disable the input box if true\n     */\n    loading = false;\n    /**\n     * whether realtime search is enabled\n     */\n    realtime = true;\n\n    @Watch('query')\n    onInput() {\n        if (this.realtime) this.getClass();\n    }\n\n    /**\n     * get classes that match the input query.\n     * clear search results on falsy parameter.\n     *\n     * if a generated schedule is displayed, switch to proposed schedule,\n     * because we're adding stuff to the proposed schedule\n     *\n     * @see Catalog.search\n     */\n    async getClass() {\n        const query = this.query;\n        if (!query) {\n            this.closeClassList();\n            return;\n        }\n        this.loading = true;\n        if (this.schedule.generated) this.schedule.switchSchedule(false);\n\n        [this.inputCourses, this.inputMatches] = window.catalog.fuzzySearch(query);\n        this.loading = false;\n    }\n\n    closeClassList() {\n        this.query = '';\n        this.inputCourses = [];\n        this.inputMatches = [];\n    }\n\n    /**\n     * @see Schedule.update\n     */\n    updateCourse(key: string, section: number, group = 0, remove = false) {\n        this.schedule.currentSchedule.update(key, section, group, remove);\n\n        // note: adding a course to schedule.All cannot be detected by Vue.\n        // Must use forceUpdate to re-render component\n        const classList = this.$refs.enteringClassList;\n        if (classList instanceof Vue) (classList as Vue).$forceUpdate();\n        this.saveStatus();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FuzzyView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FuzzyView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FuzzyView.vue?vue&type=template&id=67cf043a&\"\nimport script from \"./FuzzyView.ts?vue&type=script&lang=ts&\"\nexport * from \"./FuzzyView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Log History \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},_vm._l((_vm.noti.history),function(item,idx){return _c('li',{key:idx,staticClass:\"list-group-item pt-1 pb-2 px-2 my-0\"},[_c('span',{class:(\"text-\" + (item.cls)),domProps:{\"innerHTML\":_vm._s(item.msg)}}),_vm._v(\" \"),_c('br'),_c('small',{staticClass:\"text-muted\"},[_c('span',{staticClass:\"px-2 py-1\",class:(\"bg-\" + (item.cls)),staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(item.cls === 'danger' ? 'error' : item.cls))]),_vm._v(\" \"+_vm._s(item.stamp)+\" \")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport Store from '@/store';\nimport { Component } from 'vue-property-decorator';\n\n/**\n * component for displaying log history\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class LogView extends Store {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./LogView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./LogView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LogView.vue?vue&type=template&id=e1bd2eb8&\"\nimport script from \"./LogView.ts?vue&type=script&lang=ts&\"\nexport * from \"./LogView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('ul',{staticClass:\"pagination justify-content-center\",staticStyle:{\"margin-bottom\":\"0\"}},[_c('li',{staticClass:\"input-group\",staticStyle:{\"width\":\"80px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.goto),expression:\"goto\",modifiers:{\"number\":true}}],staticClass:\"form-control\",staticStyle:{\"border-radius\":\"4px 0px 0px 4px !important\"},attrs:{\"type\":\"number\",\"min\":\"1\",\"step\":\"1\",\"placeholder\":\"Go to\"},domProps:{\"value\":(_vm.goto)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }_vm.goto = 1},\"input\":function($event){if($event.target.composing){ return; }_vm.goto=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.start <= 0 && _vm.idx <= _vm.start }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.switchPage(_vm.idx - 1)}}},[_vm._v(\"«\")])]),_vm._l((_vm.length),function(index){return _c('li',{key:index,staticClass:\"page-item\",class:{ active: _vm.idx === index + _vm.start - 1 }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.switchPage(index + _vm.start - 1)}}},[_vm._v(\" \"+_vm._s(index + _vm.start)+\" \")])])}),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.idx >= _vm.scheduleLength - 1 }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.switchPage(_vm.idx + 1)}}},[_vm._v(\"»\")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { Component, Watch } from 'vue-property-decorator';\nimport Store from '../store';\n\n/**\n * The component for showing a list of pages, used for switching between generated schedules\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class Pagination extends Store {\n    get curIdx() {\n        return this.schedule.currentScheduleIndex;\n    }\n    get scheduleLength() {\n        return this.schedule.numGenerated;\n    }\n\n    get length() {\n        if (window.screen.width < 900) {\n            return this.scheduleLength < 3 ? this.scheduleLength : 3;\n        } else {\n            return this.scheduleLength < 10 ? this.scheduleLength : 10;\n        }\n    }\n\n    /**\n     * zero based schedule index\n     */\n    idx = 0;\n    /**\n     * zero based offset\n     */\n    start = 0;\n    goto: number | null = null;\n\n    @Watch('goto')\n    gotoWatch() {\n        this.switchPage((this.goto || 1) - 1);\n    }\n\n    updateStart() {\n        if (this.idx < this.start) {\n            this.start = this.idx;\n        } else if (this.idx >= this.start + this.length) {\n            this.start = this.idx - this.length + 1;\n        }\n        if (this.start < 0) this.start = 0;\n    }\n\n    switchPage(idx: number) {\n        idx = isNaN(idx) ? 0 : +idx;\n        if (idx >= this.scheduleLength) {\n            this.idx = this.scheduleLength - 1;\n        } else if (idx < 0) {\n            this.idx = 0;\n        } else {\n            this.idx = idx;\n        }\n        this.updateStart();\n        this.schedule.switchPage(this.idx);\n    }\n\n    @Watch('curIdx', { immediate: true })\n    autoSwitch() {\n        this.switchPage(this.curIdx);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./Pagination.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./Pagination.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=d2afb7d0&\"\nimport script from \"./Pagination.ts?vue&type=script&lang=ts&\"\nexport * from \"./Pagination.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"course-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[(_vm.course)?_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",domProps:{\"innerHTML\":_vm._s(\n                        _vm.highlightMatch(_vm.course.displayName, 'key', _vm.match[0]) + ' ' + _vm.course.title\n                    )}}),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[_c('h6',{domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(_vm.course.title, 'title', _vm.match[0]))}}),_c('div',{staticStyle:{\"width\":\"100%\",\"overflow-x\":\"auto\"}},[_c('table',{staticClass:\"m-color w-100\",attrs:{\"id\":\"sec-table\"}},[_c('tbody',_vm._l((_vm.course.sections),function(section){return _c('tr',{key:section.section},[_c('td',[_vm._v(_vm._s(section.id))]),_c('td',[_vm._v(_vm._s(section.section))]),_c('td',{domProps:{\"innerHTML\":_vm._s(\n                                        _vm.highlightMatch(\n                                            section.topic,\n                                            'topic',\n                                            _vm.match[1].get(section.id)\n                                        )\n                                    )}}),_c('td',{domProps:{\"innerHTML\":_vm._s(\n                                        _vm.highlightMatch(\n                                            section.instructors,\n                                            'instructors',\n                                            _vm.match[1].get(section.id)\n                                        )\n                                    )}}),_c('td',[_vm._v(\" \"+_vm._s(section.dates)+\" \")]),_c('td',_vm._l((section.meetings),function(meeting,idx){return _c('div',{key:idx},[_vm._v(\" \"+_vm._s(meeting.days)+\" \")])}),0),_c('td',_vm._l((section.meetings),function(meeting,idx){return _c('div',{key:idx},[(_vm.formatLocationURL(meeting.room))?_c('a',{attrs:{\"href\":_vm.formatLocationURL(meeting.room),\"target\":\"_blank\"}},[_vm._v(_vm._s(meeting.room)+\" \")]):[_vm._v(\" \"+_vm._s(meeting.room)+\" \")]],2)}),0),_c('td',[_vm._v(_vm._s(section.status))]),_c('td',[_vm._v(\" \"+_vm._s(((section.enrollment) + \"/\" + (section.enrollment_limit) + \"/\" + (section.wait_list)))+\" \")])])}),0)])]),_c('p',{staticClass:\"mt-2\",domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(_vm.course.description, 'description', _vm.match[0]))}}),_c('hr',{staticClass:\"mb-2\"}),_c('h6',[_vm._v(\"External Links:\")]),(_vm.semester)?_c('div',_vm._l((_vm.links),function(item){return _c('button',{key:item.name,staticClass:\"btn btn-outline-info mr-2 mb-2\",on:{\"click\":function($event){return item.action(_vm.semester, _vm.course)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0):_vm._e()])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { modalLinks } from '@/config';\nimport { SearchMatch, SemesterJSON } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying detailed information of a Course along with all sections contained in it\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class CourseModal extends Vue {\n    get links() {\n        return modalLinks.course;\n    }\n    @Prop(Course) readonly course!: Course;\n    @Prop({ type: Array, default: [] }) readonly match!: SearchMatch;\n    @Prop(Object) readonly semester!: SemesterJSON;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CourseModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CourseModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CourseModal.vue?vue&type=template&id=498d51b5&scoped=true&\"\nimport script from \"./CourseModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./CourseModal.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./CourseModal.vue?vue&type=style&index=0&id=498d51b5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"498d51b5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"section-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[(_vm.section)?_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.section.displayName)+\" \"+_vm._s(_vm.section.id))]),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[_c('h6',{domProps:{\"innerHTML\":_vm._s(_vm.section.title)}}),(_vm.section.topic)?_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.topic))]):_vm._e(),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.type)+\" | \"+_vm._s(_vm.section.units)+\" units\")]),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.instructors))]),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.dates))]),_vm._l((_vm.section.meetings),function(meeting,idx){return _c('div',{key:idx,staticClass:\"m-color\"},[_vm._v(\" \"+_vm._s(meeting.days)+\" @ \"),(_vm.formatLocationURL(meeting.room))?_c('a',{attrs:{\"href\":_vm.formatLocationURL(meeting.room),\"target\":\"_blank\"}},[_vm._v(_vm._s(meeting.room)+\" \")]):[_vm._v(\" \"+_vm._s(meeting.room)+\" \")]],2)}),_c('div',{staticClass:\"m-color\"},[_vm._v(\" Status: \"+_vm._s(_vm.section.status)+\" | Enrolled: \"+_vm._s(_vm.section.enrollment)+\" | Capacity: \"+_vm._s(_vm.section.enrollment_limit)+\" | Wait List: \"+_vm._s(_vm.section.wait_list)+\" \")]),_c('br'),_c('div',[_vm._v(_vm._s(_vm.section.description))]),_c('hr'),_c('h6',[_vm._v(\"External Links:\")]),(_vm.semester)?_c('div',{staticClass:\"mt-2\"},_vm._l((_vm.links),function(item){return _c('button',{key:item.name,staticClass:\"btn btn-outline-info mr-2 mb-2\",on:{\"click\":function($event){return item.action(_vm.semester, _vm.section)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0):_vm._e()],2)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { modalLinks } from '@/config';\nimport { SemesterJSON } from '@/models/Catalog';\nimport Section from '@/models/Section';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * Component for displaying detailed information of a single Section\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class SectionModal extends Vue {\n    get links() {\n        return modalLinks.section;\n    }\n    @Prop(Section) readonly section!: Section;\n    @Prop(Object) readonly semester!: SemesterJSON;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./SectionModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./SectionModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SectionModal.vue?vue&type=template&id=77ad6739&\"\nimport script from \"./SectionModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./SectionModal.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./SectionModal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"url-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"url-text\",\"rows\":\"10\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary px-3 mt-3\",attrs:{\"id\":\"copy-url-btn\",\"data-toggle\":\"popover\",\"data-content\":\"success\"},on:{\"click\":function($event){return _vm.copy()}}},[_vm._v(\" Copy \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h4',{staticClass:\"modal-title\"},[_vm._v(\"URL Sharing\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport 'bootstrap';\nimport $ from 'jquery';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying and copying URL created by [[ExportView]]\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class URLModal extends Vue {\n    @Prop(String) readonly url!: string;\n\n    handler = -1;\n\n    copy() {\n        const box = document.getElementById('url-text') as HTMLTextAreaElement;\n        const pop = $('#copy-url-btn');\n        box.focus();\n        box.select();\n        const succ = document.execCommand('copy');\n\n        if (!succ) console.error('unsuccessful copy');\n        else pop.popover('show');\n\n        window.clearTimeout(this.handler);\n        this.handler = window.setTimeout(() => pop.popover('dispose'), 2000);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./URLModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./URLModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./URLModal.vue?vue&type=template&id=ae47dd88&\"\nimport script from \"./URLModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./URLModal.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"versionModal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\" Welcome to release v\"+_vm._s(_vm.version)+\" \")]),_vm._m(0)]),_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":require(\"../../assets/cover.jpg\"),\"alt\":\"cover.jpg\"}}),_c('div',{staticClass:\"mx-4 my-4\",attrs:{\"id\":\"release-note-body\"}},[_vm._v(\" Loading release note... \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying version information\n * @author Kaiying Shan\n * @noInheritDoc\n */\n@Component\nexport default class VersionModal extends Vue {\n    @Prop(String) readonly version!: string;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./VersionModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./VersionModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VersionModal.vue?vue&type=template&id=2ec078b3&\"\nimport script from \"./VersionModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./VersionModal.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * Script for loading building list and distance (time) matrix\n * @author Hanzhi Zhou\n * @module src/data\n */\n\n/**\n *\n */\nimport Expirable from './Expirable';\nimport { fallback, loadFromCache } from './Loader';\nimport { dataend } from '@/config';\n\nexport interface TimeMatrixJSON extends Expirable {\n    timeMatrix: number[];\n}\n\nexport interface BuildingListJSON extends Expirable {\n    buildingList: string[];\n}\n\nexport function setupTimeMatrix(timeMatrix: Int32Array) {\n    const M = window.NativeModule;\n    const ptr = M._malloc(timeMatrix.byteLength);\n    M.HEAP32.set(timeMatrix, ptr / 4);\n    M._setTimeMatrix(ptr, timeMatrix.length ** 0.5);\n}\n\n/**\n * Try to load the walking time matrix between buildings from localStorage.\n * If it expires or does not exist,\n * load a fresh one from the data backend and store it in localStorage.\n *\n * storage key: \"timeMatrix\"\n */\nexport function loadTimeMatrix(force = false) {\n    return fallback(\n        loadFromCache<Int32Array, TimeMatrixJSON>(\n            'timeMatrix',\n            dataend.distances,\n            x => Int32Array.from(x.timeMatrix),\n            {\n                expireTime: 1000 * 86400,\n                force,\n                store(x) {\n                    localStorage.setItem(\n                        'timeMatrix',\n                        JSON.stringify({\n                            modified: new Date(),\n                            timeMatrix: Array.from(x)\n                        })\n                    );\n                    return x;\n                }\n            }\n        ),\n        {\n            succMsg: 'Walking distance matrix loaded',\n            warnMsg: x => `Failed to load walking distance matrix: ${x}. Old data is used instead`,\n            errMsg: x => `Failed to load walking distance matrix: ${x}. `,\n            timeoutTime: 10000\n        }\n    );\n}\n\n/**\n * Try to load the array of the names of buildings from localStorage.\n * If it expires or does not exist,\n * load a fresh one from the data backend and store it in localStorage.\n *\n * storage key: \"buildingList\"\n */\nexport function loadBuildingSearcher(force = false) {\n    return fallback(\n        loadFromCache<string[], BuildingListJSON>(\n            'buildingList',\n            dataend.buildings,\n            x => x.buildingList,\n            {\n                expireTime: 1000 * 86400,\n                force\n            }\n        ),\n        {\n            succMsg: 'Building list loaded',\n            warnMsg: x => `Failed to load building list: ${x}. Old data is used instead`,\n            errMsg: x => `Failed to load building list: ${x}. `,\n            timeoutTime: 10000\n        }\n    );\n}\n","/**\n * the \"view\" of this project; the root Vue component that contains almost all of the child components and DOM\n * elements of the main webpage.\n * @module src/App\n * @author Hanzhi Zhou, Kaiying Shan, Elena Long, Zichao Hu\n */\n\n/**\n *\n */\nimport { Component } from 'vue-property-decorator';\nimport MainContent from './components/MainContent.vue';\n\n// tab components\nimport ClassView from './components/tabs/ClassView.vue';\nimport CompareView from './components/tabs/CompareView.vue';\nimport DisplayView from './components/tabs/DisplayView.vue';\nimport EventView from './components/tabs/EventView.vue';\nimport ExportView from './components/tabs/ExportView.vue';\nimport External from './components/tabs/External.vue';\nimport FilterView from './components/tabs/FilterView.vue';\nimport PaletteView from './components/tabs/PaletteView.vue';\nimport FuzzyView from './components/tabs/FuzzyView.vue';\nimport LogView from './components/tabs/LogView.vue';\n\n// other components\nimport DateSeparator from './components/DateSeparator.vue';\nimport GridSchedule from './components/GridSchedule.vue';\nimport Pagination from './components/Pagination.vue';\n\n// modals\nimport CourseModal from './components/modals/CourseModal.vue';\nimport SectionModal from './components/modals/SectionModal.vue';\nimport URLModal from './components/modals/URLModal.vue';\nimport VersionModal from './components/modals/VersionModal.vue';\n\nimport randomColor from 'randomcolor';\nimport { loadBuildingSearcher, loadTimeMatrix, setupTimeMatrix } from './data/BuildingLoader';\nimport Store, { parseFromURL } from './store';\nimport GeneratedSchedule from './models/GeneratedSchedule';\nimport { backend, runningOnElectron, version } from './config';\nimport axios from 'axios';\nimport { FastSearcher } from './algorithm/Searcher';\nimport Dexie from 'dexie';\n\n/** whether the version stored in localStorage matches the current version */\nconst match = localStorage.getItem('version') === version;\n// then, override localStorage with the current version\nlocalStorage.setItem('version', version);\n\n@Component({\n    components: {\n        MainContent,\n        ClassView,\n        EventView,\n        DisplayView,\n        FilterView,\n        PaletteView,\n        ExportView,\n        CompareView,\n        External,\n        FuzzyView,\n        LogView,\n        // use dynamic component for this one because it is relatively large in size\n        Information: () => import('./components/tabs/Information.vue'),\n\n        Pagination,\n        GridSchedule,\n        DateSeparator,\n\n        SectionModal,\n        CourseModal,\n        URLModal,\n        VersionModal\n    }\n})\nexport default class App extends Store {\n    get sideBar() {\n        return this.status.sideBar;\n    }\n\n    get version() {\n        return version;\n    }\n\n    get showInformation() {\n        return !runningOnElectron;\n    }\n\n    async loadConfigFromURL(search: URLSearchParams) {\n        const encoded = search.get('config');\n\n        if (encoded) {\n            try {\n                await this.profile.addProfile(await parseFromURL(encoded), 'url loaded');\n                await this.loadProfile(!match);\n                this.noti.success('Configuration loaded from URL!', 3, true);\n                return true;\n            } catch (err) {\n                console.error(err);\n                this.noti.error(err.message + ': Parsing error');\n            }\n        }\n        return false;\n    }\n\n    async created() {\n        // for debugging purpose\n        if (process.env.NODE_ENV === 'development') {\n            (window as any).axios = axios;\n            (window as any).vue = this;\n        }\n\n        window.NativeModule = await window.GetNative();\n\n        this.status.loading = true;\n        const search = new URLSearchParams(window.location.search);\n\n        if (search.get('auth') === backend.name) {\n            return this.profile.loginBackend();\n        }\n        if (search.get('error')) {\n            // failed to get auth code\n            this.noti.error(`Failed to login: ${search.get('error_description')}`);\n        }\n        if (!match) {\n            this.modal.showReleaseNoteModal();\n        }\n\n        // clear url after obtained url params\n        history.replaceState(history.state, 'current', '/');\n\n        console.time('load network');\n        // note: these can be executed in parallel, i.e. they are not inter-dependent\n        // eslint-disable-next-line prefer-const\n        let [pay1, pay2, pay3, pay4, authResult] = await Promise.all([\n            loadTimeMatrix(),\n            loadBuildingSearcher(),\n            this.semester.loadSemesters(),\n            this.profile.syncProfiles(),\n            this.profile.getBackendToken(search.get('code'))\n        ]);\n\n        // check if auth is successful. If success, sync profiles immediately.\n        if (authResult) {\n            this.profile.loadToken();\n            pay4 = await this.profile.syncProfiles();\n        }\n        console.timeEnd('load network');\n        if (pay4.level !== 'warn') this.noti.notify(pay4);\n\n        this.noti.notify(pay1);\n        if (pay1.payload) setupTimeMatrix((window.timeMatrix = pay1.payload));\n\n        this.noti.notify(pay2);\n        if (pay2.payload) window.buildingSearcher = new FastSearcher(pay2.payload);\n\n        this.noti.notify(pay3);\n        if (pay3.payload) {\n            this.semester.semesters = pay3.payload;\n            if (!match) { // delete all previous semester data if version mismatch\n                await Promise.all(this.semester.semesters.map(sem => Dexie.delete(`db_${sem.id}`)));\n            }\n            const urlResult = await this.loadConfigFromURL(search);\n            if (!urlResult) {\n                this.profile.initProfiles(this.semester.semesters);\n                // if version mismatch, force-update semester data\n                await this.loadProfile(!match);\n            }\n        }\n        this.status.loading = false;\n    }\n    /**\n     * @returns return the index of current schedule in compares array.\n     *          return -1 if current schedule is not in compares.\n     */\n    indexOfCompare() {\n        return this.compare.findIndex(c => c.schedule.equals(this.schedule.currentSchedule));\n    }\n\n    /**\n     * @note compare button will be shown iff in generated mode, so currentSchedule must be a GeneratedSchedule\n     */\n    addToCompare() {\n        const idx = this.indexOfCompare();\n        if (idx !== -1) {\n            this.compare.splice(idx, 1);\n        } else {\n            const color = randomColor({ luminosity: 'dark' });\n            this.compare.push({\n                schedule: this.schedule.currentSchedule as GeneratedSchedule,\n                profileName: this.profile.current,\n                index: this.schedule.currentScheduleIndex,\n                color,\n                pIdx: this.schedule.cpIndex\n            });\n        }\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/eslint-loader/index.js??ref--13-0!./App.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/eslint-loader/index.js??ref--13-0!./App.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=aa0a7e06&\"\nimport script from \"./App.ts?vue&type=script&lang=ts&\"\nexport * from \"./App.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport colorSchemes from '@/data/ColorSchemes';\nimport Schedule from '@/models/Schedule';\nimport { Component, Watch } from 'vue-property-decorator';\nimport Store from '.';\n/**\n * the watch factory defines some watchers on the members in `Store`.\n * these watchers are defined outside of the `Store` class because they should only be registered once.\n * @author Hanzhi Zhou\n */\n@Component\nexport default class WatchFactory extends Store {\n    @Watch('status.loading')\n    loadingWatch() {\n        if (this.status.loading) {\n            if (this.noti.empty()) {\n                this.noti.info('Loading...');\n            }\n        } else {\n            if (this.noti.msg === 'Loading...') {\n                this.noti.clear();\n            }\n        }\n    }\n\n    @Watch('display.multiSelect')\n    private w0() {\n        Schedule.multiSelect = this.display.multiSelect;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('display.combineSections')\n    private a() {\n        Schedule.combineSections = this.display.combineSections;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('display.colorScheme')\n    private e() {\n        Schedule.colors = colorSchemes[this.display.colorScheme].colors;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('palette.savedColors', { deep: true })\n    private b() {\n        Schedule.savedColors = this.palette.savedColors;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('profile.current')\n    private c() {\n        localStorage.setItem('currentProfile', this.profile.current);\n    }\n\n    @Watch('profile.profiles', { deep: true })\n    private d() {\n        localStorage.setItem('profiles', JSON.stringify(this.profile.profiles));\n    }\n\n    // cannot watch schedules because it is too costly\n    // @Watch('schedule', { deep: true })\n    // private w1() {\n    //     this.saveStatus();\n    // }\n\n    @Watch('display', { deep: true })\n    private w2() {\n        this.saveStatus();\n    }\n\n    @Watch('filter', { deep: true })\n    private w3() {\n        this.saveStatus();\n    }\n\n    @Watch('palette', { deep: true })\n    private w4() {\n        this.saveStatus();\n    }\n}\n","/**\n * the entry point of our project\n * @module src/main\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport Vue from 'vue';\nimport ScheduleEvaluator from './algorithm/ScheduleEvaluator';\nimport Catalog from './models/Catalog';\nimport { highlightMatch } from './utils';\nimport { FastSearcher } from './algorithm/Searcher';\nimport App from './App.vue';\nimport axios from 'axios';\nimport WatchFactory from './store/watch';\nimport { saveStatus } from './store';\nimport { formatLocationURL } from './config';\n\naxios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\naxios.defaults.xsrfCookieName = 'csrftoken';\n\n// denote the pointer type, though it is just an integer in JS\ntype Ptr = number;\n\ndeclare global {\n    // ! for parameter meaning, refer to the cpp files in src/algorithm\n    interface EMModule {\n        _malloc(size: number): Ptr;\n\n        // ------------ APIs of Renderer.cpp --------------------------------------\n        _setOptions(...a: number[]): void;\n        _getSum(): number;\n        _getSumSq(): number;\n        _compute(a: Ptr, b: number): Ptr;\n        // ------------------------------------------------------------------------\n\n        // ------------ APIs of ScheduleGenerator.cpp -----------------------------\n        _generate(a: number, b: number, c: Ptr, d: Ptr, e: Ptr): number;\n        _setSortOption: any;\n        _setSortMode(a: number): void;\n        _sort(): void;\n        _size(): number;\n        _setTimeMatrix(a: Ptr, b: number): void;\n        _getSchedule(a: number): Ptr;\n        _getRange(a: number): number;\n        _setRefSchedule(a: Ptr): number;\n        // ------------------------------------------------------------------------\n\n        // ------------ APIs of Searcher.cpp --------------------------------------\n        _getSearcher(stringArr: Ptr, N: number): Ptr;\n        _sWSearch(a: Ptr, b: Ptr, c: number, d: number, e: number): Ptr;\n        _getMatches(a: Ptr, b: number): Ptr;\n        _getMatchSize(a: Ptr, b: number): number;\n        _getScore(a: Ptr, b: number): number;\n        _findBestMatch(a: Ptr, b: Ptr): number;\n        // ------------------------------------------------------------------------\n\n        onRuntimeInitialized(): void;\n        stringToUTF8(str: string, outPtr: Ptr, maxBytesToWrite: number): void;\n        HEAP8: Int8Array;\n        HEAP16: Int16Array;\n        HEAP32: Int32Array;\n        HEAPU8: Uint8Array;\n        HEAPU16: Uint16Array;\n        HEAPU32: Uint32Array;\n        HEAPF32: Float32Array;\n        HEAPF64: Float64Array;\n    }\n\n    interface Window {\n        scheduleEvaluator: ScheduleEvaluator;\n        catalog: Readonly<Catalog>;\n        timeMatrix: Readonly<Int32Array>;\n        buildingSearcher: FastSearcher<string>;\n        watchers: WatchFactory;\n        saveStatus: typeof saveStatus;\n        NativeModule: EMModule;\n        GetNative(): Promise<EMModule>;\n    }\n\n    // copied from https://www.typescriptlang.org/docs/handbook/advanced-types.html\n    type NonFunctionPropertyNames<T> = {\n        [K in keyof T]: T[K] extends (...x: any[]) => any ? never : K;\n    }[keyof T];\n    type NonFunctionProperties<T> = Pick<T, NonFunctionPropertyNames<T>>;\n}\n\ndeclare module 'vue/types/vue' {\n    // Declare augmentation for Vue\n    interface Vue {\n        highlightMatch: typeof highlightMatch;\n        formatLocationURL: typeof formatLocationURL;\n    }\n}\n\nVue.directive('top', {\n    // When the bound element is inserted into the DOM...\n    inserted() {\n        // scroll to top\n        window.scrollTo(0, 0);\n    }\n});\n\nVue.config.productionTip = false;\nVue.config.devtools = true;\nVue.prototype.highlightMatch = highlightMatch;\nVue.prototype.formatLocationURL = formatLocationURL;\n\nwindow.saveStatus = saveStatus;\nwindow.watchers = new WatchFactory();\n\nnew Vue({\n    render(h) {\n        // const matchingView = routes[this.currentRoute];\n        // const component = matchingView ? matchingView : HomePage;\n        return h(App);\n    }\n}).$mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainContent.vue?vue&type=style&index=0&id=7b9bb0fd&scoped=true&lang=css&\""],"sourceRoot":""}